<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basic Examples · PowerPlots</title><meta name="title" content="Basic Examples · PowerPlots"/><meta property="og:title" content="Basic Examples · PowerPlots"/><meta property="twitter:title" content="Basic Examples · PowerPlots"/><meta name="description" content="Documentation for PowerPlots."/><meta property="og:description" content="Documentation for PowerPlots."/><meta property="twitter:description" content="Documentation for PowerPlots."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="PowerPlots logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PowerPlots</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li class="is-active"><a class="tocitem" href>Basic Examples</a><ul class="internal"><li><a class="tocitem" href="#Initialize"><span>Initialize</span></a></li><li><a class="tocitem" href="#Default-Plot"><span>Default Plot</span></a></li><li><a class="tocitem" href="#Change-Plot-Size"><span>Change Plot Size</span></a></li><li><a class="tocitem" href="#Modify-Colors"><span>Modify Colors</span></a></li><li><a class="tocitem" href="#Modify-Component-Size"><span>Modify Component Size</span></a></li><li class="toplevel"><a class="tocitem" href="#Visualizing-System-Data"><span>Visualizing System Data</span></a></li><li><a class="tocitem" href="#Color-Ranges"><span>Color Ranges</span></a></li><li><a class="tocitem" href="#Color-Schemes"><span>Color Schemes</span></a></li><li class="toplevel"><a class="tocitem" href="#Specify-components-for-plotting"><span>Specify components for plotting</span></a></li><li class="toplevel"><a class="tocitem" href="#Power-Flow"><span>Power Flow</span></a></li><li class="toplevel"><a class="tocitem" href="#Filter-Hover-Text"><span>Filter Hover Text</span></a></li><li class="toplevel"><a class="tocitem" href="#Multinetworks"><span>Multinetworks</span></a></li><li class="toplevel"><a class="tocitem" href="#Distribution-Grids"><span>Distribution Grids</span></a></li><li class="toplevel"><a class="tocitem" href="#File-output"><span>File output</span></a></li></ul></li><li><a class="tocitem" href="../advanced examples/">Advanced Examples</a></li></ul></li><li><a class="tocitem" href="../../parameters/">Parameters</a></li><li><span class="tocitem">Data Transformations</span><ul><li><a class="tocitem" href="../../data_transformations/powermodelsdataframes/">PowerModels Dictionary to DataFrame Conversion</a></li><li><a class="tocitem" href="../../data_transformations/powermodelsgraphs/">PowerModelsGraph</a></li><li><a class="tocitem" href="../../data_transformations/layouts/">Layouts</a></li></ul></li><li><a class="tocitem" href="../../experimental/">Experimental Features</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Basic Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Basic Examples</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/WISPO-POP/PowerPlots.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/WISPO-POP/PowerPlots.jl/blob/master/docs/src/examples/basic examples.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Basic-Examples"><a class="docs-heading-anchor" href="#Basic-Examples">Basic Examples</a><a id="Basic-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Examples" title="Permalink"></a></h1><p>Simple examples for setting the data visualization and changing the color or size of components.</p><h2 id="Initialize"><a class="docs-heading-anchor" href="#Initialize">Initialize</a><a id="Initialize-1"></a><a class="docs-heading-anchor-permalink" href="#Initialize" title="Permalink"></a></h2><pre><code class="language-julia hljs">using PowerPlots, PowerModels
data = parse_file(&quot;$(joinpath(dirname(pathof(PowerModels)), &quot;..&quot;))/test/data/matpower/case5.m&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{String, Any} with 13 entries:
  &quot;bus&quot;            =&gt; Dict{String, Any}(&quot;4&quot;=&gt;Dict{String, Any}(&quot;zone&quot;=&gt;1, &quot;bus_…
  &quot;source_type&quot;    =&gt; &quot;matpower&quot;
  &quot;name&quot;           =&gt; &quot;case5&quot;
  &quot;dcline&quot;         =&gt; Dict{String, Any}()
  &quot;source_version&quot; =&gt; &quot;2&quot;
  &quot;gen&quot;            =&gt; Dict{String, Any}(&quot;4&quot;=&gt;Dict{String, Any}(&quot;pg&quot;=&gt;0.0, &quot;mode…
  &quot;branch&quot;         =&gt; Dict{String, Any}(&quot;4&quot;=&gt;Dict{String, Any}(&quot;br_r&quot;=&gt;0.00108,…
  &quot;storage&quot;        =&gt; Dict{String, Any}()
  &quot;switch&quot;         =&gt; Dict{String, Any}()
  &quot;baseMVA&quot;        =&gt; 100.0
  &quot;per_unit&quot;       =&gt; true
  &quot;shunt&quot;          =&gt; Dict{String, Any}()
  &quot;load&quot;           =&gt; Dict{String, Any}(&quot;1&quot;=&gt;Dict{String, Any}(&quot;source_id&quot;=&gt;Any…</code></pre><h2 id="Default-Plot"><a class="docs-heading-anchor" href="#Default-Plot">Default Plot</a><a id="Default-Plot-1"></a><a class="docs-heading-anchor-permalink" href="#Default-Plot" title="Permalink"></a></h2><pre><code class="language-julia hljs">powerplot(data)</code></pre><div id='vl3048e0c5a894489cb44874550393917a' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl3048e0c5a894489cb44874550393917a',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"zone"},{"field":"xcoord_1"},{"field":"bus_i"},{"field":"bus_type"},{"field":"vmax"},{"field":"ComponentType"},{"field":"source_id"},{"field":"area"},{"field":"vmin"},{"field":"index"},{"field":"va"},{"field":"vm"},{"field":"ycoord_1"},{"field":"base_kv"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"model"},{"field":"shutdown"},{"field":"xcoord_1"},{"field":"startup"},{"field":"qg"},{"field":"gen_bus"},{"field":"pmax"},{"field":"ComponentType"},{"field":"vg"},{"field":"mbase"},{"field":"source_id"},{"field":"index"},{"field":"cost"},{"field":"qmax"},{"field":"gen_status"},{"field":"qmin"},{"field":"ycoord_1"},{"field":"pmin"},{"field":"ncost"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"source_id"},{"field":"ComponentType"},{"field":"load_bus"},{"field":"status"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"qd"},{"field":"pd"},{"field":"index"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h2 id="Change-Plot-Size"><a class="docs-heading-anchor" href="#Change-Plot-Size">Change Plot Size</a><a id="Change-Plot-Size-1"></a><a class="docs-heading-anchor-permalink" href="#Change-Plot-Size" title="Permalink"></a></h2><pre><code class="language-julia hljs">powerplot(data; width=300, height=300)</code></pre><div id='vlc7b6a4fcc62c46199c3141554d5a57ae' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlc7b6a4fcc62c46199c3141554d5a57ae',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"zone"},{"field":"xcoord_1"},{"field":"bus_i"},{"field":"bus_type"},{"field":"vmax"},{"field":"ComponentType"},{"field":"source_id"},{"field":"area"},{"field":"vmin"},{"field":"index"},{"field":"va"},{"field":"vm"},{"field":"ycoord_1"},{"field":"base_kv"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"model"},{"field":"shutdown"},{"field":"xcoord_1"},{"field":"startup"},{"field":"qg"},{"field":"gen_bus"},{"field":"pmax"},{"field":"ComponentType"},{"field":"vg"},{"field":"mbase"},{"field":"source_id"},{"field":"index"},{"field":"cost"},{"field":"qmax"},{"field":"gen_status"},{"field":"qmin"},{"field":"ycoord_1"},{"field":"pmin"},{"field":"ncost"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"source_id"},{"field":"ComponentType"},{"field":"load_bus"},{"field":"status"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"qd"},{"field":"pd"},{"field":"index"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h2 id="Modify-Colors"><a class="docs-heading-anchor" href="#Modify-Colors">Modify Colors</a><a id="Modify-Colors-1"></a><a class="docs-heading-anchor-permalink" href="#Modify-Colors" title="Permalink"></a></h2><p>The colors of the components can be set, using simple keywords. Any valid <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value">CSS color</a> can be used. If a single color is used, the component will not change color based on system data.  See <a href="#Color-Ranges">Color Ranges</a> for how to use multiple colors.</p><pre><code class="language-julia hljs">powerplot(data; bus=(:color=&gt;&quot;orange&quot;),
                gen=(:color=&gt;:purple),
                branch=(:color=&gt;&quot;#AFAFAF&quot;),
                load=(:color=&gt;:black),
                width=300, height=300)</code></pre><div id='vl881bf0da46e0438a9ff99bd66ad04753' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl881bf0da46e0438a9ff99bd66ad04753',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#AFAFAF"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"zone"},{"field":"xcoord_1"},{"field":"bus_i"},{"field":"bus_type"},{"field":"vmax"},{"field":"ComponentType"},{"field":"source_id"},{"field":"area"},{"field":"vmin"},{"field":"index"},{"field":"va"},{"field":"vm"},{"field":"ycoord_1"},{"field":"base_kv"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["orange"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"model"},{"field":"shutdown"},{"field":"xcoord_1"},{"field":"startup"},{"field":"qg"},{"field":"gen_bus"},{"field":"pmax"},{"field":"ComponentType"},{"field":"vg"},{"field":"mbase"},{"field":"source_id"},{"field":"index"},{"field":"cost"},{"field":"qmax"},{"field":"gen_status"},{"field":"qmin"},{"field":"ycoord_1"},{"field":"pmin"},{"field":"ncost"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["purple"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"source_id"},{"field":"ComponentType"},{"field":"load_bus"},{"field":"status"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"qd"},{"field":"pd"},{"field":"index"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["black"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h2 id="Modify-Component-Size"><a class="docs-heading-anchor" href="#Modify-Component-Size">Modify Component Size</a><a id="Modify-Component-Size-1"></a><a class="docs-heading-anchor-permalink" href="#Modify-Component-Size" title="Permalink"></a></h2><p>The size of components can be set similarly.  A good size for node devices is typically around 100x larger than edge devices.</p><pre><code class="language-julia hljs">powerplot(data, bus=(:size=&gt;1000), gen=(:size=&gt;100),
    load=(:size=&gt;200), branch=(:size=&gt;2), connector=(:size=&gt;10))</code></pre><div id='vl39578974a9744f729701a063d1dfb503' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl39578974a9744f729701a063d1dfb503',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"value":2},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":10},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"zone"},{"field":"xcoord_1"},{"field":"bus_i"},{"field":"bus_type"},{"field":"vmax"},{"field":"ComponentType"},{"field":"source_id"},{"field":"area"},{"field":"vmin"},{"field":"index"},{"field":"va"},{"field":"vm"},{"field":"ycoord_1"},{"field":"base_kv"}],"size":{"value":1000},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"model"},{"field":"shutdown"},{"field":"xcoord_1"},{"field":"startup"},{"field":"qg"},{"field":"gen_bus"},{"field":"pmax"},{"field":"ComponentType"},{"field":"vg"},{"field":"mbase"},{"field":"source_id"},{"field":"index"},{"field":"cost"},{"field":"qmax"},{"field":"gen_status"},{"field":"qmin"},{"field":"ycoord_1"},{"field":"pmin"},{"field":"ncost"}],"size":{"value":100},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"source_id"},{"field":"ComponentType"},{"field":"load_bus"},{"field":"status"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"qd"},{"field":"pd"},{"field":"index"}],"size":{"value":200},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Visualizing-System-Data"><a class="docs-heading-anchor" href="#Visualizing-System-Data">Visualizing System Data</a><a id="Visualizing-System-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Visualizing-System-Data" title="Permalink"></a></h1><p>Component data values from the PowerModels dictionary can be plotted by specifying the dictionary key. The key can be either a string or a symbol.  The data type can be <code>:ordinal</code>, <code>:nominal</code>, or <code>:quantitative</code>.</p><pre><code class="language-julia hljs">p = powerplot(data, bus    = (:data=&gt;&quot;bus_type&quot;, :data_type=&gt;&quot;nominal&quot;),
                    branch = (:data=&gt;&quot;index&quot;, :data_type=&gt;&quot;ordinal&quot;),
                    gen    = (:data=&gt;&quot;pmax&quot;, :data_type=&gt;&quot;quantitative&quot;),
                    load   = (:data=&gt;&quot;pd&quot;,  :data_type=&gt;&quot;quantitative&quot;),
                    width = 300, height=300
)</code></pre><div id='vlb14ca2705bc244f992b28e0e83b2dc28' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlb14ca2705bc244f992b28e0e83b2dc28',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"value":5},"color":{"field":"index","type":"ordinal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"zone"},{"field":"xcoord_1"},{"field":"bus_i"},{"field":"bus_type"},{"field":"vmax"},{"field":"ComponentType"},{"field":"source_id"},{"field":"area"},{"field":"vmin"},{"field":"index"},{"field":"va"},{"field":"vm"},{"field":"ycoord_1"},{"field":"base_kv"}],"size":{"value":500.0},"color":{"field":"bus_type","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"model"},{"field":"shutdown"},{"field":"xcoord_1"},{"field":"startup"},{"field":"qg"},{"field":"gen_bus"},{"field":"pmax"},{"field":"ComponentType"},{"field":"vg"},{"field":"mbase"},{"field":"source_id"},{"field":"index"},{"field":"cost"},{"field":"qmax"},{"field":"gen_status"},{"field":"qmin"},{"field":"ycoord_1"},{"field":"pmin"},{"field":"ncost"}],"size":{"value":500.0},"color":{"field":"pmax","type":"quantitative","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"source_id"},{"field":"ComponentType"},{"field":"load_bus"},{"field":"status"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"qd"},{"field":"pd"},{"field":"index"}],"size":{"value":500.0},"color":{"field":"pd","type":"quantitative","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h2 id="Color-Ranges"><a class="docs-heading-anchor" href="#Color-Ranges">Color Ranges</a><a id="Color-Ranges-1"></a><a class="docs-heading-anchor-permalink" href="#Color-Ranges" title="Permalink"></a></h2><p>Color ranges are automatically interpolated from a range that is provided.  If only a single color is given, the component will not change color based on the data.</p><pre><code class="language-julia hljs">p = powerplot(data, width=300, height=300,
    gen=(:data=&gt;&quot;pmax&quot;, :data_type=&gt;&quot;quantitative&quot;, :color=&gt;[&quot;#232323&quot;,&quot;#AAFAFA&quot;]),
)</code></pre><div id='vl99a4cd0eb33e4b1eba55cf0745726b08' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl99a4cd0eb33e4b1eba55cf0745726b08',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"zone"},{"field":"xcoord_1"},{"field":"bus_i"},{"field":"bus_type"},{"field":"vmax"},{"field":"ComponentType"},{"field":"source_id"},{"field":"area"},{"field":"vmin"},{"field":"index"},{"field":"va"},{"field":"vm"},{"field":"ycoord_1"},{"field":"base_kv"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"model"},{"field":"shutdown"},{"field":"xcoord_1"},{"field":"startup"},{"field":"qg"},{"field":"gen_bus"},{"field":"pmax"},{"field":"ComponentType"},{"field":"vg"},{"field":"mbase"},{"field":"source_id"},{"field":"index"},{"field":"cost"},{"field":"qmax"},{"field":"gen_status"},{"field":"qmin"},{"field":"ycoord_1"},{"field":"pmin"},{"field":"ncost"}],"size":{"value":500.0},"color":{"field":"pmax","type":"quantitative","title":"Gen","scale":{"range":["#232323","#AAFAFA"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"source_id"},{"field":"ComponentType"},{"field":"load_bus"},{"field":"status"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"qd"},{"field":"pd"},{"field":"index"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h2 id="Color-Schemes"><a class="docs-heading-anchor" href="#Color-Schemes">Color Schemes</a><a id="Color-Schemes-1"></a><a class="docs-heading-anchor-permalink" href="#Color-Schemes" title="Permalink"></a></h2><p>Color schemes from the package <code>ColorSchemes.jl</code> can also be used to specify a color range.</p><pre><code class="language-julia hljs">using ColorSchemes
p = powerplot(data, width=300, height=300,
    gen=(
        :data=&gt;&quot;pmax&quot;, :data_type=&gt;&quot;quantitative&quot;,
        :color=&gt;colorscheme2array(ColorSchemes.colorschemes[:summer])
    ),
)</code></pre><div id='vl0bde79ad86e842d9b2f3b077fa08aeeb' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl0bde79ad86e842d9b2f3b077fa08aeeb',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"zone"},{"field":"xcoord_1"},{"field":"bus_i"},{"field":"bus_type"},{"field":"vmax"},{"field":"ComponentType"},{"field":"source_id"},{"field":"area"},{"field":"vmin"},{"field":"index"},{"field":"va"},{"field":"vm"},{"field":"ycoord_1"},{"field":"base_kv"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"model"},{"field":"shutdown"},{"field":"xcoord_1"},{"field":"startup"},{"field":"qg"},{"field":"gen_bus"},{"field":"pmax"},{"field":"ComponentType"},{"field":"vg"},{"field":"mbase"},{"field":"source_id"},{"field":"index"},{"field":"cost"},{"field":"qmax"},{"field":"gen_status"},{"field":"qmin"},{"field":"ycoord_1"},{"field":"pmin"},{"field":"ncost"}],"size":{"value":500.0},"color":{"field":"pmax","type":"quantitative","title":"Gen","scale":{"range":["#008066","#038166","#058266","#088366","#0A8566","#0D8666","#0F8766","#128866","#148A66","#178B66","#1A8C66","#1C8E66","#1F8F66","#219066","#249166","#269366","#299466","#2B9566","#2E9666","#309866","#339966","#369A66","#389C66","#3B9D66","#3D9E66","#409F66","#42A166","#45A266","#47A366","#4AA466","#4CA666","#4FA766","#52A866","#54AA66","#57AB66","#59AC66","#5CAD66","#5EAF66","#61B066","#63B166","#66B266","#69B466","#6BB566","#6EB666","#70B866","#73B966","#75BA66","#78BB66","#7ABD66","#7DBE66","#80BF66","#82C166","#85C266","#87C366","#8AC466","#8CC666","#8FC766","#91C866","#94C966","#96CB66","#99CC66","#9CCD66","#9ECF66","#A1D066","#A3D166","#A6D266","#A8D466","#ABD566","#ADD666","#B0D766","#B2D966","#B5DA66","#B8DB66","#BADD66","#BDDE66","#BFDF66","#C2E066","#C4E266","#C7E366","#C9E466","#CCE666","#CFE766","#D1E866","#D4E966","#D6EB66","#D9EC66","#DBED66","#DEEE66","#E0F066","#E3F166","#E6F266","#E8F466","#EBF566","#EDF666","#F0F766","#F2F966","#F5FA66","#F7FB66","#FAFC66","#FCFE66","#FFFF66"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"source_id"},{"field":"ComponentType"},{"field":"load_bus"},{"field":"status"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"qd"},{"field":"pd"},{"field":"index"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Specify-components-for-plotting"><a class="docs-heading-anchor" href="#Specify-components-for-plotting">Specify components for plotting</a><a id="Specify-components-for-plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Specify-components-for-plotting" title="Permalink"></a></h1><p>Default supported components for plotting are specified as:</p><pre><code class="language-julia hljs">default_connected_types</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">7-element Vector{Symbol}:
 :gen
 :load
 :storage
 :generator
 :voltage_source
 :solar
 :shunt</code></pre><pre><code class="language-julia hljs">default_node_types</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1-element Vector{Symbol}:
 :bus</code></pre><pre><code class="language-julia hljs">default_edge_types</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">5-element Vector{Symbol}:
 :branch
 :dcline
 :switch
 :transformer
 :line</code></pre><p>By default, any of these components found in the data dictionary will be plotted.  However, it is possible to plot a subset of the components using the <code>components</code> keywords.  Here we plot only the buses and branches, and we do not plot the loads or generators.</p><pre><code class="language-julia hljs">powerplot(data;
    edge_components=[&quot;branch&quot;],
    node_components=[:bus],
    connected_components=[],
    width=300, height=300)</code></pre><div id='vla4c8d250d5f34669aadaccdb6dfcc623' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vla4c8d250d5f34669aadaccdb6dfcc623',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":-0.9575262245596577,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":-0.7979713138976076,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":-0.5706599520603349,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.21343694751008677,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.05411711986348552,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.21343694751008677,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":-0.9575262245596577,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.6002781885097851,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.5527923936353215,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.4576289007119507,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":0.45877459058115794,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.8446698187551374,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.05411711986348552,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.4109303958544209,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":0.4409070321561446,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.6002781885097851,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.5885275104853483,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.36423189099689113,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":0.4230394737311312,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.7512728090400778,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.4409070321561446,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":0.39518657373215743,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":1.0331620246003559,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.4109303958544209,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.05411711986348552,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":0.39518657373215743,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":1.0331620246003559,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.6002781885097851,"tap":1.0}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"data":{"values":[{"zone":1,"xcoord_1":0.4409070321561446,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.4109303958544209,"base_kv":230.0},{"zone":1,"xcoord_1":0.05411711986348552,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.6002781885097851,"base_kv":230.0},{"zone":1,"xcoord_1":1.0331620246003559,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":0.39518657373215743,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9575262245596577,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.21343694751008677,"base_kv":230.0},{"zone":1,"xcoord_1":-0.5706599520603349,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":-0.7979713138976076,"base_kv":230.0}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"zone"},{"field":"xcoord_1"},{"field":"bus_i"},{"field":"bus_type"},{"field":"vmax"},{"field":"ComponentType"},{"field":"source_id"},{"field":"area"},{"field":"vmin"},{"field":"index"},{"field":"va"},{"field":"vm"},{"field":"ycoord_1"},{"field":"base_kv"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><p>Additional components that are not a part of the default supported set can also be plotted.  For edges, the component dictionary must contain the keys <code>f_bus</code> and <code>t_bus</code>, which are the from and to bus numbers.  For nodes, the component dictionary must contain the key <code>bus</code> or <code>compname_bus</code>, which is the id of the connecting bus.</p><pre><code class="language-julia hljs">data[&quot;new_edge&quot;] = Dict(
    &quot;1&quot;=&gt; Dict{String,Any}(&quot;f_bus&quot;=&gt;4, &quot;t_bus&quot;=&gt;2, &quot;index&quot;=&gt;1),
)
data[&quot;new_component&quot;] = Dict(
    &quot;1&quot;=&gt; Dict{String,Any}(&quot;bus&quot;=&gt;4, &quot;index&quot;=&gt;1, &quot;pmax&quot;=&gt; 100.5),
    # &quot;2&quot;=&gt; Dict{String,Any}(&quot;new_component_bus&quot;=&gt;3, &quot;index&quot;=&gt;2),
)
powerplot(data;
    edge_components=[:new_edge, :branch],
    node_components=[:bus],
    connected_components=[&quot;new_component&quot;],
    width=300, height=300)</code></pre><div id='vl61ac63fdd1b64f1eb94a628953f38b51' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl61ac63fdd1b64f1eb94a628953f38b51',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"f_bus":4,"xcoord_1":-0.014700321272179847,"ycoord_1":-0.21607280866692585,"xcoord_2":-0.4652077943341704,"ycoord_2":0.5424290077645283,"t_bus":2,"index":1,"ComponentType":"new_edge"}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"f_bus"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"t_bus"},{"field":"index"},{"field":"ComponentType"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"New_edge","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"f_bus"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"t_bus"},{"field":"index"},{"field":"ComponentType"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":-0.4652077943341704,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":-0.16410165084155723,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":-1.1110853299982366,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.5424290077645283,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7329834816479903,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.5424290077645283,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":-0.4652077943341704,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.19340242877238265,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-1.1134527860757946,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.26601672873454607,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.017067777349737755,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.21404557090917742,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7329834816479903,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.21607280866692585,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":-0.014700321272179847,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.19340242877238265,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-1.1087178739206787,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.16612888859930566,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":-0.012332865194621939,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.11415773077393704,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.014700321272179847,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":0.9257770170161145,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":0.6051714054395922,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.21607280866692585,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7329834816479903,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":0.9257770170161145,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":0.6051714054395922,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.19340242877238265,"tap":1.0}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["new_component","1"],"xcoord_1":-0.014700321272179847,"ycoord_1":-0.21607280866692585,"src":["bus","4"],"xcoord_2":0.25283855851700354,"ycoord_2":-1.2814339940445416,"dst":["new_component","1"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":-0.014700321272179847,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.21607280866692585,"base_kv":230.0},{"zone":1,"xcoord_1":0.7329834816479903,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.19340242877238265,"base_kv":230.0},{"zone":1,"xcoord_1":0.6051714054395922,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":0.9257770170161145,"base_kv":230.0},{"zone":1,"xcoord_1":-0.4652077943341704,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.5424290077645283,"base_kv":230.0},{"zone":1,"xcoord_1":-1.1110853299982366,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":-0.16410165084155723,"base_kv":230.0}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"zone"},{"field":"xcoord_1"},{"field":"bus_i"},{"field":"bus_type"},{"field":"vmax"},{"field":"ComponentType"},{"field":"source_id"},{"field":"area"},{"field":"vmin"},{"field":"index"},{"field":"va"},{"field":"vm"},{"field":"ycoord_1"},{"field":"base_kv"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"xcoord_1":0.25283855851700354,"ycoord_1":-1.2814339940445416,"pmax":100.5,"bus":4,"index":1,"ComponentType":"new_component"}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"pmax"},{"field":"bus"},{"field":"index"},{"field":"ComponentType"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"New_component","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Power-Flow"><a class="docs-heading-anchor" href="#Power-Flow">Power Flow</a><a id="Power-Flow-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Flow" title="Permalink"></a></h1><p>If the variables <code>pf</code> (power from) and <code>pt</code> (power to) exist in the data, power flow directions can be visualized using the <code>show_flow</code> boolean toggle (true by default).</p><pre><code class="language-julia hljs"># Solve AC power flow and add values to data dictionary
using Ipopt, PowerModels, PowerPlots, PGLib
data = pglib(&quot;case5_pjm&quot;)
result = solve_ac_opf(data, Ipopt.Optimizer)
update_data!(data, result[&quot;solution&quot;])

p = powerplot(data, branch=(:show_flow=&gt;true))</code></pre><div id='vlbf5c658a4a584c88899014e6ce10d9c4' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlbf5c658a4a584c88899014e6ce10d9c4',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.6194178260709291,"shift":0.0,"pt":0.4944934048167718,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":-0.23763717446909013,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":1.0366177807512498,"t_bus":3,"b_to":0.00926,"index":4,"qf":-1.5606849517193715,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"qt":1.5628964054434993,"ycoord_1":0.8417271552330678,"tap":1.0,"pf":-0.49206356757355374},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.5232788226111179,"shift":0.0,"pt":-2.5079364324264466,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.8417271552330678,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.6194178260709291,"t_bus":2,"b_to":0.00356,"index":1,"qf":-0.42449977686222823,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"qt":0.5745849517193715,"ycoord_1":0.5532103571581957,"tap":1.0,"pf":2.523776728320387},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0366177807512498,"shift":0.0,"pt":0.2541684158061297,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5756544557630945,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.12404093869639313,"t_bus":4,"b_to":0.00337,"index":5,"qf":1.351003624020406,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"qt":-1.3122979307366682,"ycoord_1":-0.23763717446909013,"tap":1.0,"pf":-0.24950846167402324},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.5232788226111179,"shift":0.0,"pt":-1.8691532519107,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5756544557630945,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":-0.12404093869639313,"t_bus":4,"b_to":0.00329,"index":2,"qf":0.3313191143166959,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"qt":-0.24352892623705832,"ycoord_1":0.5532103571581957,"tap":1.0,"pf":1.8786868808908457},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.12404093869639313,"shift":0.0,"pt":2.399983467711505,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.26710525435473786,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":-1.1150034720352189,"t_bus":5,"b_to":0.00337,"index":6,"qf":0.13310385707420766,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"qt":0.008911354161215988,"ycoord_1":-0.5756544557630945,"tap":1.0,"pf":-2.385015170413942},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.5232788226111179,"shift":0.0,"pt":2.3069525292841533,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.26710525435473786,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":-1.1150034720352189,"t_bus":5,"b_to":0.01563,"index":3,"qf":1.668180679680713,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"qt":-1.659305424682891,"ycoord_1":0.5532103571581957,"tap":1.0,"pf":-2.3024635830707374}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"pt"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"qf"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"qt"},{"field":"ycoord_1"},{"field":"tap"},{"field":"pf"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":1.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"pt"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"qf"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"qt"},{"field":"ycoord_1"},{"field":"tap"},{"field":"pf"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["load","2"],"xcoord_1":1.0366177807512498,"ycoord_1":-0.23763717446909013,"src":["bus","3"],"xcoord_2":1.816713860670305,"ycoord_2":-1.0815427915125084,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":-0.5232788226111179,"ycoord_1":0.5532103571581957,"src":["bus","1"],"xcoord_2":-0.741387857578924,"ycoord_2":1.6671988536654783,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["gen","5"],"xcoord_1":-1.1150034720352189,"ycoord_1":-0.26710525435473786,"src":["bus","5"],"xcoord_2":-2.1912585634508845,"ycoord_2":-0.5975135692567142,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.6194178260709291,"ycoord_1":0.8417271552330678,"src":["bus","2"],"xcoord_2":1.178497780862831,"ycoord_2":1.8273950884549839,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":-0.5232788226111179,"ycoord_1":0.5532103571581957,"src":["bus","1"],"xcoord_2":-1.5604123832574208,"ycoord_2":1.083908489806249,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":-0.12404093869639313,"ycoord_1":-0.5756544557630945,"src":["bus","4"],"xcoord_2":-0.7249100590229295,"ycoord_2":-1.5830657907631103,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":1.0366177807512498,"ycoord_1":-0.23763717446909013,"src":["bus","3"],"xcoord_2":2.132346556420611,"ycoord_2":0.033603089300143364,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":-0.12404093869639313,"ycoord_1":-0.5756544557630945,"src":["bus","4"],"xcoord_2":0.19669829187695814,"ycoord_2":-1.664523997498863,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":-0.12404093869639313,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":2.7305316205960135e-34,"vm":1.0641372650398624,"ycoord_1":-0.5756544557630945,"base_kv":230.0},{"zone":1,"xcoord_1":-0.5232788226111179,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.04893523154080717,"vm":1.0776176598939082,"ycoord_1":0.5532103571581957,"base_kv":230.0},{"zone":1,"xcoord_1":-1.1150034720352189,"bus_i":5,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 5]","area":1,"vmin":0.9,"index":5,"va":0.06266338865132746,"vm":1.0690706715648244,"ycoord_1":-0.26710525435473786,"base_kv":230.0},{"zone":1,"xcoord_1":0.6194178260709291,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012821961258610903,"vm":1.0840647498948062,"ycoord_1":0.8417271552330678,"base_kv":230.0},{"zone":1,"xcoord_1":1.0366177807512498,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976905295296729,"vm":1.1000000103611551,"ycoord_1":-0.23763717446909013,"base_kv":230.0}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"zone"},{"field":"xcoord_1"},{"field":"bus_i"},{"field":"bus_type"},{"field":"vmax"},{"field":"ComponentType"},{"field":"source_id"},{"field":"area"},{"field":"vmin"},{"field":"index"},{"field":"va"},{"field":"vm"},{"field":"ycoord_1"},{"field":"base_kv"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":-6.5185120794150715e-9,"model":2,"shutdown":0.0,"xcoord_1":-0.7249100590229295,"startup":0.0,"qg":-0.10802299989951882,"gen_bus":4,"pmax":2.0,"pg_cost":-2.6074048317660285e-5,"ComponentType":"gen","vg":1.0,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.5830657907631103,"pmin":0.0,"ncost":2},{"pg":0.4000000096584895,"model":2,"shutdown":0.0,"xcoord_1":-0.741387857578924,"startup":0.0,"qg":0.3000000071925904,"gen_bus":1,"pmax":0.4,"pg_cost":560.0000135218853,"ComponentType":"gen","vg":1.0,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.6671988536654783,"pmin":0.0,"ncost":2},{"pg":4.706935996995658,"model":2,"shutdown":0.0,"xcoord_1":-2.1912585634508845,"startup":0.0,"qg":-1.650394070521675,"gen_bus":5,"pmax":6.0,"pg_cost":4706.935996995659,"ComponentType":"gen","vg":1.0,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-0.5975135692567142,"pmin":0.0,"ncost":2},{"pg":1.7000000164820057,"model":2,"shutdown":0.0,"xcoord_1":-1.5604123832574208,"startup":0.0,"qg":1.2750000099425902,"gen_bus":1,"pmax":1.7,"pg_cost":2550.0000247230087,"ComponentType":"gen","vg":1.0,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":1.083908489806249,"pmin":0.0,"ncost":2},{"pg":3.244984943142749,"model":2,"shutdown":0.0,"xcoord_1":2.132346556420611,"startup":0.0,"qg":3.900000029463905,"gen_bus":3,"pmax":5.2,"pg_cost":9734.954829428247,"ComponentType":"gen","vg":1.0,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.033603089300143364,"pmin":0.0,"ncost":2}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"model"},{"field":"shutdown"},{"field":"xcoord_1"},{"field":"startup"},{"field":"qg"},{"field":"gen_bus"},{"field":"pmax"},{"field":"pg_cost"},{"field":"ComponentType"},{"field":"vg"},{"field":"mbase"},{"field":"source_id"},{"field":"index"},{"field":"cost"},{"field":"qmax"},{"field":"gen_status"},{"field":"qmin"},{"field":"ycoord_1"},{"field":"pmin"},{"field":"ncost"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":1.178497780862831,"ycoord_1":1.8273950884549839,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":1.816713860670305,"ycoord_1":-1.0815427915125084,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":0.19669829187695814,"ycoord_1":-1.664523997498863,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"source_id"},{"field":"ComponentType"},{"field":"load_bus"},{"field":"status"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"qd"},{"field":"pd"},{"field":"index"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Filter-Hover-Text"><a class="docs-heading-anchor" href="#Filter-Hover-Text">Filter Hover Text</a><a id="Filter-Hover-Text-1"></a><a class="docs-heading-anchor-permalink" href="#Filter-Hover-Text" title="Permalink"></a></h1><p>The hover text can be filtered to show only the data that is of interest.  Each component is filtered separately.</p><pre><code class="language-julia hljs">p = powerplot(data,
            load=(:hover=&gt;[&quot;pd&quot;]),
            gen=(:hover=&gt;[&quot;pg&quot;, &quot;pmin&quot;, &quot;pmax&quot;]),
            bus=(:hover=&gt;[:vmin, :vmax]),
            branch=(:hover=&gt;[]),
        )</code></pre><div id='vl6fb51ac68b5d49dfb231084224dde662' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl6fb51ac68b5d49dfb231084224dde662',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"vmin"},{"field":"vmax"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"pmin"},{"field":"pmax"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pd"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Multinetworks"><a class="docs-heading-anchor" href="#Multinetworks">Multinetworks</a><a id="Multinetworks-1"></a><a class="docs-heading-anchor-permalink" href="#Multinetworks" title="Permalink"></a></h1><p><code>powerplot</code> detects if a network is a multinetwork and will create a slider to select which network to view.</p><pre><code class="language-julia hljs">data_mn = PowerModels.replicate(data, 5)

# create random data for each time period
for (nwid,nw) in data_mn[&quot;nw&quot;]
    for (branchid,branch) in nw[&quot;branch&quot;]
        branch[&quot;value&quot;] = rand()
    end
end

powerplot(data_mn, branch=(:data=&gt;:value, :data_type=&gt;:quantitative))</code></pre><div id='vld2179df9a01f4e1684d19d70f94d523c' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vld2179df9a01f4e1684d19d70f94d523c',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"params":[{"name":"nwid","value":1,"bind":{"input":"range","min":1,"max":5,"step":1}}],"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"value":0.8227532520003312,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"nw_id":"4","br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"value":0.01921980209720242,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"nw_id":"4","br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"value":0.21180825675213077,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"nw_id":"4","br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"value":0.5422649905476186,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"nw_id":"4","br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"value":0.6590119059703743,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"nw_id":"4","br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"value":0.19121801707193764,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"nw_id":"4","br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"value":0.7250652930696821,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"nw_id":"4","br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"value":0.25188609703705633,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"nw_id":"1","br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"value":0.09130889124877795,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"nw_id":"1","br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"value":0.6395042846423289,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"nw_id":"1","br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"value":0.9576988151203744,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"nw_id":"1","br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"value":0.4105740795004811,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"nw_id":"1","br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"value":0.16284031594028336,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"nw_id":"1","br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"value":0.8856581805511405,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"nw_id":"1","br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"value":0.13250771851123522,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"nw_id":"5","br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"value":0.3212574166363795,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"nw_id":"5","br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"value":0.6721828324156447,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"nw_id":"5","br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"value":0.3122518355014752,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"nw_id":"5","br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"value":0.769145888855365,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"nw_id":"5","br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"value":0.5356932853240433,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"nw_id":"5","br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"value":0.037988862599587,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"nw_id":"5","br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"value":0.44130611250954055,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"nw_id":"2","br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"value":0.4350967281333876,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"nw_id":"2","br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"value":0.07857889731948287,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"nw_id":"2","br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"value":0.9031044591594176,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"nw_id":"2","br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"value":0.6563805960593924,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"nw_id":"2","br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"value":0.7485577062843473,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"nw_id":"2","br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"value":0.6054732560941597,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"nw_id":"2","br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.39332593232422236,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.024669767482749818,"g_to":0.0,"value":0.5197962593938049,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"nw_id":"3","br_status":1,"xcoord_2":1.063235426747659,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.9682359339398907,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.9682359339398907,"g_to":0.0,"value":0.8677411955974784,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"nw_id":"3","br_status":1,"xcoord_2":0.39332593232422236,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":1.0378755396931605,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5453792791954611,"g_to":0.0,"value":0.8000756863179802,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"nw_id":"3","br_status":1,"xcoord_2":-0.003972018248369392,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.06776125305221098,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5884707647649223,"g_to":0.0,"value":0.4310039161421009,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"nw_id":"3","br_status":1,"xcoord_2":0.021387868806129123,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":1.0885953138021573,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.6315622503343835,"g_to":0.0,"value":0.41997495284585673,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"nw_id":"3","br_status":1,"xcoord_2":0.04674775586062764,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.01842171808671134,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.021387868806129123,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-0.5331795394505285,"g_to":0.0,"value":0.12207290549452621,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"nw_id":"3","br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5884707647649223,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.643284886173459,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-0.5331795394505285,"g_to":0.0,"value":0.6593389165347596,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"nw_id":"3","br_status":1,"xcoord_2":-1.015025019200314,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.40749712349536626,"tap":1.0}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"value"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"nw_id"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"value":5},"color":{"field":"value","type":"quantitative","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"br_r"},{"field":"rate_a"},{"field":"xcoord_1"},{"field":"shift"},{"field":"rate_b"},{"field":"br_x"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"g_to"},{"field":"value"},{"field":"ComponentType"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"f_bus"},{"field":"nw_id"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"b_to"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}],"transform":[{"filter":"datum.nw_id == nwid"}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"nw_id":"4","xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"nw_id":"4","xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"nw_id":"4","xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"nw_id":"4","xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"nw_id":"4","xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"nw_id":"4","xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"nw_id":"4","xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"nw_id":"4","xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"},{"source_id":["gen","5"],"nw_id":"1","xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"nw_id":"1","xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"nw_id":"1","xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"nw_id":"1","xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"nw_id":"1","xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"nw_id":"1","xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"nw_id":"1","xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"nw_id":"1","xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"},{"source_id":["gen","5"],"nw_id":"5","xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"nw_id":"5","xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"nw_id":"5","xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"nw_id":"5","xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"nw_id":"5","xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"nw_id":"5","xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"nw_id":"5","xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"nw_id":"5","xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"},{"source_id":["gen","5"],"nw_id":"2","xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"nw_id":"2","xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"nw_id":"2","xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"nw_id":"2","xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"nw_id":"2","xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"nw_id":"2","xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"nw_id":"2","xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"nw_id":"2","xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"},{"source_id":["gen","5"],"nw_id":"3","xcoord_1":-1.015025019200314,"ycoord_1":-0.5331795394505285,"src":["bus","10"],"xcoord_2":-1.9769033386771204,"ycoord_2":-1.1182266566611325,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"nw_id":"3","xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.7790909962338255,"ycoord_2":0.6667394173413188,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"nw_id":"3","xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0585446499862896,"ycoord_2":0.5571740757180063,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"nw_id":"3","xcoord_1":-0.643284886173459,"ycoord_1":0.40749712349536626,"src":["bus","1"],"xcoord_2":-1.128768751228194,"ycoord_2":1.4335719924413663,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"nw_id":"3","xcoord_1":0.39332593232422236,"ycoord_1":0.9682359339398907,"src":["bus","2"],"xcoord_2":0.6927206395927119,"ycoord_2":2.0611553435233074,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"nw_id":"3","xcoord_1":1.063235426747659,"ycoord_1":0.024669767482749818,"src":["bus","3"],"xcoord_2":2.0269479428794663,"ycoord_2":-0.6014494159024341,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"nw_id":"3","xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":-0.3131987385097166,"ycoord_2":-1.7127396588970318,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"nw_id":"3","xcoord_1":0.021387868806129123,"ycoord_1":-0.5884707647649223,"src":["bus","4"],"xcoord_2":0.6001092696861509,"ycoord_2":-1.5649776182659536,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"nw_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}},"transform":[{"filter":"datum.nw_id == nwid"}]},{"data":{"values":[{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","nw_id":"4","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","nw_id":"4","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","nw_id":"4","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","nw_id":"4","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","nw_id":"4","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0},{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","nw_id":"1","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","nw_id":"1","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","nw_id":"1","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","nw_id":"1","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","nw_id":"1","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0},{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","nw_id":"5","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","nw_id":"5","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","nw_id":"5","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","nw_id":"5","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","nw_id":"5","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0},{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","nw_id":"2","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","nw_id":"2","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","nw_id":"2","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","nw_id":"2","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","nw_id":"2","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0},{"zone":1,"xcoord_1":0.021387868806129123,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","nw_id":"3","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5884707647649223,"base_kv":230.0},{"zone":1,"xcoord_1":-0.643284886173459,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","nw_id":"3","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.40749712349536626,"base_kv":230.0},{"zone":1,"xcoord_1":-1.015025019200314,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","nw_id":"3","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-0.5331795394505285,"base_kv":230.0},{"zone":1,"xcoord_1":0.39332593232422236,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","nw_id":"3","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.9682359339398907,"base_kv":230.0},{"zone":1,"xcoord_1":1.063235426747659,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","nw_id":"3","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.024669767482749818,"base_kv":230.0}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"zone"},{"field":"xcoord_1"},{"field":"bus_i"},{"field":"bus_type"},{"field":"vmax"},{"field":"ComponentType"},{"field":"source_id"},{"field":"nw_id"},{"field":"area"},{"field":"vmin"},{"field":"index"},{"field":"va"},{"field":"vm"},{"field":"ycoord_1"},{"field":"base_kv"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}},"transform":[{"filter":"datum.nw_id == nwid"}]},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","nw_id":"4","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","nw_id":"4","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","nw_id":"4","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","nw_id":"4","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","nw_id":"4","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2},{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","nw_id":"1","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","nw_id":"1","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","nw_id":"1","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","nw_id":"1","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","nw_id":"1","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2},{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","nw_id":"5","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","nw_id":"5","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","nw_id":"5","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","nw_id":"5","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","nw_id":"5","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2},{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","nw_id":"2","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","nw_id":"2","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","nw_id":"2","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","nw_id":"2","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","nw_id":"2","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2},{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.3131987385097166,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","nw_id":"3","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-1.7127396588970318,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":-1.128768751228194,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","nw_id":"3","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.4335719924413663,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":-1.9769033386771204,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","nw_id":"3","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.1182266566611325,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":-1.7790909962338255,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","nw_id":"3","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.6667394173413188,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":2.0585446499862896,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","nw_id":"3","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":0.5571740757180063,"pmin":0.0,"ncost":2}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"model"},{"field":"shutdown"},{"field":"xcoord_1"},{"field":"startup"},{"field":"qg"},{"field":"gen_bus"},{"field":"pmax"},{"field":"ComponentType"},{"field":"vg"},{"field":"mbase"},{"field":"source_id"},{"field":"nw_id"},{"field":"index"},{"field":"cost"},{"field":"qmax"},{"field":"gen_status"},{"field":"qmin"},{"field":"ycoord_1"},{"field":"pmin"},{"field":"ncost"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}},"transform":[{"filter":"datum.nw_id == nwid"}]},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","nw_id":"4","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","nw_id":"4","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","nw_id":"4","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3},{"source_id":"Any[\"bus\", 2]","ComponentType":"load","nw_id":"1","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","nw_id":"1","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","nw_id":"1","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3},{"source_id":"Any[\"bus\", 2]","ComponentType":"load","nw_id":"5","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","nw_id":"5","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","nw_id":"5","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3},{"source_id":"Any[\"bus\", 2]","ComponentType":"load","nw_id":"2","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","nw_id":"2","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","nw_id":"2","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3},{"source_id":"Any[\"bus\", 2]","ComponentType":"load","nw_id":"3","load_bus":2,"status":1,"xcoord_1":0.6927206395927119,"ycoord_1":2.0611553435233074,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","nw_id":"3","load_bus":3,"status":1,"xcoord_1":2.0269479428794663,"ycoord_1":-0.6014494159024341,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","nw_id":"3","load_bus":4,"status":1,"xcoord_1":0.6001092696861509,"ycoord_1":-1.5649776182659536,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"source_id"},{"field":"ComponentType"},{"field":"nw_id"},{"field":"load_bus"},{"field":"status"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"qd"},{"field":"pd"},{"field":"index"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}},"transform":[{"filter":"datum.nw_id == nwid"}]}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Distribution-Grids"><a class="docs-heading-anchor" href="#Distribution-Grids">Distribution Grids</a><a id="Distribution-Grids-1"></a><a class="docs-heading-anchor-permalink" href="#Distribution-Grids" title="Permalink"></a></h1><p>Open a three-phase distribution system case using <a href="https://github.com/lanl-ansi/PowerModelsDistribution.jl">PowerModelsDistribution.jl</a> and run the command <code>powerplot</code> on the data.</p><p>This dataset includes switches and transformers, which are then visualized in the powerplot.</p><pre><code class="language-julia hljs">using PowerModelsDistribution
using PowerPlots
eng = PowerModelsDistribution.parse_file(&quot;$(joinpath(dirname(pathof(PowerModelsDistribution)), &quot;..&quot;))/test/data/opendss/trans_3w_center_tap.dss&quot;)
powerplot(eng)</code></pre><div id='vlea9ccba887b0441dab32fd2fcd347fc4' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlea9ccba887b0441dab32fd2fcd347fc4',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"xcoord_1":1.1581150853699251,"f_connections":"[1, 2, 3]","state":"CLOSED","length":0.001,"status":"ENABLED","ycoord_2":0.2575592019036556,"ComponentType":"switch","source_id":"line.switch_1","t_connections":"[1, 2, 3]","f_bus":"node_52","xcoord_2":0.06713714717777194,"dispatchable":"YES","t_bus":"node_1","ycoord_1":0.7129737596597916,"linecode":"3p_code2"}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"xcoord_1"},{"field":"f_connections"},{"field":"state"},{"field":"length"},{"field":"status"},{"field":"ycoord_2"},{"field":"ComponentType"},{"field":"source_id"},{"field":"t_connections"},{"field":"f_bus"},{"field":"xcoord_2"},{"field":"dispatchable"},{"field":"t_bus"},{"field":"ycoord_1"},{"field":"linecode"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Switch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"xcoord_1"},{"field":"f_connections"},{"field":"state"},{"field":"length"},{"field":"status"},{"field":"ycoord_2"},{"field":"ComponentType"},{"field":"source_id"},{"field":"t_connections"},{"field":"f_bus"},{"field":"xcoord_2"},{"field":"dispatchable"},{"field":"t_bus"},{"field":"ycoord_1"},{"field":"linecode"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"data":{"values":[{"polarity":"[1, 1, -1]","sm_nom":"[100.0, 25.0, 25.0]","tm_lb":"[[0.9], [0.9], [0.9]]","connections":"[[3, 4], [1, 4], [4, 2]]","tm_set":"[[1.0], [1.0], [1.0]]","xcoord_1":0.06713714717777194,"tm_step":"[[0.03125], [0.03125], [0.03125]]","bus":"[\"node_1\", \"tn_3\", \"tn_3\"]","configuration":"ConnConfig[WYE, WYE, WYE]","name":"xfmr_3","status":"ENABLED","ycoord_2":1.413116551318335,"noloadloss":0.002,"cmag":0.0,"xsc":"Union{Missing, Float64}[0.0204, 0.0204, 0.013600000000000001]","source_id":"transformer.xfmr_3","sm_ub":150.0,"ComponentType":"transformer","rw":"[0.006, 0.012, 0.012]","tm_fix":"Vector{Bool}[[1], [1], [1]]","vm_nom":"[7.2, 0.12, 0.12]","xcoord_2":-0.1989259824022054,"tm_ub":"[[1.1], [1.1], [1.1]]","ycoord_1":0.2575592019036556,"controls":null},{"polarity":"[1, 1]","sm_nom":"[10000.0, 10000.0]","tm_lb":"[[0.9, 0.9, 0.9], [0.9, 0.9, 0.9]]","connections":"[[1, 2, 3, 4], [1, 2, 3, 4]]","tm_set":"[[1.0, 1.0, 1.0], [1.0, 1.0, 1.0]]","xcoord_1":3.193351322372643,"tm_step":"[[0.03125, 0.03125, 0.03125], [0.03125, 0.03125, 0.03125]]","bus":"[\"sourcebus\", \"node_53\"]","configuration":"ConnConfig[WYE, WYE]","name":"subxf","status":"ENABLED","ycoord_2":1.2005106223469653,"noloadloss":0.0,"cmag":0.0,"xsc":"[0.0001]","source_id":"transformer.subxf","sm_ub":15000.0,"ComponentType":"transformer","rw":"[5.0e-6, 5.0e-6]","tm_fix":"Vector{Bool}[[1, 1, 1], [1, 1, 1]]","vm_nom":"[230.0, 12.47]","xcoord_2":2.201112997112153,"tm_ub":"[[1.1, 1.1, 1.1], [1.1, 1.1, 1.1]]","ycoord_1":1.6789628135667933,"controls":null},{"polarity":"[1, 1]","sm_nom":"[10000.0, 10000.0]","tm_lb":"[[0.9, 0.9, 0.9], [0.9, 0.9, 0.9]]","connections":"[[1, 2, 3, 4], [1, 2, 3, 4]]","tm_set":"[[1.0, 1.0, 1.0], [1.0, 1.0, 1.0]]","xcoord_1":2.201112997112153,"tm_step":"[[0.03125, 0.03125, 0.03125], [0.03125, 0.03125, 0.03125]]","bus":"[\"node_53\", \"node_52\"]","configuration":"ConnConfig[WYE, WYE]","name":"trans_reg_1","status":"ENABLED","ycoord_2":0.7129737596597916,"noloadloss":0.0,"cmag":0.0,"xsc":"[0.07]","source_id":"transformer.trans_reg_1","sm_ub":15000.0,"ComponentType":"transformer","rw":"[0.002, 0.002]","tm_fix":"Vector{Bool}[[1, 1, 1], [0, 1, 1]]","vm_nom":"[7.2, 7.2]","xcoord_2":1.1581150853699251,"tm_ub":"[[1.1, 1.1, 1.1], [1.1, 1.1, 1.1]]","ycoord_1":1.2005106223469653,"controls":"Dict{String, Any}(\"ctprim\" => [[0.0, 0.0, 0.0], [300.0, 0.0, 0.0]], \"x\" => [[0.0, 0.0, 0.0], [0.0, 0.0, 0.0]], \"r\" => [[0.0, 0.0, 0.0], [0.0, 0.0, 0.0]], \"ptratio\" => [[0.0, 0.0, 0.0], [60.0, 0.0, 0.0]], \"band\" => [[0.0, 0.0, 0.0], [144.0, 0.0, 0.0]], \"vreg\" => [[0.0, 0.0, 0.0], [7500.0, 0.0, 0.0]])"},{"polarity":"[1, 1, -1]","sm_nom":"[100.0, 25.0, 25.0]","tm_lb":"[[0.9], [0.9], [0.9]]","connections":"[[2, 4], [1, 4], [4, 2]]","tm_set":"[[1.0], [1.0], [1.0]]","xcoord_1":0.06713714717777194,"tm_step":"[[0.03125], [0.03125], [0.03125]]","bus":"[\"node_1\", \"tn_2\", \"tn_2\"]","configuration":"ConnConfig[WYE, WYE, WYE]","name":"xfmr_2","status":"ENABLED","ycoord_2":-0.8513926071209332,"noloadloss":0.002,"cmag":0.0,"xsc":"Union{Missing, Float64}[0.0204, 0.0204, 0.013600000000000001]","source_id":"transformer.xfmr_2","sm_ub":150.0,"ComponentType":"transformer","rw":"[0.006, 0.012, 0.012]","tm_fix":"Vector{Bool}[[1], [1], [1]]","vm_nom":"[7.2, 0.12, 0.12]","xcoord_2":0.5437786256199045,"tm_ub":"[[1.1], [1.1], [1.1]]","ycoord_1":0.2575592019036556,"controls":null},{"polarity":"[1, 1, -1]","sm_nom":"[200.0, 25.0, 25.0]","tm_lb":"[[0.9], [0.9], [0.9]]","connections":"[[1, 4], [1, 4], [4, 2]]","tm_set":"[[1.0], [1.0], [1.0]]","xcoord_1":0.06713714717777194,"tm_step":"[[0.03125], [0.03125], [0.03125]]","bus":"[\"node_1\", \"tn_1\", \"tn_1\"]","configuration":"ConnConfig[WYE, WYE, WYE]","name":"xfmr_1","status":"ENABLED","ycoord_2":-0.04066605136745781,"noloadloss":0.002,"cmag":0.0,"xsc":"Union{Missing, Float64}[0.0204, 0.0204, 0.013600000000000001]","source_id":"transformer.xfmr_1","sm_ub":300.0,"ComponentType":"transformer","rw":"[0.006, 0.012, 0.012]","tm_fix":"Vector{Bool}[[1], [1], [1]]","vm_nom":"[7.2, 0.12, 0.12]","xcoord_2":-1.1089146257760933,"tm_ub":"[[1.1], [1.1], [1.1]]","ycoord_1":0.2575592019036556,"controls":null}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"polarity"},{"field":"sm_nom"},{"field":"tm_lb"},{"field":"connections"},{"field":"tm_set"},{"field":"xcoord_1"},{"field":"tm_step"},{"field":"bus"},{"field":"configuration"},{"field":"name"},{"field":"status"},{"field":"ycoord_2"},{"field":"noloadloss"},{"field":"cmag"},{"field":"xsc"},{"field":"source_id"},{"field":"sm_ub"},{"field":"ComponentType"},{"field":"rw"},{"field":"tm_fix"},{"field":"vm_nom"},{"field":"xcoord_2"},{"field":"tm_ub"},{"field":"ycoord_1"},{"field":"controls"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Transformer","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"polarity"},{"field":"sm_nom"},{"field":"tm_lb"},{"field":"connections"},{"field":"tm_set"},{"field":"xcoord_1"},{"field":"tm_step"},{"field":"bus"},{"field":"configuration"},{"field":"name"},{"field":"status"},{"field":"ycoord_2"},{"field":"noloadloss"},{"field":"cmag"},{"field":"xsc"},{"field":"source_id"},{"field":"sm_ub"},{"field":"ComponentType"},{"field":"rw"},{"field":"tm_fix"},{"field":"vm_nom"},{"field":"xcoord_2"},{"field":"tm_ub"},{"field":"ycoord_1"},{"field":"controls"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"data":{"values":[{"xcoord_1":-1.1089146257760933,"f_connections":"[1, 2]","length":9.144000000000002,"status":"ENABLED","ycoord_2":-0.2841106275591873,"ComponentType":"line","source_id":"line.tl_1","t_connections":"[1, 2]","f_bus":"tn_1","xcoord_2":-2.2419560021857987,"t_bus":"tn_4","ycoord_1":-0.04066605136745781,"linecode":"2p_code15"},{"xcoord_1":1.059710076420738,"f_connections":"[1, 2]","length":9.144000000000002,"status":"ENABLED","ycoord_2":-2.9441112407221683,"ComponentType":"line","source_id":"line.tl_5","t_connections":"[1, 2]","f_bus":"tn_5","xcoord_2":1.5961664318492215,"t_bus":"tm_2","ycoord_1":-1.8898556852913442,"linecode":"2p_code15"},{"xcoord_1":-0.3840771710753674,"f_connections":"[1, 2]","length":9.144000000000002,"status":"ENABLED","ycoord_2":3.671531286099264,"ComponentType":"line","source_id":"line.tl_6","t_connections":"[1, 2]","f_bus":"tn_6","xcoord_2":-0.5420066065578145,"t_bus":"tm_3","ycoord_1":2.5489917645478406,"linecode":"2p_code15"},{"xcoord_1":-0.1989259824022054,"f_connections":"[1, 2]","length":9.144000000000002,"status":"ENABLED","ycoord_2":2.5489917645478406,"ComponentType":"line","source_id":"line.tl_3","t_connections":"[1, 2]","f_bus":"tn_3","xcoord_2":-0.3840771710753674,"t_bus":"tn_6","ycoord_1":1.413116551318335,"linecode":"2p_code15"},{"xcoord_1":0.5437786256199045,"f_connections":"[1, 2]","length":9.144000000000002,"status":"ENABLED","ycoord_2":-1.8898556852913442,"ComponentType":"line","source_id":"line.tl_2","t_connections":"[1, 2]","f_bus":"tn_2","xcoord_2":1.059710076420738,"t_bus":"tn_5","ycoord_1":-0.8513926071209332,"linecode":"2p_code15"},{"xcoord_1":-2.2419560021857987,"f_connections":"[1, 2]","length":9.144000000000002,"status":"ENABLED","ycoord_2":-0.5145607929587419,"ComponentType":"line","source_id":"line.tl_4","t_connections":"[1, 2]","f_bus":"tn_4","xcoord_2":-3.3787960079468418,"t_bus":"tm_1","ycoord_1":-0.2841106275591873,"linecode":"2p_code15"}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"xcoord_1"},{"field":"f_connections"},{"field":"length"},{"field":"status"},{"field":"ycoord_2"},{"field":"ComponentType"},{"field":"source_id"},{"field":"t_connections"},{"field":"f_bus"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"ycoord_1"},{"field":"linecode"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Line","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"xcoord_1"},{"field":"f_connections"},{"field":"length"},{"field":"status"},{"field":"ycoord_2"},{"field":"ComponentType"},{"field":"source_id"},{"field":"t_connections"},{"field":"f_bus"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"ycoord_1"},{"field":"linecode"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["voltage_source","source"],"xcoord_1":3.193351322372643,"ycoord_1":1.6789628135667933,"src":["bus","sourcebus"],"xcoord_2":4.147856470435635,"ycoord_2":2.1445784290046763,"dst":["voltage_source","source"],"ComponentType":"connector"},{"source_id":["solar","pv1"],"xcoord_1":-3.3787960079468418,"ycoord_1":-0.5145607929587419,"src":["bus","tm_1"],"xcoord_2":-3.729916723925159,"ycoord_2":-1.6142981560992997,"dst":["solar","pv1"],"ComponentType":"connector"},{"source_id":["load","l1"],"xcoord_1":-3.3787960079468418,"ycoord_1":-0.5145607929587419,"src":["bus","tm_1"],"xcoord_2":-4.1307652897052956,"ycoord_2":0.36304258286871854,"dst":["load","l1"],"ComponentType":"connector"},{"source_id":["solar","pv2a"],"xcoord_1":1.5961664318492215,"ycoord_1":-2.9441112407221683,"src":["bus","tm_2"],"xcoord_2":2.514630791263895,"ycoord_2":-3.615331394132638,"dst":["solar","pv2a"],"ComponentType":"connector"},{"source_id":["solar","pv2b"],"xcoord_1":1.5961664318492215,"ycoord_1":-2.9441112407221683,"src":["bus","tm_2"],"xcoord_2":2.7332508197328846,"ycoord_2":-2.710594027464629,"dst":["solar","pv2b"],"ComponentType":"connector"},{"source_id":["solar","pv3"],"xcoord_1":-0.5420066065578145,"ycoord_1":3.671531286099264,"src":["bus","tm_3"],"xcoord_2":-1.402615165131403,"ycoord_2":4.378498668344849,"dst":["solar","pv3"],"ComponentType":"connector"},{"source_id":["load","l2a"],"xcoord_1":1.5961664318492215,"ycoord_1":-2.9441112407221683,"src":["bus","tm_2"],"xcoord_2":0.7230627449803999,"ycoord_2":-3.7047841913623643,"dst":["load","l2a"],"ComponentType":"connector"},{"source_id":["load","l3"],"xcoord_1":-0.5420066065578145,"ycoord_1":3.671531286099264,"src":["bus","tm_3"],"xcoord_2":0.06150894560492459,"ycoord_2":4.614522278168223,"dst":["load","l3"],"ComponentType":"connector"},{"source_id":["generator","g1"],"xcoord_1":-3.3787960079468418,"ycoord_1":-0.5145607929587419,"src":["bus","tm_1"],"xcoord_2":-4.459540252548953,"ycoord_2":-0.7341244968853685,"dst":["generator","g1"],"ComponentType":"connector"},{"source_id":["load","l2b"],"xcoord_1":1.5961664318492215,"ycoord_1":-2.9441112407221683,"src":["bus","tm_2"],"xcoord_2":1.577832369314822,"ycoord_2":-4.080458686864985,"dst":["load","l2b"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 4]","xcoord_1":0.5437786256199045,"ycoord_1":-0.8513926071209332,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 3, 4]","xcoord_1":1.1581150853699251,"ycoord_1":0.7129737596597916,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 3, 4]","xcoord_1":0.06713714717777194,"ycoord_1":0.2575592019036556,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 4]","xcoord_1":-0.5420066065578145,"ycoord_1":3.671531286099264,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 3, 4]","xcoord_1":2.201112997112153,"ycoord_1":1.2005106223469653,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 4]","xcoord_1":-1.1089146257760933,"ycoord_1":-0.04066605136745781,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 4]","xcoord_1":-0.1989259824022054,"ycoord_1":1.413116551318335,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 3, 4]","xcoord_1":3.193351322372643,"ycoord_1":1.6789628135667933,"xg":"[0.0]","ComponentType":"bus"},{"rg":"Float64[]","grounded":"Int64[]","status":"ENABLED","terminals":"[1, 2]","xcoord_1":-0.3840771710753674,"ycoord_1":2.5489917645478406,"xg":"Float64[]","ComponentType":"bus"},{"rg":"Float64[]","grounded":"Int64[]","status":"ENABLED","terminals":"[1, 2]","xcoord_1":-2.2419560021857987,"ycoord_1":-0.2841106275591873,"xg":"Float64[]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 4]","xcoord_1":1.5961664318492215,"ycoord_1":-2.9441112407221683,"xg":"[0.0]","ComponentType":"bus"},{"rg":"Float64[]","grounded":"Int64[]","status":"ENABLED","terminals":"[1, 2]","xcoord_1":1.059710076420738,"ycoord_1":-1.8898556852913442,"xg":"Float64[]","ComponentType":"bus"},{"rg":"Float64[]","grounded":"Int64[]","status":"ENABLED","terminals":"[1, 2]","xcoord_1":-3.3787960079468418,"ycoord_1":-0.5145607929587419,"xg":"Float64[]","ComponentType":"bus"}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"rg"},{"field":"grounded"},{"field":"status"},{"field":"terminals"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"xg"},{"field":"ComponentType"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"model":"POWER","connections":"[1, 4]","pd_nom":"[12.0]","xcoord_1":0.7230627449803999,"bus":"tm_2","configuration":"WYE","status":"ENABLED","ComponentType":"load","source_id":"load.l2a","vm_nom":0.12,"dispatchable":"NO","qd_nom":"[0.0]","ycoord_1":-3.7047841913623643},{"model":"POWER","connections":"[2, 4]","pd_nom":"[8.0]","xcoord_1":1.577832369314822,"bus":"tm_2","configuration":"WYE","status":"ENABLED","ComponentType":"load","source_id":"load.l2b","vm_nom":0.12,"dispatchable":"NO","qd_nom":"[0.0]","ycoord_1":-4.080458686864985},{"model":"POWER","connections":"[1, 2, 4]","pd_nom":"[10.0, 10.0]","xcoord_1":0.06150894560492459,"bus":"tm_3","configuration":"WYE","status":"ENABLED","ComponentType":"load","source_id":"load.l3","vm_nom":0.12008885599144216,"dispatchable":"NO","qd_nom":"[0.0, 0.0]","ycoord_1":4.614522278168223},{"model":"POWER","connections":"[1, 2]","pd_nom":"[20.0]","xcoord_1":-4.1307652897052956,"bus":"tm_1","configuration":"DELTA","status":"ENABLED","ComponentType":"load","source_id":"load.l1","vm_nom":0.24,"dispatchable":"NO","qd_nom":"[0.0]","ycoord_1":0.36304258286871854}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"model"},{"field":"connections"},{"field":"pd_nom"},{"field":"xcoord_1"},{"field":"bus"},{"field":"configuration"},{"field":"status"},{"field":"ComponentType"},{"field":"source_id"},{"field":"vm_nom"},{"field":"dispatchable"},{"field":"qd_nom"},{"field":"ycoord_1"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#756BB1","#8E87BF","#A8A2CE","#C1BEDC","#DADAEB"]}}}},{"data":{"values":[{"pg":"[7.0]","connections":"[1, 2]","xcoord_1":-4.459540252548953,"bus":"tm_1","configuration":"DELTA","qg":"[0.0]","status":"ENABLED","ComponentType":"generator","vg":"[0.24]","qg_ub":"[0.0]","phases":1,"source_id":"generator.g1","qg_lb":"[-0.0]","pg_lb":"[0.0]","pg_ub":"[7.0]","control_mode":"FREQUENCYDROOP","ycoord_1":-0.7341244968853685}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"connections"},{"field":"xcoord_1"},{"field":"bus"},{"field":"configuration"},{"field":"qg"},{"field":"status"},{"field":"ComponentType"},{"field":"vg"},{"field":"qg_ub"},{"field":"phases"},{"field":"source_id"},{"field":"qg_lb"},{"field":"pg_lb"},{"field":"pg_ub"},{"field":"control_mode"},{"field":"ycoord_1"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Generator","scale":{"range":["#8C6D31","#A3844A","#BA9C62","#D0B37B","#E7CB94"]}}}},{"data":{"values":[{"connections":"[1, 2, 3, 4]","xcoord_1":4.147856470435635,"xs":"[2.4290989406389443 -0.13692797224545838 -0.13692797224545838 -0.13692797224545838; -0.13692797224545838 2.4290989406389443 -0.13692797224545838 -0.13692797224545838; -0.13692797224545838 -0.13692797224545838 2.4290989406389443 -0.13692797224545838; -0.13692797224545838 -0.13692797224545838 -0.13692797224545838 2.4290989406389443]","bus":"sourcebus","configuration":"WYE","status":"ENABLED","ComponentType":"voltage_source","source_id":"vsource.source","rs":"[0.6671425961638479 0.025635867942747304 0.025635867942747304 0.025635867942747304; 0.025635867942747304 0.6671425961638479 0.025635867942747304 0.025635867942747304; 0.025635867942747304 0.025635867942747304 0.6671425961638479 0.025635867942747304; 0.025635867942747304 0.025635867942747304 0.025635867942747304 0.6671425961638479]","va":"[0.0, -119.99999999999999, 120.00000000000001, 0.0]","vm":"[139.43009000929464, 139.43009000929464, 139.43009000929464, 0.0]","ycoord_1":2.1445784290046763}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"connections"},{"field":"xcoord_1"},{"field":"xs"},{"field":"bus"},{"field":"configuration"},{"field":"status"},{"field":"ComponentType"},{"field":"source_id"},{"field":"rs"},{"field":"va"},{"field":"vm"},{"field":"ycoord_1"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Voltage_source","scale":{"range":["#E7298A","#EC4C9B","#F16EAB","#F690BC","#FBB3CC"]}}}},{"data":{"values":[{"pg":"[3.0]","connections":"[1, 2]","xcoord_1":-3.729916723925159,"bus":"tm_1","configuration":"DELTA","qg":"[0.0]","status":"ENABLED","ComponentType":"solar","vg":"[0.24]","qg_ub":"[0.0]","source_id":"pvsystem.pv1","qg_lb":"[-0.0]","pg_lb":"[0.0]","pg_ub":"[3.0]","ycoord_1":-1.6142981560992997},{"pg":"[6.0]","connections":"[1, 4]","xcoord_1":2.514630791263895,"bus":"tm_2","configuration":"WYE","qg":"[0.0]","status":"ENABLED","ComponentType":"solar","vg":"[0.12]","qg_ub":"[0.0]","source_id":"pvsystem.pv2a","qg_lb":"[-0.0]","pg_lb":"[0.0]","pg_ub":"[6.0]","ycoord_1":-3.615331394132638},{"pg":"[5.0, 5.0]","connections":"[1, 2, 4]","xcoord_1":-1.402615165131403,"bus":"tm_3","configuration":"WYE","qg":"[0.0, 0.0]","status":"ENABLED","ComponentType":"solar","vg":"[0.14707821048680186, 0.14707821048680186]","qg_ub":"[0.0, 0.0]","source_id":"pvsystem.pv3","qg_lb":"[-0.0, -0.0]","pg_lb":"[0.0, 0.0]","pg_ub":"[5.0, 5.0]","ycoord_1":4.378498668344849},{"pg":"[4.0]","connections":"[2, 4]","xcoord_1":2.7332508197328846,"bus":"tm_2","configuration":"WYE","qg":"[0.0]","status":"ENABLED","ComponentType":"solar","vg":"[0.12]","qg_ub":"[0.0]","source_id":"pvsystem.pv2b","qg_lb":"[-0.0]","pg_lb":"[0.0]","pg_ub":"[4.0]","ycoord_1":-2.710594027464629}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"connections"},{"field":"xcoord_1"},{"field":"bus"},{"field":"configuration"},{"field":"qg"},{"field":"status"},{"field":"ComponentType"},{"field":"vg"},{"field":"qg_ub"},{"field":"source_id"},{"field":"qg_lb"},{"field":"pg_lb"},{"field":"pg_ub"},{"field":"ycoord_1"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Solar","scale":{"range":["#FFC108","#FFCC24","#FFD840","#FFE35D","#FFEF79"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><p>The mathematical model of the distribution system can be visualized as well.</p><pre><code class="language-julia hljs">math = transform_data_model(eng)
powerplot(math)</code></pre><div id='vl3a7cc3502c9c44fbbf3d369ddc801eae' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl3a7cc3502c9c44fbbf3d369ddc801eae',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":"[48.005895785812136;;]","xcoord_1":3.3179660990599853,"shift":"[0.0]","f_connections":"[2]","name":"_virtual_branch.transformer.xfmr_2_3","br_x":"[0.0;;]","ycoord_2":-3.510712539058742,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_2_3","b_fr":"[0.0;;]","t_connections":"[2]","f_bus":33,"ComponentType":"branch","br_status":1,"xcoord_2":2.653661549668881,"b_to":"[0.0;;]","t_bus":31,"index":24,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-4.478899406131459,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.2754152097119431 0.1677912642412843; 0.1677912642412843 0.2754152097119431]","xcoord_1":4.73771362975892,"shift":null,"f_connections":"[1, 2]","name":"tl_3","br_x":"[-13.367054508272346 -7.598009154470415; -7.598009154470415 -13.367054508272346]","ycoord_2":3.851044220449961,"switch":null,"g_to":"[0.0 0.0; 0.0 0.0]","c_rating_a":"[0.0007199557856794636, 0.0007199557856794636]","vbase":0.11999263094657726,"g_fr":"[0.0 0.0; 0.0 0.0]","source_id":"line.tl_3","b_fr":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_connections":"[1, 2]","f_bus":7,"ComponentType":"branch","br_status":1,"xcoord_2":5.604119607146534,"b_to":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_bus":9,"index":4,"angmin":"[-1.0471975511965976, -1.0471975511965976]","angmax":"[1.0471975511965976, 1.0471975511965976]","transformer":null,"ycoord_1":3.1736838609520923,"tap":null,"rate_a":"[Inf, Inf]","rate_b":"[Inf, Inf]","rate_c":"[Inf, Inf]","c_rating_b":"[Inf, Inf]","c_rating_c":"[Inf, Inf]"},{"br_r":"[0.2754152097119431 0.1677912642412843; 0.1677912642412843 0.2754152097119431]","xcoord_1":-3.694770269537299,"shift":null,"f_connections":"[1, 2]","name":"tl_1","br_x":"[-13.367054508272346 -7.598009154470415; -7.598009154470415 -13.367054508272346]","ycoord_2":-5.009163909478641,"switch":null,"g_to":"[0.0 0.0; 0.0 0.0]","c_rating_a":"[0.0007199557856794636, 0.0007199557856794636]","vbase":0.11999263094657726,"g_fr":"[0.0 0.0; 0.0 0.0]","source_id":"line.tl_1","b_fr":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_connections":"[1, 2]","f_bus":6,"ComponentType":"branch","br_status":1,"xcoord_2":-4.491851405049061,"b_to":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_bus":10,"index":1,"angmin":"[-1.0471975511965976, -1.0471975511965976]","angmax":"[1.0471975511965976, 1.0471975511965976]","transformer":null,"ycoord_1":-4.238425700755331,"tap":null,"rate_a":"[Inf, Inf]","rate_b":"[Inf, Inf]","rate_c":"[Inf, Inf]","c_rating_b":"[Inf, Inf]","c_rating_c":"[Inf, Inf]"},{"br_r":"[48.005895785812136;;]","xcoord_1":4.2300682704967665,"shift":"[0.0]","f_connections":"[3]","name":"_virtual_branch.transformer.xfmr_3_3","br_x":"[0.0;;]","ycoord_2":2.016976437213411,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_3_3","b_fr":"[0.0;;]","t_connections":"[3]","f_bus":19,"ComponentType":"branch","br_status":1,"xcoord_2":2.8869849371419303,"b_to":"[0.0;;]","t_bus":17,"index":12,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":2.2225803874055026,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[48.005895785812136;;]","xcoord_1":-2.683450972832282,"shift":"[0.0]","f_connections":"[1]","name":"_virtual_branch.transformer.xfmr_1_2","br_x":"[0.0;;]","ycoord_2":-2.5518439849338423,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[3.99950874485597e-6;;]","source_id":"_virtual_branch.transformer.xfmr_1_2","b_fr":"[0.0;;]","t_connections":"[1]","f_bus":38,"ComponentType":"branch","br_status":1,"xcoord_2":-2.3032610925368755,"b_to":"[0.0;;]","t_bus":35,"index":29,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-3.8552962976277327,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[1.3347425146627797e-15;;]","xcoord_1":2.276571452108409,"shift":"[0.0]","f_connections":"[2]","name":"_virtual_branch.transformer.xfmr_2_5","br_x":"[34.00417618161693;;]","ycoord_2":-3.510712539058742,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_2_5","b_fr":"[0.0;;]","t_connections":"[2]","f_bus":30,"ComponentType":"branch","br_status":1,"xcoord_2":2.653661549668881,"b_to":"[0.0;;]","t_bus":31,"index":20,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-2.447131053950859,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.00378341736954923 0.00014538299400423797 0.00014538299400423797; 0.00014538299400423797 0.00378341736954923 0.00014538299400423797; 0.00014538299400423797 0.00014538299400423797 0.00378341736954923]","xcoord_1":-8.288683318105225,"shift":null,"f_connections":"[1, 2, 3]","name":"_virtual_branch.voltage_source.source","br_x":"[0.01377560835901102 -0.0007765291431689508 -0.0007765291431689508; -0.0007765291431689508 0.01377560835901102 -0.0007765291431689508; -0.0007765291431689508 -0.0007765291431689508 0.01377560835901102]","ycoord_2":9.571108103634089,"switch":null,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":132.79056191361394,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"voltage_source.source","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":41,"ComponentType":"branch","br_status":1,"xcoord_2":-7.6646591830444555,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":8,"index":32,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":null,"ycoord_1":10.373609144383366,"tap":null,"rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.2754152097119431 0.1677912642412843; 0.1677912642412843 0.2754152097119431]","xcoord_1":5.213178940301477,"shift":null,"f_connections":"[1, 2]","name":"tl_5","br_x":"[-13.367054508272346 -7.598009154470415; -7.598009154470415 -13.367054508272346]","ycoord_2":-6.398780683093677,"switch":null,"g_to":"[0.0 0.0; 0.0 0.0]","c_rating_a":"[0.0007199557856794636, 0.0007199557856794636]","vbase":0.11999263094657726,"g_fr":"[0.0 0.0; 0.0 0.0]","source_id":"line.tl_5","b_fr":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_connections":"[1, 2]","f_bus":12,"ComponentType":"branch","br_status":1,"xcoord_2":6.016663050517502,"b_to":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_bus":11,"index":2,"angmin":"[-1.0471975511965976, -1.0471975511965976]","angmax":"[1.0471975511965976, 1.0471975511965976]","transformer":null,"ycoord_1":-5.55612747077271,"tap":null,"rate_a":"[Inf, Inf]","rate_b":"[Inf, Inf]","rate_c":"[Inf, Inf]","c_rating_b":"[Inf, Inf]","c_rating_c":"[Inf, Inf]"},{"br_r":"[0.2754152097119431 0.1677912642412843; 0.1677912642412843 0.2754152097119431]","xcoord_1":-4.491851405049061,"shift":null,"f_connections":"[1, 2]","name":"tl_4","br_x":"[-13.367054508272346 -7.598009154470415; -7.598009154470415 -13.367054508272346]","ycoord_2":-5.794435144734234,"switch":null,"g_to":"[0.0 0.0; 0.0 0.0]","c_rating_a":"[0.0007199557856794636, 0.0007199557856794636]","vbase":0.11999263094657726,"g_fr":"[0.0 0.0; 0.0 0.0]","source_id":"line.tl_4","b_fr":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_connections":"[1, 2]","f_bus":10,"ComponentType":"branch","br_status":1,"xcoord_2":-5.312968480357195,"b_to":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_bus":13,"index":6,"angmin":"[-1.0471975511965976, -1.0471975511965976]","angmax":"[1.0471975511965976, 1.0471975511965976]","transformer":null,"ycoord_1":-5.009163909478641,"tap":null,"rate_a":"[Inf, Inf]","rate_b":"[Inf, Inf]","rate_c":"[Inf, Inf]","c_rating_b":"[Inf, Inf]","c_rating_c":"[Inf, Inf]"},{"br_r":"[6.000736973226517;;]","xcoord_1":1.4576082890791435,"shift":"[0.0]","f_connections":"[2]","name":"_virtual_branch.transformer.xfmr_2_1","br_x":"[0.0;;]","ycoord_2":-2.447131053950859,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_2_1","b_fr":"[0.0;;]","t_connections":"[2]","f_bus":34,"ComponentType":"branch","br_status":1,"xcoord_2":2.276571452108409,"b_to":"[0.0;;]","t_bus":30,"index":25,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-1.5587696311489385,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[48.005895785812136;;]","xcoord_1":4.239214909103977,"shift":"[0.0]","f_connections":"[2]","name":"_virtual_branch.transformer.xfmr_2_2","br_x":"[0.0;;]","ycoord_2":-2.89486704327107,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[1.999754372427985e-6;;]","source_id":"_virtual_branch.transformer.xfmr_2_2","b_fr":"[0.0;;]","t_connections":"[2]","f_bus":32,"ComponentType":"branch","br_status":1,"xcoord_2":3.3120888676757994,"b_to":"[0.0;;]","t_bus":29,"index":23,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-3.6134775156510694,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[-1.668428143328476e-16;;]","xcoord_1":3.3120888676757994,"shift":"[0.0]","f_connections":"[2]","name":"_virtual_branch.transformer.xfmr_2_6","br_x":"[17.00208809080847;;]","ycoord_2":-3.510712539058742,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_2_6","b_fr":"[0.0;;]","t_connections":"[2]","f_bus":29,"ComponentType":"branch","br_status":1,"xcoord_2":2.653661549668881,"b_to":"[0.0;;]","t_bus":31,"index":22,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-2.89486704327107,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[48.005895785812136;;]","xcoord_1":3.707612515619689,"shift":"[0.0]","f_connections":"[3]","name":"_virtual_branch.transformer.xfmr_3_2","br_x":"[0.0;;]","ycoord_2":1.5352836728009636,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[1.999754372427985e-6;;]","source_id":"_virtual_branch.transformer.xfmr_3_2","b_fr":"[0.0;;]","t_connections":"[3]","f_bus":18,"ComponentType":"branch","br_status":1,"xcoord_2":3.3318288102054114,"b_to":"[0.0;;]","t_bus":15,"index":11,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":2.8263308867460637,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[6.000736973226517;;]","xcoord_1":1.4815075555560226,"shift":"[0.0]","f_connections":"[3]","name":"_virtual_branch.transformer.xfmr_3_1","br_x":"[0.0;;]","ycoord_2":1.0587031514985827,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_3_1","b_fr":"[0.0;;]","t_connections":"[3]","f_bus":20,"ComponentType":"branch","br_status":1,"xcoord_2":2.3302707521645885,"b_to":"[0.0;;]","t_bus":16,"index":13,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":0.22471618060903117,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.2754152097119431 0.1677912642412843; 0.1677912642412843 0.2754152097119431]","xcoord_1":4.430426114781139,"shift":null,"f_connections":"[1, 2]","name":"tl_2","br_x":"[-13.367054508272346 -7.598009154470415; -7.598009154470415 -13.367054508272346]","ycoord_2":-5.55612747077271,"switch":null,"g_to":"[0.0 0.0; 0.0 0.0]","c_rating_a":"[0.0007199557856794636, 0.0007199557856794636]","vbase":0.11999263094657726,"g_fr":"[0.0 0.0; 0.0 0.0]","source_id":"line.tl_2","b_fr":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_connections":"[1, 2]","f_bus":1,"ComponentType":"branch","br_status":1,"xcoord_2":5.213178940301477,"b_to":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_bus":12,"index":5,"angmin":"[-1.0471975511965976, -1.0471975511965976]","angmax":"[1.0471975511965976, 1.0471975511965976]","transformer":null,"ycoord_1":-4.737182603063087,"tap":null,"rate_a":"[Inf, Inf]","rate_b":"[Inf, Inf]","rate_c":"[Inf, Inf]","c_rating_b":"[Inf, Inf]","c_rating_c":"[Inf, Inf]"},{"br_r":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","xcoord_1":-6.3910465813556,"shift":"[0.0, 0.0, 0.0]","f_connections":"[1, 2, 3]","name":"_virtual_branch.transformer.subxf_3","br_x":"[0.003 0.0 0.0; 0.0 0.003 0.0; 0.0 0.0 0.003]","ycoord_2":7.154662479099773,"switch":false,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"_virtual_branch.transformer.subxf_3","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":23,"ComponentType":"branch","br_status":1,"xcoord_2":-5.748934339720785,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":21,"index":15,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":false,"ycoord_1":7.965464815559634,"tap":"[1.0, 1.0, 1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.0;;]","xcoord_1":-1.2803281597912683,"shift":"[0.0]","f_connections":"[1]","name":"_virtual_branch.transformer.xfmr_1_4","br_x":"[17.002088090808464;;]","ycoord_2":-2.5518439849338423,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_1_4","b_fr":"[0.0;;]","t_connections":"[1]","f_bus":36,"ComponentType":"branch","br_status":1,"xcoord_2":-2.3032610925368755,"b_to":"[0.0;;]","t_bus":35,"index":27,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-2.1235867727815196,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[3.0003684866132585;;]","xcoord_1":-0.3450350099573605,"shift":"[0.0]","f_connections":"[1]","name":"_virtual_branch.transformer.xfmr_1_1","br_x":"[0.0;;]","ycoord_2":-2.1235867727815196,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_1_1","b_fr":"[0.0;;]","t_connections":"[1]","f_bus":40,"ComponentType":"branch","br_status":1,"xcoord_2":-1.2803281597912683,"b_to":"[0.0;;]","t_bus":36,"index":31,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-1.3863226395695527,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[-8.34214071664238e-17;;]","xcoord_1":-2.3032610925368755,"shift":"[0.0]","f_connections":"[1]","name":"_virtual_branch.transformer.xfmr_1_6","br_x":"[8.501044045404235;;]","ycoord_2":-3.056153291449321,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_1_6","b_fr":"[0.0;;]","t_connections":"[1]","f_bus":35,"ComponentType":"branch","br_status":1,"xcoord_2":-1.8814541825260684,"b_to":"[0.0;;]","t_bus":37,"index":28,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-2.5518439849338423,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.00014999999999999996 0.0 0.0; 0.0 0.00014999999999999996 0.0; 0.0 0.0 0.00014999999999999996]","xcoord_1":-7.030726622557905,"shift":"[0.0, 0.0, 0.0]","f_connections":"[1, 2, 3]","name":"_virtual_branch.transformer.subxf_1","br_x":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","ycoord_2":7.965464815559634,"switch":false,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"_virtual_branch.transformer.subxf_1","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":24,"ComponentType":"branch","br_status":1,"xcoord_2":-6.3910465813556,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":23,"index":16,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":false,"ycoord_1":8.769745312697241,"tap":"[1.0, 1.0, 1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.00014999999999999996 0.0 0.0; 0.0 0.00014999999999999996 0.0; 0.0 0.0 0.00014999999999999996]","xcoord_1":-5.100450728404407,"shift":"[0.0, 0.0, 0.0]","f_connections":"[1, 2, 3]","name":"_virtual_branch.transformer.subxf_2","br_x":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","ycoord_2":7.154662479099773,"switch":false,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"_virtual_branch.transformer.subxf_2","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":22,"ComponentType":"branch","br_status":1,"xcoord_2":-5.748934339720785,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":21,"index":14,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":false,"ycoord_1":6.338004116710717,"tap":"[1.0, 1.0, 1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.0;;]","xcoord_1":2.276571452108409,"shift":"[0.0]","f_connections":"[2]","name":"_virtual_branch.transformer.xfmr_2_4","br_x":"[34.00417618161693;;]","ycoord_2":-2.89486704327107,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_2_4","b_fr":"[0.0;;]","t_connections":"[2]","f_bus":30,"ComponentType":"branch","br_status":1,"xcoord_2":3.3120888676757994,"b_to":"[0.0;;]","t_bus":29,"index":21,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-2.447131053950859,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[1.9292492840877436e-7 0.0 0.0; 0.0 1.9292492840877436e-7 0.0; 0.0 0.0 1.9292492840877436e-7]","xcoord_1":-0.17719425190834429,"shift":null,"f_connections":"[1, 2, 3]","name":"_virtual_branch.switch.switch_1","br_x":"[1.9292492840877436e-7 0.0 0.0; 0.0 1.9292492840877436e-7 0.0; 0.0 0.0 1.9292492840877436e-7]","ycoord_2":-0.6364831002030054,"switch":null,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":7.199557856794636,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"switch.switch_1","b_fr":"[2.735714716372968e-13 -5.862245820799217e-14 -5.862245820799217e-14; -5.862245820799217e-14 2.735714716372968e-13 -5.862245820799217e-14; -5.862245820799217e-14 -5.862245820799217e-14 2.735714716372968e-13]","t_connections":"[1, 2, 3]","f_bus":14,"ComponentType":"branch","br_status":1,"xcoord_2":0.6228527861088418,"b_to":"[2.735714716372968e-13 -5.862245820799217e-14 -5.862245820799217e-14; -5.862245820799217e-14 2.735714716372968e-13 -5.862245820799217e-14; -5.862245820799217e-14 -5.862245820799217e-14 2.735714716372968e-13]","t_bus":3,"index":7,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":null,"ycoord_1":0.29660156939686366,"tap":null,"rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[1.3347425146627797e-15;;]","xcoord_1":2.3302707521645885,"shift":"[0.0]","f_connections":"[3]","name":"_virtual_branch.transformer.xfmr_3_5","br_x":"[34.00417618161693;;]","ycoord_2":2.016976437213411,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_3_5","b_fr":"[0.0;;]","t_connections":"[3]","f_bus":16,"ComponentType":"branch","br_status":1,"xcoord_2":2.8869849371419303,"b_to":"[0.0;;]","t_bus":17,"index":8,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":1.0587031514985827,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[6.673712573313899e-16;;]","xcoord_1":-1.2803281597912683,"shift":"[0.0]","f_connections":"[1]","name":"_virtual_branch.transformer.xfmr_1_5","br_x":"[17.002088090808464;;]","ycoord_2":-3.056153291449321,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_1_5","b_fr":"[0.0;;]","t_connections":"[1]","f_bus":36,"ComponentType":"branch","br_status":1,"xcoord_2":-1.8814541825260684,"b_to":"[0.0;;]","t_bus":37,"index":26,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-2.1235867727815196,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.02000245657742173 0.0 0.0; 0.0 0.02000245657742173 0.0; 0.0 0.0 0.02000245657742173]","xcoord_1":-1.69267313505402,"shift":"[0.0, 0.0, 0.0]","f_connections":"[1, 2, 3]","name":"_virtual_branch.transformer.trans_reg_1_2","br_x":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","ycoord_2":2.9872438838212485,"switch":false,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"_virtual_branch.transformer.trans_reg_1_2","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":26,"ComponentType":"branch","br_status":1,"xcoord_2":-2.4064436520273373,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":25,"index":17,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":false,"ycoord_1":2.114496611103428,"tap":"[1.0, 1.0, 1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[-1.668428143328476e-16;;]","xcoord_1":3.3318288102054114,"shift":"[0.0]","f_connections":"[3]","name":"_virtual_branch.transformer.xfmr_3_6","br_x":"[17.00208809080847;;]","ycoord_2":2.016976437213411,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_3_6","b_fr":"[0.0;;]","t_connections":"[3]","f_bus":15,"ComponentType":"branch","br_status":1,"xcoord_2":2.8869849371419303,"b_to":"[0.0;;]","t_bus":17,"index":10,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":1.5352836728009636,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.02000245657742173 0.0 0.0; 0.0 0.02000245657742173 0.0; 0.0 0.0 0.02000245657742173]","xcoord_1":-3.777712155320569,"shift":"[0.0, 0.0, 0.0]","f_connections":"[1, 2, 3]","name":"_virtual_branch.transformer.trans_reg_1_1","br_x":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","ycoord_2":3.842232394333353,"switch":false,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"_virtual_branch.transformer.trans_reg_1_1","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":28,"ComponentType":"branch","br_status":1,"xcoord_2":-3.1002193812311534,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":27,"index":19,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":false,"ycoord_1":4.684510894748503,"tap":"[1.0, 1.0, 1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.0;;]","xcoord_1":2.3302707521645885,"shift":"[0.0]","f_connections":"[3]","name":"_virtual_branch.transformer.xfmr_3_4","br_x":"[34.00417618161693;;]","ycoord_2":1.5352836728009636,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_3_4","b_fr":"[0.0;;]","t_connections":"[3]","f_bus":16,"ComponentType":"branch","br_status":1,"xcoord_2":3.3318288102054114,"b_to":"[0.0;;]","t_bus":15,"index":9,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":1.0587031514985827,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","xcoord_1":-3.1002193812311534,"shift":"[0.0, 0.0, 0.0]","f_connections":"[1, 2, 3]","name":"_virtual_branch.transformer.trans_reg_1_3","br_x":"[0.7000859802097606 0.0 0.0; 0.0 0.7000859802097606 0.0; 0.0 0.0 0.7000859802097606]","ycoord_2":2.9872438838212485,"switch":false,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"_virtual_branch.transformer.trans_reg_1_3","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":27,"ComponentType":"branch","br_status":1,"xcoord_2":-2.4064436520273373,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":25,"index":18,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":false,"ycoord_1":3.842232394333353,"tap":"[1.0, 1.0, 1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[48.005895785812136;;]","xcoord_1":-3.2108441247041455,"shift":"[0.0]","f_connections":"[1]","name":"_virtual_branch.transformer.xfmr_1_3","br_x":"[0.0;;]","ycoord_2":-3.056153291449321,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_1_3","b_fr":"[0.0;;]","t_connections":"[1]","f_bus":39,"ComponentType":"branch","br_status":1,"xcoord_2":-1.8814541825260684,"b_to":"[0.0;;]","t_bus":37,"index":30,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-3.2616895268504242,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.2754152097119431 0.1677912642412843; 0.1677912642412843 0.2754152097119431]","xcoord_1":5.604119607146534,"shift":null,"f_connections":"[1, 2]","name":"tl_6","br_x":"[-13.367054508272346 -7.598009154470415; -7.598009154470415 -13.367054508272346]","ycoord_2":4.533456515927445,"switch":null,"g_to":"[0.0 0.0; 0.0 0.0]","c_rating_a":"[0.0007199557856794636, 0.0007199557856794636]","vbase":0.11999263094657726,"g_fr":"[0.0 0.0; 0.0 0.0]","source_id":"line.tl_6","b_fr":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_connections":"[1, 2]","f_bus":9,"ComponentType":"branch","br_status":1,"xcoord_2":6.480344686916659,"b_to":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_bus":4,"index":3,"angmin":"[-1.0471975511965976, -1.0471975511965976]","angmax":"[1.0471975511965976, 1.0471975511965976]","transformer":null,"ycoord_1":3.851044220449961,"tap":null,"rate_a":"[Inf, Inf]","rate_b":"[Inf, Inf]","rate_c":"[Inf, Inf]","c_rating_b":"[Inf, Inf]","c_rating_c":"[Inf, Inf]"}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"br_r"},{"field":"xcoord_1"},{"field":"shift"},{"field":"f_connections"},{"field":"name"},{"field":"br_x"},{"field":"ycoord_2"},{"field":"switch"},{"field":"g_to"},{"field":"c_rating_a"},{"field":"vbase"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"t_connections"},{"field":"f_bus"},{"field":"ComponentType"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"b_to"},{"field":"t_bus"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"},{"field":"rate_a"},{"field":"rate_b"},{"field":"rate_c"},{"field":"c_rating_b"},{"field":"c_rating_c"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"br_r"},{"field":"xcoord_1"},{"field":"shift"},{"field":"f_connections"},{"field":"name"},{"field":"br_x"},{"field":"ycoord_2"},{"field":"switch"},{"field":"g_to"},{"field":"c_rating_a"},{"field":"vbase"},{"field":"g_fr"},{"field":"source_id"},{"field":"b_fr"},{"field":"t_connections"},{"field":"f_bus"},{"field":"ComponentType"},{"field":"br_status"},{"field":"xcoord_2"},{"field":"b_to"},{"field":"t_bus"},{"field":"index"},{"field":"angmin"},{"field":"angmax"},{"field":"transformer"},{"field":"ycoord_1"},{"field":"tap"},{"field":"rate_a"},{"field":"rate_b"},{"field":"rate_c"},{"field":"c_rating_b"},{"field":"c_rating_c"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"data":{"values":[{"xcoord_1":-0.9521346669837616,"f_connections":"[1, 2, 3]","state":1,"rate_b":"[Inf, Inf, Inf]","name":"switch_1","thermal_rating":"[Inf, Inf, Inf]","status":1,"rate_c":"[Inf, Inf, Inf]","ycoord_2":0.29660156939686366,"vbase":7.199557856794636,"ComponentType":"switch","c_rating_b":"[Inf, Inf, Inf]","source_id":"switch.switch_1","t_connections":"[1, 2, 3]","f_bus":2,"current_rating":"[0.04319734714076781, 0.04319734714076781, 0.04319734714076781]","xcoord_2":-0.17719425190834429,"dispatchable":1,"t_bus":14,"index":1,"ycoord_1":1.219354204693398,"c_rating_c":"[Inf, Inf, Inf]"}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"xcoord_1"},{"field":"f_connections"},{"field":"state"},{"field":"rate_b"},{"field":"name"},{"field":"thermal_rating"},{"field":"status"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"vbase"},{"field":"ComponentType"},{"field":"c_rating_b"},{"field":"source_id"},{"field":"t_connections"},{"field":"f_bus"},{"field":"current_rating"},{"field":"xcoord_2"},{"field":"dispatchable"},{"field":"t_bus"},{"field":"index"},{"field":"ycoord_1"},{"field":"c_rating_c"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Switch","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"xcoord_1"},{"field":"f_connections"},{"field":"state"},{"field":"rate_b"},{"field":"name"},{"field":"thermal_rating"},{"field":"status"},{"field":"rate_c"},{"field":"ycoord_2"},{"field":"vbase"},{"field":"ComponentType"},{"field":"c_rating_b"},{"field":"source_id"},{"field":"t_connections"},{"field":"f_bus"},{"field":"current_rating"},{"field":"xcoord_2"},{"field":"dispatchable"},{"field":"t_bus"},{"field":"index"},{"field":"ycoord_1"},{"field":"c_rating_c"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"data":{"values":[{"polarity":1,"cm_ub":null,"tm_lb":"[0.9, 0.9, 0.9]","xcoord_1":-7.6646591830444555,"tm_set":"[1.0, 1.0, 1.0]","t_vbase":0.5773502691896258,"tm_step":"[0.03125, 0.03125, 0.03125]","f_connections":"[1, 2, 3]","configuration":"WYE","name":"_virtual_transformer.subxf.1","tm_nom":1.0,"status":1,"ycoord_2":8.769745312697241,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.subxf.1","t_connections":"[1, 2, 3]","f_bus":8,"sm_ub":0.15000000000000002,"tm_fix":"Bool[1, 1, 1]","xcoord_2":-7.030726622557905,"t_bus":24,"index":4,"tm_ub":"[1.1, 1.1, 1.1]","ycoord_1":9.571108103634089,"f_vbase":132.79056191361394,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":0.6228527861088418,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[3]","configuration":"WYE","name":"_virtual_transformer.xfmr_3.1","tm_nom":1.0000000000000002,"status":1,"ycoord_2":0.22471618060903117,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_3.1","t_connections":"[3]","f_bus":3,"sm_ub":0.0015,"tm_fix":"Bool[1]","xcoord_2":1.4815075555560226,"t_bus":20,"index":1,"tm_ub":"[1.1]","ycoord_1":-0.6364831002030054,"f_vbase":7.199557856794636,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":-3.694770269537299,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[1]","configuration":"WYE","name":"_virtual_transformer.xfmr_1.2","tm_nom":1.0,"status":1,"ycoord_2":-3.8552962976277327,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_1.2","t_connections":"[1]","f_bus":6,"sm_ub":0.003,"tm_fix":"Bool[1]","xcoord_2":-2.683450972832282,"t_bus":38,"index":12,"tm_ub":"[1.1]","ycoord_1":-4.238425700755331,"f_vbase":0.11999263094657726,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":4.73771362975892,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[1]","configuration":"WYE","name":"_virtual_transformer.xfmr_3.2","tm_nom":1.0,"status":1,"ycoord_2":2.8263308867460637,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_3.2","t_connections":"[3]","f_bus":7,"sm_ub":0.0015,"tm_fix":"Bool[1]","xcoord_2":3.707612515619689,"t_bus":18,"index":2,"tm_ub":"[1.1]","ycoord_1":3.1736838609520923,"f_vbase":0.11999263094657726,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9, 0.9, 0.9]","xcoord_1":-4.445255706643494,"tm_set":"[1.0, 1.0, 1.0]","t_vbase":0.9999385912214771,"tm_step":"[0.03125, 0.03125, 0.03125]","f_connections":"[1, 2, 3]","configuration":"WYE","name":"_virtual_transformer.trans_reg_1.1","tm_nom":0.9999999999999999,"status":1,"ycoord_2":4.684510894748503,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.trans_reg_1.1","t_connections":"[1, 2, 3]","f_bus":5,"sm_ub":0.15000000000000002,"tm_fix":"Bool[1, 1, 1]","xcoord_2":-3.777712155320569,"t_bus":28,"index":6,"tm_ub":"[1.1, 1.1, 1.1]","ycoord_1":5.514426843016411,"f_vbase":7.199557856794635,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":0.6228527861088418,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[1]","configuration":"WYE","name":"_virtual_transformer.xfmr_1.1","tm_nom":1.0000000000000002,"status":1,"ycoord_2":-1.3863226395695527,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_1.1","t_connections":"[1]","f_bus":3,"sm_ub":0.003,"tm_fix":"Bool[1]","xcoord_2":-0.3450350099573605,"t_bus":40,"index":11,"tm_ub":"[1.1]","ycoord_1":-0.6364831002030054,"f_vbase":7.199557856794636,"controls":null},{"polarity":-1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":-3.694770269537299,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[2]","configuration":"WYE","name":"_virtual_transformer.xfmr_1.3","tm_nom":1.0,"status":1,"ycoord_2":-3.2616895268504242,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_1.3","t_connections":"[1]","f_bus":6,"sm_ub":0.003,"tm_fix":"Bool[1]","xcoord_2":-3.2108441247041455,"t_bus":39,"index":13,"tm_ub":"[1.1]","ycoord_1":-4.238425700755331,"f_vbase":0.11999263094657726,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9, 0.9, 0.9]","xcoord_1":-4.445255706643494,"tm_set":"[1.0, 1.0, 1.0]","t_vbase":0.5773502691896258,"tm_step":"[0.03125, 0.03125, 0.03125]","f_connections":"[1, 2, 3]","configuration":"WYE","name":"_virtual_transformer.subxf.2","tm_nom":1.0,"status":1,"ycoord_2":6.338004116710717,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.subxf.2","t_connections":"[1, 2, 3]","f_bus":5,"sm_ub":0.15000000000000002,"tm_fix":"Bool[1, 1, 1]","xcoord_2":-5.100450728404407,"t_bus":22,"index":5,"tm_ub":"[1.1, 1.1, 1.1]","ycoord_1":5.514426843016411,"f_vbase":7.199557856794635,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9, 0.9, 0.9]","xcoord_1":-0.9521346669837616,"tm_set":"[1.0, 1.0, 1.0]","t_vbase":0.9999385912214771,"tm_step":"[0.03125, 0.03125, 0.03125]","f_connections":"[1, 2, 3]","configuration":"WYE","name":"_virtual_transformer.trans_reg_1.2","tm_nom":0.9999999999999999,"status":1,"ycoord_2":2.114496611103428,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.trans_reg_1.2","t_connections":"[1, 2, 3]","f_bus":2,"sm_ub":0.15000000000000002,"tm_fix":"Bool[0, 1, 1]","xcoord_2":-1.69267313505402,"t_bus":26,"index":7,"tm_ub":"[1.1, 1.1, 1.1]","ycoord_1":1.219354204693398,"f_vbase":7.199557856794636,"controls":"Dict{String, Any}(\"ctprim\" => [300.0, 0.0, 0.0], \"x\" => [0.0, NaN, NaN], \"r\" => [0.0, NaN, NaN], \"ptratio\" => [60.0, 0.0, 0.0], \"band\" => [1.200073695059751, 0.0, 0.0], \"vreg\" => [62.503838284362025, 0.0, 0.0])"},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":0.6228527861088418,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[2]","configuration":"WYE","name":"_virtual_transformer.xfmr_2.1","tm_nom":1.0000000000000002,"status":1,"ycoord_2":-1.5587696311489385,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_2.1","t_connections":"[2]","f_bus":3,"sm_ub":0.0015,"tm_fix":"Bool[1]","xcoord_2":1.4576082890791435,"t_bus":34,"index":8,"tm_ub":"[1.1]","ycoord_1":-0.6364831002030054,"f_vbase":7.199557856794636,"controls":null},{"polarity":-1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":4.430426114781139,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[2]","configuration":"WYE","name":"_virtual_transformer.xfmr_2.3","tm_nom":1.0,"status":1,"ycoord_2":-4.478899406131459,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_2.3","t_connections":"[2]","f_bus":1,"sm_ub":0.0015,"tm_fix":"Bool[1]","xcoord_2":3.3179660990599853,"t_bus":33,"index":10,"tm_ub":"[1.1]","ycoord_1":-4.737182603063087,"f_vbase":0.11999263094657726,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":4.430426114781139,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[1]","configuration":"WYE","name":"_virtual_transformer.xfmr_2.2","tm_nom":1.0,"status":1,"ycoord_2":-3.6134775156510694,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_2.2","t_connections":"[2]","f_bus":1,"sm_ub":0.0015,"tm_fix":"Bool[1]","xcoord_2":4.239214909103977,"t_bus":32,"index":9,"tm_ub":"[1.1]","ycoord_1":-4.737182603063087,"f_vbase":0.11999263094657726,"controls":null},{"polarity":-1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":4.73771362975892,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[2]","configuration":"WYE","name":"_virtual_transformer.xfmr_3.3","tm_nom":1.0,"status":1,"ycoord_2":2.2225803874055026,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_3.3","t_connections":"[3]","f_bus":7,"sm_ub":0.0015,"tm_fix":"Bool[1]","xcoord_2":4.2300682704967665,"t_bus":19,"index":3,"tm_ub":"[1.1]","ycoord_1":3.1736838609520923,"f_vbase":0.11999263094657726,"controls":null}]},"layer":[{"mark":{"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"polarity"},{"field":"cm_ub"},{"field":"tm_lb"},{"field":"xcoord_1"},{"field":"tm_set"},{"field":"t_vbase"},{"field":"tm_step"},{"field":"f_connections"},{"field":"configuration"},{"field":"name"},{"field":"tm_nom"},{"field":"status"},{"field":"ycoord_2"},{"field":"ComponentType"},{"field":"source_id"},{"field":"t_connections"},{"field":"f_bus"},{"field":"sm_ub"},{"field":"tm_fix"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"index"},{"field":"tm_ub"},{"field":"ycoord_1"},{"field":"f_vbase"},{"field":"controls"}],"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Transformer","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"tooltip":[{"field":"polarity"},{"field":"cm_ub"},{"field":"tm_lb"},{"field":"xcoord_1"},{"field":"tm_set"},{"field":"t_vbase"},{"field":"tm_step"},{"field":"f_connections"},{"field":"configuration"},{"field":"name"},{"field":"tm_nom"},{"field":"status"},{"field":"ycoord_2"},{"field":"ComponentType"},{"field":"source_id"},{"field":"t_connections"},{"field":"f_bus"},{"field":"sm_ub"},{"field":"tm_fix"},{"field":"xcoord_2"},{"field":"t_bus"},{"field":"index"},{"field":"tm_ub"},{"field":"ycoord_1"},{"field":"f_vbase"},{"field":"controls"}],"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","1"],"xcoord_1":-5.312968480357195,"ycoord_1":-5.794435144734234,"src":["bus","13"],"xcoord_2":-6.104669405113011,"ycoord_2":-6.533938757909623,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["gen","6"],"xcoord_1":-8.288683318105225,"ycoord_1":10.373609144383366,"src":["bus","41"],"xcoord_2":-8.921569040808818,"ycoord_2":11.1624979662305,"dst":["gen","6"],"ComponentType":"connector"},{"source_id":["load","4"],"xcoord_1":-5.312968480357195,"ycoord_1":-5.794435144734234,"src":["bus","13"],"xcoord_2":-6.424971791931727,"ycoord_2":-5.43081860555253,"dst":["load","4"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":6.480344686916659,"ycoord_1":4.533456515927445,"src":["bus","4"],"xcoord_2":6.638302468383208,"ycoord_2":5.637261646124961,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":6.016663050517502,"ycoord_1":-6.398780683093677,"src":["bus","11"],"xcoord_2":7.080660751824187,"ycoord_2":-6.762956985968161,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["gen","5"],"xcoord_1":6.016663050517502,"ycoord_1":-6.398780683093677,"src":["bus","11"],"xcoord_2":6.323362728090946,"ycoord_2":-7.479865200814582,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":-5.312968480357195,"ycoord_1":-5.794435144734234,"src":["bus","13"],"xcoord_2":-5.043568909282319,"ycoord_2":-6.936460951701914,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":6.016663050517502,"ycoord_1":-6.398780683093677,"src":["bus","11"],"xcoord_2":5.425746674497685,"ycoord_2":-7.428233610288199,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":6.480344686916659,"ycoord_1":4.533456515927445,"src":["bus","4"],"xcoord_2":7.599098652173457,"ycoord_2":4.472202972530124,"dst":["load","3"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":6.016663050517502,"ycoord_1":-6.398780683093677,"src":["bus","11"],"xcoord_2":7.077022468403299,"ycoord_2":-5.864575844926383,"dst":["load","2"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"tooltip":[{"field":"source_id"},{"field":"xcoord_1"},{"field":"ycoord_1"},{"field":"src"},{"field":"xcoord_2"},{"field":"ycoord_2"},{"field":"dst"},{"field":"ComponentType"}],"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-7.030726622557905,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":24,"name":"_virtual_bus.transformer.subxf_1","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"ComponentType":"bus","source_id":"transformer.subxf","vmin":"[0.0, 0.0, 0.0]","index":24,"ycoord_1":8.769745312697241,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":6.480344686916659,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":4,"name":"tm_3","bus_type":2,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tm_3","vmin":"[0.0, 0.0]","index":4,"ycoord_1":4.533456515927445,"base_kv":null,"va_start":"[2.0943951023931953, 5.235987755982989]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":4.430426114781139,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":1,"name":"tn_2","bus_type":1,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tn_2","vmin":"[0.0, 0.0]","index":1,"ycoord_1":-4.737182603063087,"base_kv":null,"va_start":"[-2.0943951023931953, 1.0471975511965976]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":5.213178940301477,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":12,"name":"tn_5","bus_type":1,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tn_5","vmin":"[0.0, 0.0]","index":12,"ycoord_1":-5.55612747077271,"base_kv":null,"va_start":"[-2.0943951023931953, 1.0471975511965976]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":3.3120888676757994,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":29,"name":"_virtual_bus.transformer.xfmr_2_5","bus_type":1,"terminals":"[2]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_2","vmin":"[0.0]","index":29,"ycoord_1":-2.89486704327107,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":1.4815075555560226,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":20,"name":"_virtual_bus.transformer.xfmr_3_1","bus_type":1,"terminals":"[3]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_3","vmin":"[0.0]","index":20,"ycoord_1":0.22471618060903117,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":4.239214909103977,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":32,"name":"_virtual_bus.transformer.xfmr_2_2","bus_type":1,"terminals":"[2]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_2","vmin":"[0.0]","index":32,"ycoord_1":-3.6134775156510694,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-0.9521346669837616,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":2,"name":"node_52","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":7.199557856794636,"ComponentType":"bus","source_id":"bus.node_52","vmin":"[0.0, 0.0, 0.0]","index":2,"ycoord_1":1.219354204693398,"base_kv":null,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":-3.694770269537299,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":6,"name":"tn_1","bus_type":1,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tn_1","vmin":"[0.0, 0.0]","index":6,"ycoord_1":-4.238425700755331,"base_kv":null,"va_start":"[0.0, 3.141592653589793]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-2.4064436520273373,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":25,"name":"_virtual_bus.transformer.trans_reg_1_4","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"ComponentType":"bus","source_id":"transformer.trans_reg_1","vmin":"[0.0, 0.0, 0.0]","index":25,"ycoord_1":2.9872438838212485,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-6.3910465813556,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":23,"name":"_virtual_bus.transformer.subxf_3","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"ComponentType":"bus","source_id":"transformer.subxf","vmin":"[0.0, 0.0, 0.0]","index":23,"ycoord_1":7.965464815559634,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-5.100450728404407,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":22,"name":"_virtual_bus.transformer.subxf_2","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"ComponentType":"bus","source_id":"transformer.subxf","vmin":"[0.0, 0.0, 0.0]","index":22,"ycoord_1":6.338004116710717,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":6.016663050517502,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":11,"name":"tm_2","bus_type":2,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tm_2","vmin":"[0.0, 0.0]","index":11,"ycoord_1":-6.398780683093677,"base_kv":null,"va_start":"[-2.0943951023931953, 1.0471975511965976]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":-2.3032610925368755,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":35,"name":"_virtual_bus.transformer.xfmr_1_5","bus_type":1,"terminals":"[1]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_1","vmin":"[0.0]","index":35,"ycoord_1":-2.5518439849338423,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":-5.312968480357195,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":13,"name":"tm_1","bus_type":2,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tm_1","vmin":"[0.0, 0.0]","index":13,"ycoord_1":-5.794435144734234,"base_kv":null,"va_start":"[0.0, 3.141592653589793]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-8.288683318105225,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":41,"name":"_virtual_bus.voltage_source.source","bus_type":3,"terminals":"[1, 2, 3]","vmax":"[1.05, 1.05, 1.05]","vbase":132.79056191361394,"ComponentType":"bus","source_id":"voltage_source.source","vmin":"[1.05, 1.05, 1.05]","index":41,"ycoord_1":10.373609144383366,"base_kv":null,"va_start":null,"va":"[0.0, -2.0943951023931953, 2.0943951023931957]","vm":"[1.05, 1.05, 1.05]"},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-4.445255706643494,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":5,"name":"node_53","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":7.199557856794635,"ComponentType":"bus","source_id":"bus.node_53","vmin":"[0.0, 0.0, 0.0]","index":5,"ycoord_1":5.514426843016411,"base_kv":null,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":3.3318288102054114,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":15,"name":"_virtual_bus.transformer.xfmr_3_5","bus_type":1,"terminals":"[3]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_3","vmin":"[0.0]","index":15,"ycoord_1":1.5352836728009636,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-3.1002193812311534,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":27,"name":"_virtual_bus.transformer.trans_reg_1_3","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"ComponentType":"bus","source_id":"transformer.trans_reg_1","vmin":"[0.0, 0.0, 0.0]","index":27,"ycoord_1":3.842232394333353,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":2.653661549668881,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":31,"name":"_virtual_bus.transformer.xfmr_2_6","bus_type":1,"terminals":"[2]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_2","vmin":"[0.0]","index":31,"ycoord_1":-3.510712539058742,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":3.3179660990599853,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":33,"name":"_virtual_bus.transformer.xfmr_2_3","bus_type":1,"terminals":"[2]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_2","vmin":"[0.0]","index":33,"ycoord_1":-4.478899406131459,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-3.777712155320569,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":28,"name":"_virtual_bus.transformer.trans_reg_1_1","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"ComponentType":"bus","source_id":"transformer.trans_reg_1","vmin":"[0.0, 0.0, 0.0]","index":28,"ycoord_1":4.684510894748503,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":2.3302707521645885,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":16,"name":"_virtual_bus.transformer.xfmr_3_4","bus_type":1,"terminals":"[3]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_3","vmin":"[0.0]","index":16,"ycoord_1":1.0587031514985827,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-0.17719425190834429,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":14,"name":"_virtual_bus.switch.switch_1","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":7.199557856794636,"ComponentType":"bus","source_id":"switch.switch_1","vmin":"[0.0, 0.0, 0.0]","index":14,"ycoord_1":0.29660156939686366,"base_kv":null,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":-3.2108441247041455,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":39,"name":"_virtual_bus.transformer.xfmr_1_3","bus_type":1,"terminals":"[1]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_1","vmin":"[0.0]","index":39,"ycoord_1":-3.2616895268504242,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":-0.3450350099573605,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":40,"name":"_virtual_bus.transformer.xfmr_1_1","bus_type":1,"terminals":"[1]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_1","vmin":"[0.0]","index":40,"ycoord_1":-1.3863226395695527,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-5.748934339720785,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":21,"name":"_virtual_bus.transformer.subxf_4","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"ComponentType":"bus","source_id":"transformer.subxf","vmin":"[0.0, 0.0, 0.0]","index":21,"ycoord_1":7.154662479099773,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":-2.683450972832282,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":38,"name":"_virtual_bus.transformer.xfmr_1_2","bus_type":1,"terminals":"[1]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_1","vmin":"[0.0]","index":38,"ycoord_1":-3.8552962976277327,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":4.73771362975892,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":7,"name":"tn_3","bus_type":1,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tn_3","vmin":"[0.0, 0.0]","index":7,"ycoord_1":3.1736838609520923,"base_kv":null,"va_start":"[2.0943951023931953, 5.235987755982989]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":1.4576082890791435,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":34,"name":"_virtual_bus.transformer.xfmr_2_1","bus_type":1,"terminals":"[2]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_2","vmin":"[0.0]","index":34,"ycoord_1":-1.5587696311489385,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-7.6646591830444555,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":8,"name":"sourcebus","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":132.79056191361394,"ComponentType":"bus","source_id":"bus.sourcebus","vmin":"[0.0, 0.0, 0.0]","index":8,"ycoord_1":9.571108103634089,"base_kv":null,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":-1.2803281597912683,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":36,"name":"_virtual_bus.transformer.xfmr_1_4","bus_type":1,"terminals":"[1]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_1","vmin":"[0.0]","index":36,"ycoord_1":-2.1235867727815196,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-1.69267313505402,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":26,"name":"_virtual_bus.transformer.trans_reg_1_2","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"ComponentType":"bus","source_id":"transformer.trans_reg_1","vmin":"[0.0, 0.0, 0.0]","index":26,"ycoord_1":2.114496611103428,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":2.8869849371419303,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":17,"name":"_virtual_bus.transformer.xfmr_3_6","bus_type":1,"terminals":"[3]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_3","vmin":"[0.0]","index":17,"ycoord_1":2.016976437213411,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":-4.491851405049061,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":10,"name":"tn_4","bus_type":1,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tn_4","vmin":"[0.0, 0.0]","index":10,"ycoord_1":-5.009163909478641,"base_kv":null,"va_start":"[0.0, 3.141592653589793]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":4.2300682704967665,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":19,"name":"_virtual_bus.transformer.xfmr_3_3","bus_type":1,"terminals":"[3]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_3","vmin":"[0.0]","index":19,"ycoord_1":2.2225803874055026,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":-1.8814541825260684,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":37,"name":"_virtual_bus.transformer.xfmr_1_6","bus_type":1,"terminals":"[1]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_1","vmin":"[0.0]","index":37,"ycoord_1":-3.056153291449321,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":5.604119607146534,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":9,"name":"tn_6","bus_type":1,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tn_6","vmin":"[0.0, 0.0]","index":9,"ycoord_1":3.851044220449961,"base_kv":null,"va_start":"[2.0943951023931953, 5.235987755982989]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":3.707612515619689,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":18,"name":"_virtual_bus.transformer.xfmr_3_2","bus_type":1,"terminals":"[3]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_3","vmin":"[0.0]","index":18,"ycoord_1":2.8263308867460637,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":2.276571452108409,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":30,"name":"_virtual_bus.transformer.xfmr_2_4","bus_type":1,"terminals":"[2]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_2","vmin":"[0.0]","index":30,"ycoord_1":-2.447131053950859,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":0.6228527861088418,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":3,"name":"node_1","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":7.199557856794636,"ComponentType":"bus","source_id":"bus.node_1","vmin":"[0.0, 0.0, 0.0]","index":3,"ycoord_1":-0.6364831002030054,"base_kv":null,"va_start":null,"va":null,"vm":null}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"vm_pair_lb"},{"field":"grounded"},{"field":"xcoord_1"},{"field":"vm_pair_ub"},{"field":"bus_i"},{"field":"name"},{"field":"bus_type"},{"field":"terminals"},{"field":"vmax"},{"field":"vbase"},{"field":"ComponentType"},{"field":"source_id"},{"field":"vmin"},{"field":"index"},{"field":"ycoord_1"},{"field":"base_kv"},{"field":"va_start"},{"field":"va"},{"field":"vm"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":"[5.0e-5, 5.0e-5]","model":2,"connections":"[1, 2]","shutdown":0.0,"startup":0.0,"xcoord_1":6.638302468383208,"configuration":"WYE","name":"pv3","qg":"[0.0, 0.0]","gen_bus":4,"pmax":"[5.0e-5, 5.0e-5]","vbase":0.11999263094657726,"ComponentType":"gen","source_id":"solar.pv3","vg":"[0.0012257270244560563, 0.0012257270244560563]","index":4,"cost":"[100.0, 0.0]","gen_status":1,"qmax":"[0.0, 0.0]","qmin":"[-0.0, -0.0]","control_mode":0,"ycoord_1":5.637261646124961,"pmin":"[0.0, 0.0]","ncost":2},{"pg":"[7.000000000000001e-5]","model":2,"connections":"[1]","shutdown":0.0,"startup":0.0,"xcoord_1":-6.104669405113011,"configuration":"DELTA","name":"g1","qg":"[0.0]","gen_bus":13,"pmax":"[7.000000000000001e-5]","vbase":0.11999263094657726,"ComponentType":"gen","source_id":"generator.g1","vg":null,"index":1,"cost":"[100.0, 0.0]","gen_status":1,"qmax":"[0.0]","qmin":"[-0.0]","control_mode":0,"ycoord_1":-6.533938757909623,"pmin":"[0.0]","ncost":2},{"pg":"[4.0e-5]","model":2,"connections":"[2]","shutdown":0.0,"startup":0.0,"xcoord_1":6.323362728090946,"configuration":"WYE","name":"pv2b","qg":"[0.0]","gen_bus":11,"pmax":"[4.0e-5]","vbase":0.11999263094657726,"ComponentType":"gen","source_id":"solar.pv2b","vg":"[0.0010000614125497923]","index":5,"cost":"[100.0, 0.0]","gen_status":1,"qmax":"[0.0]","qmin":"[-0.0]","control_mode":0,"ycoord_1":-7.479865200814582,"pmin":"[0.0]","ncost":2},{"pg":"[3.0000000000000004e-5]","model":2,"connections":"[1]","shutdown":0.0,"startup":0.0,"xcoord_1":-5.043568909282319,"configuration":"DELTA","name":"pv1","qg":"[0.0]","gen_bus":13,"pmax":"[3.0000000000000004e-5]","vbase":0.11999263094657726,"ComponentType":"gen","source_id":"solar.pv1","vg":"[0.0020001228250995846]","index":2,"cost":"[100.0, 0.0]","gen_status":1,"qmax":"[0.0]","qmin":"[-0.0]","control_mode":0,"ycoord_1":-6.936460951701914,"pmin":"[0.0]","ncost":2},{"pg":"[0.0, 0.0, 0.0]","model":2,"connections":"[1, 2, 3]","shutdown":0.0,"startup":0.0,"xcoord_1":-8.921569040808818,"configuration":"WYE","name":"_virtual_gen.voltage_source.source","qg":"[0.0, 0.0, 0.0]","gen_bus":41,"pmax":"[Inf, Inf, Inf]","vbase":132.79056191361394,"ComponentType":"gen","source_id":"voltage_source.source","vg":"[0.0010500000000000002, 0.0010500000000000002, 0.0010500000000000002]","index":6,"cost":"[100.0, 0.0]","gen_status":1,"qmax":"[Inf, Inf, Inf]","qmin":"[-Inf, -Inf, -Inf]","control_mode":1,"ycoord_1":11.1624979662305,"pmin":"[-Inf, -Inf, -Inf]","ncost":2},{"pg":"[6.000000000000001e-5]","model":2,"connections":"[1]","shutdown":0.0,"startup":0.0,"xcoord_1":5.425746674497685,"configuration":"WYE","name":"pv2a","qg":"[0.0]","gen_bus":11,"pmax":"[6.000000000000001e-5]","vbase":0.11999263094657726,"ComponentType":"gen","source_id":"solar.pv2a","vg":"[0.0010000614125497923]","index":3,"cost":"[100.0, 0.0]","gen_status":1,"qmax":"[0.0]","qmin":"[-0.0]","control_mode":0,"ycoord_1":-7.428233610288199,"pmin":"[0.0]","ncost":2}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"pg"},{"field":"model"},{"field":"connections"},{"field":"shutdown"},{"field":"startup"},{"field":"xcoord_1"},{"field":"configuration"},{"field":"name"},{"field":"qg"},{"field":"gen_bus"},{"field":"pmax"},{"field":"vbase"},{"field":"ComponentType"},{"field":"source_id"},{"field":"vg"},{"field":"index"},{"field":"cost"},{"field":"gen_status"},{"field":"qmax"},{"field":"qmin"},{"field":"control_mode"},{"field":"ycoord_1"},{"field":"pmin"},{"field":"ncost"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#756BB1","#8E87BF","#A8A2CE","#C1BEDC","#DADAEB"]}}}},{"data":{"values":[{"model":"POWER","connections":"[1]","xcoord_1":-6.424971791931727,"configuration":"DELTA","name":"l1","status":1,"qd":"[0.0]","vbase":0.11999263094657726,"vnom_kv":2.000122825099585,"ComponentType":"load","source_id":"load.l1","load_bus":13,"dispatchable":0,"index":4,"ycoord_1":-5.43081860555253,"pd":"[0.0002]"},{"model":"POWER","connections":"[1]","xcoord_1":7.080660751824187,"configuration":"WYE","name":"l2a","status":1,"qd":"[0.0]","vbase":0.11999263094657726,"vnom_kv":1.0000614125497924,"ComponentType":"load","source_id":"load.l2a","load_bus":11,"dispatchable":0,"index":1,"ycoord_1":-6.762956985968161,"pd":"[0.00012000000000000002]"},{"model":"POWER","connections":"[2]","xcoord_1":7.077022468403299,"configuration":"WYE","name":"l2b","status":1,"qd":"[0.0]","vbase":0.11999263094657726,"vnom_kv":1.0000614125497924,"ComponentType":"load","source_id":"load.l2b","load_bus":11,"dispatchable":0,"index":2,"ycoord_1":-5.864575844926383,"pd":"[8.0e-5]"},{"model":"POWER","connections":"[1, 2]","xcoord_1":7.599098652173457,"configuration":"WYE","name":"l3","status":1,"qd":"[0.0, 0.0]","vbase":0.11999263094657726,"vnom_kv":1.0008019246190856,"ComponentType":"load","source_id":"load.l3","load_bus":4,"dispatchable":0,"index":3,"ycoord_1":4.472202972530124,"pd":"[0.0001, 0.0001]"}]},"mark":{"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"tooltip":[{"field":"model"},{"field":"connections"},{"field":"xcoord_1"},{"field":"configuration"},{"field":"name"},{"field":"status"},{"field":"qd"},{"field":"vbase"},{"field":"vnom_kv"},{"field":"ComponentType"},{"field":"source_id"},{"field":"load_bus"},{"field":"dispatchable"},{"field":"index"},{"field":"ycoord_1"},{"field":"pd"}],"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#8C6D31","#A3844A","#BA9C62","#D0B37B","#E7CB94"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="File-output"><a class="docs-heading-anchor" href="#File-output">File output</a><a id="File-output-1"></a><a class="docs-heading-anchor-permalink" href="#File-output" title="Permalink"></a></h1><p>Save a file to disk as a PNG, SVG, PDF, or HTML file.  The file name must end with the appropriate extension.</p><pre><code class="language-julia hljs">    save(&quot;powerplot.svg&quot;, p)
    save(&quot;powerplot.png&quot;, p)
    save(&quot;powerplot.pdf&quot;, p)
    save(&quot;powerplot.html&quot;, p)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../advanced examples/">Advanced Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Sunday 24 August 2025 21:42">Sunday 24 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
