<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basic Examples · PowerPlots</title><meta name="title" content="Basic Examples · PowerPlots"/><meta property="og:title" content="Basic Examples · PowerPlots"/><meta property="twitter:title" content="Basic Examples · PowerPlots"/><meta name="description" content="Documentation for PowerPlots."/><meta property="og:description" content="Documentation for PowerPlots."/><meta property="twitter:description" content="Documentation for PowerPlots."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="PowerPlots logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PowerPlots</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li class="is-active"><a class="tocitem" href>Basic Examples</a><ul class="internal"><li><a class="tocitem" href="#Initialize"><span>Initialize</span></a></li><li><a class="tocitem" href="#Default-Plot"><span>Default Plot</span></a></li><li><a class="tocitem" href="#Change-Plot-Size"><span>Change Plot Size</span></a></li><li><a class="tocitem" href="#Modify-Colors"><span>Modify Colors</span></a></li><li><a class="tocitem" href="#Modify-Component-Size"><span>Modify Component Size</span></a></li><li class="toplevel"><a class="tocitem" href="#Visualizing-System-Data"><span>Visualizing System Data</span></a></li><li><a class="tocitem" href="#Color-Ranges"><span>Color Ranges</span></a></li><li><a class="tocitem" href="#Color-Schemes"><span>Color Schemes</span></a></li><li class="toplevel"><a class="tocitem" href="#Specify-components-for-plotting"><span>Specify components for plotting</span></a></li><li class="toplevel"><a class="tocitem" href="#Power-Flow"><span>Power Flow</span></a></li><li class="toplevel"><a class="tocitem" href="#Multinetworks"><span>Multinetworks</span></a></li><li class="toplevel"><a class="tocitem" href="#Distribution-Grids"><span>Distribution Grids</span></a></li><li class="toplevel"><a class="tocitem" href="#File-output"><span>File output</span></a></li></ul></li><li><a class="tocitem" href="../advanced examples/">Advanced Examples</a></li></ul></li><li><a class="tocitem" href="../../parameters/">Parameters</a></li><li><span class="tocitem">Data Transformations</span><ul><li><a class="tocitem" href="../../data_transformations/powermodelsdataframes/">PowerModels Dictionary to DataFrame Conversion</a></li><li><a class="tocitem" href="../../data_transformations/powermodelsgraphs/">PowerModelsGraph</a></li><li><a class="tocitem" href="../../data_transformations/layouts/">Layouts</a></li></ul></li><li><a class="tocitem" href="../../experimental/">Experimental Features</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Basic Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Basic Examples</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/WISPO-POP/PowerPlots.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/WISPO-POP/PowerPlots.jl/blob/master/docs/src/examples/basic examples.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Basic-Examples"><a class="docs-heading-anchor" href="#Basic-Examples">Basic Examples</a><a id="Basic-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Examples" title="Permalink"></a></h1><p>Simple examples for setting the data visualization and changing the color or size of components.</p><h2 id="Initialize"><a class="docs-heading-anchor" href="#Initialize">Initialize</a><a id="Initialize-1"></a><a class="docs-heading-anchor-permalink" href="#Initialize" title="Permalink"></a></h2><pre><code class="language-julia hljs">using PowerPlots, PowerModels
data = parse_file(&quot;$(joinpath(dirname(pathof(PowerModels)), &quot;..&quot;))/test/data/matpower/case5.m&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{String, Any} with 13 entries:
  &quot;bus&quot;            =&gt; Dict{String, Any}(&quot;4&quot;=&gt;Dict{String, Any}(&quot;zone&quot;=&gt;1, &quot;bus_…
  &quot;source_type&quot;    =&gt; &quot;matpower&quot;
  &quot;name&quot;           =&gt; &quot;case5&quot;
  &quot;dcline&quot;         =&gt; Dict{String, Any}()
  &quot;source_version&quot; =&gt; &quot;2&quot;
  &quot;gen&quot;            =&gt; Dict{String, Any}(&quot;4&quot;=&gt;Dict{String, Any}(&quot;pg&quot;=&gt;0.0, &quot;mode…
  &quot;branch&quot;         =&gt; Dict{String, Any}(&quot;4&quot;=&gt;Dict{String, Any}(&quot;br_r&quot;=&gt;0.00108,…
  &quot;storage&quot;        =&gt; Dict{String, Any}()
  &quot;switch&quot;         =&gt; Dict{String, Any}()
  &quot;baseMVA&quot;        =&gt; 100.0
  &quot;per_unit&quot;       =&gt; true
  &quot;shunt&quot;          =&gt; Dict{String, Any}()
  &quot;load&quot;           =&gt; Dict{String, Any}(&quot;1&quot;=&gt;Dict{String, Any}(&quot;source_id&quot;=&gt;Any…</code></pre><h2 id="Default-Plot"><a class="docs-heading-anchor" href="#Default-Plot">Default Plot</a><a id="Default-Plot-1"></a><a class="docs-heading-anchor-permalink" href="#Default-Plot" title="Permalink"></a></h2><pre><code class="language-julia hljs">powerplot(data)</code></pre><div id='vldfefdb6c45304dc5b77adbb6847658ec' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vldfefdb6c45304dc5b77adbb6847658ec',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.11354214758146172,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.5204170970045832,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":-0.9577532382597638,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":1.0518404924718237,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":1.0518404924718237,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.11354214758146172,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.9999020167888577,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5450356182477231,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.3371394600530047,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.4935195047609382,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5181380260040781,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":-0.2949906815239108,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.9156044597306698,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.49124043376043314,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":-0.25284190299481685,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.5473146892482281,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.2949906815239108,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5181380260040781,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":0.6576168815082458,"ycoord_1":-1.0316469623662792,"src":["bus","10"],"xcoord_2":0.9077340779350687,"ycoord_2":-1.4980123501846083,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.139916101382026,"ycoord_2":0.4144260672399051,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.1964913926311718,"ycoord_2":1.0039242634037886,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.2859802634932218,"ycoord_2":-0.1569344786822235,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.11354214758146172,"ycoord_1":1.0518404924718237,"src":["bus","2"],"xcoord_2":0.24823200650093796,"ycoord_2":1.5716187991794095,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.4960104648689079,"ycoord_2":0.38858599335911187,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.7961188855576364,"ycoord_2":-0.7108254054222607,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.3777169944979275,"ycoord_2":-1.0626465866184103,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":-0.2949906815239108,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5181380260040781,"base_kv":230.0},{"zone":1,"xcoord_1":0.7660601789383634,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.027391096619237262,"base_kv":230.0},{"zone":1,"xcoord_1":0.6576168815082458,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-1.0316469623662792,"base_kv":230.0},{"zone":1,"xcoord_1":0.11354214758146172,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":1.0518404924718237,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9577532382597638,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.5204170970045832,"base_kv":230.0}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.7961188855576364,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.7108254054222607,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":1.2859802634932218,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":-0.1569344786822235,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":0.9077340779350687,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.4980123501846083,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":1.139916101382026,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.4144260672399051,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":-1.1964913926311718,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":1.0039242634037886,"pmin":0.0,"ncost":2}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.24823200650093796,"ycoord_1":1.5716187991794095,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":-1.4960104648689079,"ycoord_1":0.38858599335911187,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":-0.3777169944979275,"ycoord_1":-1.0626465866184103,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h2 id="Change-Plot-Size"><a class="docs-heading-anchor" href="#Change-Plot-Size">Change Plot Size</a><a id="Change-Plot-Size-1"></a><a class="docs-heading-anchor-permalink" href="#Change-Plot-Size" title="Permalink"></a></h2><pre><code class="language-julia hljs">powerplot(data; width=300, height=300)</code></pre><div id='vl5a3260d0347c41729467bac8ecc0e3cc' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl5a3260d0347c41729467bac8ecc0e3cc',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.11354214758146172,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.5204170970045832,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":-0.9577532382597638,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":1.0518404924718237,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":1.0518404924718237,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.11354214758146172,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.9999020167888577,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5450356182477231,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.3371394600530047,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.4935195047609382,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5181380260040781,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":-0.2949906815239108,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.9156044597306698,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.49124043376043314,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":-0.25284190299481685,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.5473146892482281,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.2949906815239108,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5181380260040781,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":0.6576168815082458,"ycoord_1":-1.0316469623662792,"src":["bus","10"],"xcoord_2":0.9077340779350687,"ycoord_2":-1.4980123501846083,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.139916101382026,"ycoord_2":0.4144260672399051,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.1964913926311718,"ycoord_2":1.0039242634037886,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.2859802634932218,"ycoord_2":-0.1569344786822235,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.11354214758146172,"ycoord_1":1.0518404924718237,"src":["bus","2"],"xcoord_2":0.24823200650093796,"ycoord_2":1.5716187991794095,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.4960104648689079,"ycoord_2":0.38858599335911187,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.7961188855576364,"ycoord_2":-0.7108254054222607,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.3777169944979275,"ycoord_2":-1.0626465866184103,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":-0.2949906815239108,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5181380260040781,"base_kv":230.0},{"zone":1,"xcoord_1":0.7660601789383634,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.027391096619237262,"base_kv":230.0},{"zone":1,"xcoord_1":0.6576168815082458,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-1.0316469623662792,"base_kv":230.0},{"zone":1,"xcoord_1":0.11354214758146172,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":1.0518404924718237,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9577532382597638,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.5204170970045832,"base_kv":230.0}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.7961188855576364,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.7108254054222607,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":1.2859802634932218,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":-0.1569344786822235,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":0.9077340779350687,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.4980123501846083,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":1.139916101382026,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.4144260672399051,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":-1.1964913926311718,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":1.0039242634037886,"pmin":0.0,"ncost":2}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.24823200650093796,"ycoord_1":1.5716187991794095,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":-1.4960104648689079,"ycoord_1":0.38858599335911187,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":-0.3777169944979275,"ycoord_1":-1.0626465866184103,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h2 id="Modify-Colors"><a class="docs-heading-anchor" href="#Modify-Colors">Modify Colors</a><a id="Modify-Colors-1"></a><a class="docs-heading-anchor-permalink" href="#Modify-Colors" title="Permalink"></a></h2><p>The colors of the components can be set, using simple keywords. Any valid <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value">CSS color</a> can be used. If a single color is used, the component will not change color based on system data.  See <a href="#Color-Ranges">Color Ranges</a> for how to use multiple colors.</p><pre><code class="language-julia hljs">powerplot(data; bus=(:color=&gt;&quot;orange&quot;),
                gen=(:color=&gt;:purple),
                branch=(:color=&gt;&quot;#AFAFAF&quot;),
                load=(:color=&gt;:black),
                width=300, height=300)</code></pre><div id='vl78ce3f3d5ef24c2dba14aacd6f5e907d' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl78ce3f3d5ef24c2dba14aacd6f5e907d',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.11354214758146172,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.5204170970045832,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":-0.9577532382597638,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":1.0518404924718237,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":1.0518404924718237,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.11354214758146172,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.9999020167888577,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5450356182477231,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.3371394600530047,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.4935195047609382,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5181380260040781,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":-0.2949906815239108,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.9156044597306698,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.49124043376043314,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":-0.25284190299481685,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.5473146892482281,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.2949906815239108,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5181380260040781,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#AFAFAF"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":0.6576168815082458,"ycoord_1":-1.0316469623662792,"src":["bus","10"],"xcoord_2":0.9077340779350687,"ycoord_2":-1.4980123501846083,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.139916101382026,"ycoord_2":0.4144260672399051,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.1964913926311718,"ycoord_2":1.0039242634037886,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.2859802634932218,"ycoord_2":-0.1569344786822235,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.11354214758146172,"ycoord_1":1.0518404924718237,"src":["bus","2"],"xcoord_2":0.24823200650093796,"ycoord_2":1.5716187991794095,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.4960104648689079,"ycoord_2":0.38858599335911187,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.7961188855576364,"ycoord_2":-0.7108254054222607,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.3777169944979275,"ycoord_2":-1.0626465866184103,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":-0.2949906815239108,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5181380260040781,"base_kv":230.0},{"zone":1,"xcoord_1":0.7660601789383634,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.027391096619237262,"base_kv":230.0},{"zone":1,"xcoord_1":0.6576168815082458,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-1.0316469623662792,"base_kv":230.0},{"zone":1,"xcoord_1":0.11354214758146172,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":1.0518404924718237,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9577532382597638,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.5204170970045832,"base_kv":230.0}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["orange"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.7961188855576364,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.7108254054222607,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":1.2859802634932218,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":-0.1569344786822235,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":0.9077340779350687,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.4980123501846083,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":1.139916101382026,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.4144260672399051,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":-1.1964913926311718,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":1.0039242634037886,"pmin":0.0,"ncost":2}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["purple"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.24823200650093796,"ycoord_1":1.5716187991794095,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":-1.4960104648689079,"ycoord_1":0.38858599335911187,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":-0.3777169944979275,"ycoord_1":-1.0626465866184103,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["black"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h2 id="Modify-Component-Size"><a class="docs-heading-anchor" href="#Modify-Component-Size">Modify Component Size</a><a id="Modify-Component-Size-1"></a><a class="docs-heading-anchor-permalink" href="#Modify-Component-Size" title="Permalink"></a></h2><p>The size of components can be set similarly.  A good size for node devices is typically around 100x larger than edge devices.</p><pre><code class="language-julia hljs">powerplot(data, bus=(:size=&gt;1000), gen=(:size=&gt;100),
    load=(:size=&gt;200), branch=(:size=&gt;2), connector=(:size=&gt;10))</code></pre><div id='vl2af8872ef57a4ee7bd82f82a327b9804' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl2af8872ef57a4ee7bd82f82a327b9804',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.11354214758146172,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.5204170970045832,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":-0.9577532382597638,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":1.0518404924718237,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":1.0518404924718237,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.11354214758146172,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.9999020167888577,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5450356182477231,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.3371394600530047,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.4935195047609382,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5181380260040781,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":-0.2949906815239108,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.9156044597306698,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.49124043376043314,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":-0.25284190299481685,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.5473146892482281,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.2949906815239108,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5181380260040781,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":2},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":0.6576168815082458,"ycoord_1":-1.0316469623662792,"src":["bus","10"],"xcoord_2":0.9077340779350687,"ycoord_2":-1.4980123501846083,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.139916101382026,"ycoord_2":0.4144260672399051,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.1964913926311718,"ycoord_2":1.0039242634037886,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.2859802634932218,"ycoord_2":-0.1569344786822235,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.11354214758146172,"ycoord_1":1.0518404924718237,"src":["bus","2"],"xcoord_2":0.24823200650093796,"ycoord_2":1.5716187991794095,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.4960104648689079,"ycoord_2":0.38858599335911187,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.7961188855576364,"ycoord_2":-0.7108254054222607,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.3777169944979275,"ycoord_2":-1.0626465866184103,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":10},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":-0.2949906815239108,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5181380260040781,"base_kv":230.0},{"zone":1,"xcoord_1":0.7660601789383634,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.027391096619237262,"base_kv":230.0},{"zone":1,"xcoord_1":0.6576168815082458,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-1.0316469623662792,"base_kv":230.0},{"zone":1,"xcoord_1":0.11354214758146172,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":1.0518404924718237,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9577532382597638,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.5204170970045832,"base_kv":230.0}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":1000},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.7961188855576364,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.7108254054222607,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":1.2859802634932218,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":-0.1569344786822235,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":0.9077340779350687,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.4980123501846083,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":1.139916101382026,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.4144260672399051,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":-1.1964913926311718,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":1.0039242634037886,"pmin":0.0,"ncost":2}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":100},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.24823200650093796,"ycoord_1":1.5716187991794095,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":-1.4960104648689079,"ycoord_1":0.38858599335911187,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":-0.3777169944979275,"ycoord_1":-1.0626465866184103,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":200},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Visualizing-System-Data"><a class="docs-heading-anchor" href="#Visualizing-System-Data">Visualizing System Data</a><a id="Visualizing-System-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Visualizing-System-Data" title="Permalink"></a></h1><p>Component data values from the PowerModels dictionary can be plotted by specifying the dictionary key. The key can be either a string or a symbol.  The data type can be <code>:ordinal</code>, <code>:nominal</code>, or <code>:quantitative</code>.</p><pre><code class="language-julia hljs">p = powerplot(data, bus    = (:data=&gt;&quot;bus_type&quot;, :data_type=&gt;&quot;nominal&quot;),
                    branch = (:data=&gt;&quot;index&quot;, :data_type=&gt;&quot;ordinal&quot;),
                    gen    = (:data=&gt;&quot;pmax&quot;, :data_type=&gt;&quot;quantitative&quot;),
                    load   = (:data=&gt;&quot;pd&quot;,  :data_type=&gt;&quot;quantitative&quot;),
                    width = 300, height=300
)</code></pre><div id='vl4fb72e785e224d9b88f903fb7dfc8d10' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl4fb72e785e224d9b88f903fb7dfc8d10',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.11354214758146172,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.5204170970045832,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":-0.9577532382597638,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":1.0518404924718237,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":1.0518404924718237,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.11354214758146172,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.9999020167888577,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5450356182477231,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.3371394600530047,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.4935195047609382,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5181380260040781,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":-0.2949906815239108,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.9156044597306698,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.49124043376043314,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":-0.25284190299481685,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.5473146892482281,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.2949906815239108,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5181380260040781,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"index","type":"ordinal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":0.6576168815082458,"ycoord_1":-1.0316469623662792,"src":["bus","10"],"xcoord_2":0.9077340779350687,"ycoord_2":-1.4980123501846083,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.139916101382026,"ycoord_2":0.4144260672399051,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.1964913926311718,"ycoord_2":1.0039242634037886,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.2859802634932218,"ycoord_2":-0.1569344786822235,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.11354214758146172,"ycoord_1":1.0518404924718237,"src":["bus","2"],"xcoord_2":0.24823200650093796,"ycoord_2":1.5716187991794095,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.4960104648689079,"ycoord_2":0.38858599335911187,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.7961188855576364,"ycoord_2":-0.7108254054222607,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.3777169944979275,"ycoord_2":-1.0626465866184103,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":-0.2949906815239108,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5181380260040781,"base_kv":230.0},{"zone":1,"xcoord_1":0.7660601789383634,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.027391096619237262,"base_kv":230.0},{"zone":1,"xcoord_1":0.6576168815082458,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-1.0316469623662792,"base_kv":230.0},{"zone":1,"xcoord_1":0.11354214758146172,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":1.0518404924718237,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9577532382597638,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.5204170970045832,"base_kv":230.0}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"bus_type","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.7961188855576364,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.7108254054222607,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":1.2859802634932218,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":-0.1569344786822235,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":0.9077340779350687,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.4980123501846083,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":1.139916101382026,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.4144260672399051,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":-1.1964913926311718,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":1.0039242634037886,"pmin":0.0,"ncost":2}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"pmax","type":"quantitative","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.24823200650093796,"ycoord_1":1.5716187991794095,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":-1.4960104648689079,"ycoord_1":0.38858599335911187,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":-0.3777169944979275,"ycoord_1":-1.0626465866184103,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"pd","type":"quantitative","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h2 id="Color-Ranges"><a class="docs-heading-anchor" href="#Color-Ranges">Color Ranges</a><a id="Color-Ranges-1"></a><a class="docs-heading-anchor-permalink" href="#Color-Ranges" title="Permalink"></a></h2><p>Color ranges are automatically interpolated from a range that is provided.  If only a single color is given, the component will not change color based on the data.</p><pre><code class="language-julia hljs">p = powerplot(data, width=300, height=300,
    gen=(:data=&gt;&quot;pmax&quot;, :data_type=&gt;&quot;quantitative&quot;, :color=&gt;[&quot;#232323&quot;,&quot;#AAFAFA&quot;]),
)</code></pre><div id='vl0ff95bea5c744f29aef4411ab1af6d47' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl0ff95bea5c744f29aef4411ab1af6d47',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.11354214758146172,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.5204170970045832,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":-0.9577532382597638,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":1.0518404924718237,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":1.0518404924718237,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.11354214758146172,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.9999020167888577,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5450356182477231,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.3371394600530047,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.4935195047609382,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5181380260040781,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":-0.2949906815239108,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.9156044597306698,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.49124043376043314,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":-0.25284190299481685,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.5473146892482281,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.2949906815239108,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5181380260040781,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":0.6576168815082458,"ycoord_1":-1.0316469623662792,"src":["bus","10"],"xcoord_2":0.9077340779350687,"ycoord_2":-1.4980123501846083,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.139916101382026,"ycoord_2":0.4144260672399051,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.1964913926311718,"ycoord_2":1.0039242634037886,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.2859802634932218,"ycoord_2":-0.1569344786822235,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.11354214758146172,"ycoord_1":1.0518404924718237,"src":["bus","2"],"xcoord_2":0.24823200650093796,"ycoord_2":1.5716187991794095,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.4960104648689079,"ycoord_2":0.38858599335911187,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.7961188855576364,"ycoord_2":-0.7108254054222607,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.3777169944979275,"ycoord_2":-1.0626465866184103,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":-0.2949906815239108,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5181380260040781,"base_kv":230.0},{"zone":1,"xcoord_1":0.7660601789383634,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.027391096619237262,"base_kv":230.0},{"zone":1,"xcoord_1":0.6576168815082458,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-1.0316469623662792,"base_kv":230.0},{"zone":1,"xcoord_1":0.11354214758146172,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":1.0518404924718237,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9577532382597638,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.5204170970045832,"base_kv":230.0}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.7961188855576364,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.7108254054222607,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":1.2859802634932218,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":-0.1569344786822235,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":0.9077340779350687,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.4980123501846083,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":1.139916101382026,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.4144260672399051,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":-1.1964913926311718,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":1.0039242634037886,"pmin":0.0,"ncost":2}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"pmax","type":"quantitative","title":"Gen","scale":{"range":["#232323","#AAFAFA"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.24823200650093796,"ycoord_1":1.5716187991794095,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":-1.4960104648689079,"ycoord_1":0.38858599335911187,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":-0.3777169944979275,"ycoord_1":-1.0626465866184103,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h2 id="Color-Schemes"><a class="docs-heading-anchor" href="#Color-Schemes">Color Schemes</a><a id="Color-Schemes-1"></a><a class="docs-heading-anchor-permalink" href="#Color-Schemes" title="Permalink"></a></h2><p>Color schemes from the package <code>ColorSchemes.jl</code> can also be used to specify a color range.</p><pre><code class="language-julia hljs">using ColorSchemes
p = powerplot(data, width=300, height=300,
    gen=(
        :data=&gt;&quot;pmax&quot;, :data_type=&gt;&quot;quantitative&quot;,
        :color=&gt;colorscheme2array(ColorSchemes.colorschemes[:summer])
    ),
)</code></pre><div id='vl89e468eac27449cf81a7f06ce8a8f837' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl89e468eac27449cf81a7f06ce8a8f837',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.11354214758146172,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.5204170970045832,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":-0.9577532382597638,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":1.0518404924718237,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":1.0518404924718237,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.11354214758146172,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.9999020167888577,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5450356182477231,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.3371394600530047,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.4935195047609382,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5181380260040781,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":-0.2949906815239108,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.9156044597306698,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.49124043376043314,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":-0.25284190299481685,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.5473146892482281,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.2949906815239108,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5181380260040781,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-1.0316469623662792,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"xcoord_1":0.6576168815082458,"ycoord_1":-1.0316469623662792,"src":["bus","10"],"xcoord_2":0.9077340779350687,"ycoord_2":-1.4980123501846083,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.139916101382026,"ycoord_2":0.4144260672399051,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.1964913926311718,"ycoord_2":1.0039242634037886,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.2859802634932218,"ycoord_2":-0.1569344786822235,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.11354214758146172,"ycoord_1":1.0518404924718237,"src":["bus","2"],"xcoord_2":0.24823200650093796,"ycoord_2":1.5716187991794095,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.4960104648689079,"ycoord_2":0.38858599335911187,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.7961188855576364,"ycoord_2":-0.7108254054222607,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.3777169944979275,"ycoord_2":-1.0626465866184103,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":-0.2949906815239108,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5181380260040781,"base_kv":230.0},{"zone":1,"xcoord_1":0.7660601789383634,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.027391096619237262,"base_kv":230.0},{"zone":1,"xcoord_1":0.6576168815082458,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-1.0316469623662792,"base_kv":230.0},{"zone":1,"xcoord_1":0.11354214758146172,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":1.0518404924718237,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9577532382597638,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.5204170970045832,"base_kv":230.0}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.7961188855576364,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.7108254054222607,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":1.2859802634932218,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":-0.1569344786822235,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":0.9077340779350687,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.4980123501846083,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":1.139916101382026,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.4144260672399051,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":-1.1964913926311718,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":1.0039242634037886,"pmin":0.0,"ncost":2}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"pmax","type":"quantitative","title":"Gen","scale":{"range":["#008066","#038166","#058266","#088366","#0A8566","#0D8666","#0F8766","#128866","#148A66","#178B66","#1A8C66","#1C8E66","#1F8F66","#219066","#249166","#269366","#299466","#2B9566","#2E9666","#309866","#339966","#369A66","#389C66","#3B9D66","#3D9E66","#409F66","#42A166","#45A266","#47A366","#4AA466","#4CA666","#4FA766","#52A866","#54AA66","#57AB66","#59AC66","#5CAD66","#5EAF66","#61B066","#63B166","#66B266","#69B466","#6BB566","#6EB666","#70B866","#73B966","#75BA66","#78BB66","#7ABD66","#7DBE66","#80BF66","#82C166","#85C266","#87C366","#8AC466","#8CC666","#8FC766","#91C866","#94C966","#96CB66","#99CC66","#9CCD66","#9ECF66","#A1D066","#A3D166","#A6D266","#A8D466","#ABD566","#ADD666","#B0D766","#B2D966","#B5DA66","#B8DB66","#BADD66","#BDDE66","#BFDF66","#C2E066","#C4E266","#C7E366","#C9E466","#CCE666","#CFE766","#D1E866","#D4E966","#D6EB66","#D9EC66","#DBED66","#DEEE66","#E0F066","#E3F166","#E6F266","#E8F466","#EBF566","#EDF666","#F0F766","#F2F966","#F5FA66","#F7FB66","#FAFC66","#FCFE66","#FFFF66"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":0.24823200650093796,"ycoord_1":1.5716187991794095,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":-1.4960104648689079,"ycoord_1":0.38858599335911187,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":-0.3777169944979275,"ycoord_1":-1.0626465866184103,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Specify-components-for-plotting"><a class="docs-heading-anchor" href="#Specify-components-for-plotting">Specify components for plotting</a><a id="Specify-components-for-plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Specify-components-for-plotting" title="Permalink"></a></h1><p>Default supported components for plotting are specified as:</p><pre><code class="language-julia hljs">supported_connected_types</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">7-element Vector{Symbol}:
 :gen
 :load
 :storage
 :generator
 :voltage_source
 :solar
 :shunt</code></pre><pre><code class="language-julia hljs">supported_node_types</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">1-element Vector{Symbol}:
 :bus</code></pre><pre><code class="language-julia hljs">supported_edge_types</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">5-element Vector{Symbol}:
 :branch
 :dcline
 :switch
 :transformer
 :line</code></pre><p>By default, any of these components found in the data dictionary will be plotted.  However, it is possible to plot a subset of the components using the <code>components</code> keywords.  Here we plot only the buses and branches, and we do not plot the loads or generators.</p><pre><code class="language-julia hljs">powerplot(data;
    edge_components=[&quot;branch&quot;],
    node_components=[:bus],
    connected_components=[],
    width=300, height=300)</code></pre><div id='vlbabbfc92d0a64dab9a5eb2524c67363f' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vlbabbfc92d0a64dab9a5eb2524c67363f',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":-0.9575262245596577,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":-0.7979713138976076,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":-0.5706599520603349,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.21343694751008677,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.05411711986348552,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.21343694751008677,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":-0.9575262245596577,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.6002781885097851,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.5527923936353215,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.4576289007119507,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":0.45877459058115794,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.8446698187551374,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.05411711986348552,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.4109303958544209,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":0.4409070321561446,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.6002781885097851,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.5885275104853483,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.36423189099689113,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":0.4230394737311312,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.7512728090400778,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":0.4409070321561446,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":0.39518657373215743,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":1.0331620246003559,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.4109303958544209,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.05411711986348552,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":0.39518657373215743,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":1.0331620246003559,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.6002781885097851,"tap":1.0}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"data":{"values":[{"zone":1,"xcoord_1":0.4409070321561446,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.4109303958544209,"base_kv":230.0},{"zone":1,"xcoord_1":0.05411711986348552,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.6002781885097851,"base_kv":230.0},{"zone":1,"xcoord_1":1.0331620246003559,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":0.39518657373215743,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9575262245596577,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.21343694751008677,"base_kv":230.0},{"zone":1,"xcoord_1":-0.5706599520603349,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":-0.7979713138976076,"base_kv":230.0}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><p>Additional components that are not a part of the default supported set can also be plotted.  For edges, the component dictionary must contain the keys <code>f_bus</code> and <code>t_bus</code>, which are the from and to bus numbers.  For nodes, the component dictionary must contain the key <code>bus</code> or <code>compname_bus</code>, which is the id of the connecting bus.</p><pre><code class="language-julia hljs">data[&quot;new_edge&quot;] = Dict(
    &quot;1&quot;=&gt; Dict{String,Any}(&quot;f_bus&quot;=&gt;4, &quot;t_bus&quot;=&gt;2, &quot;index&quot;=&gt;1),
)
data[&quot;new_component&quot;] = Dict(
    &quot;1&quot;=&gt; Dict{String,Any}(&quot;bus&quot;=&gt;4, &quot;index&quot;=&gt;1, &quot;pmax&quot;=&gt; 100.5),
    # &quot;2&quot;=&gt; Dict{String,Any}(&quot;new_component_bus&quot;=&gt;3, &quot;index&quot;=&gt;2),
)
powerplot(data;
    edge_components=[:new_edge, :branch],
    node_components=[:bus],
    connected_components=[&quot;new_component&quot;],
    width=300, height=300)</code></pre><div id='vl467e2fbe1a4f4a8ab716b7c320e7b982' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl467e2fbe1a4f4a8ab716b7c320e7b982',{"width":300,"height":300,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"f_bus":4,"xcoord_1":-0.014075489616099099,"ycoord_1":-0.31292292233336344,"xcoord_2":-0.3852408977179747,"ycoord_2":0.4979130783945275,"t_bus":2,"index":1,"ComponentType":"new_edge"}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"New_edge","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":-0.3852408977179747,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":-0.1544466446240234,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":-1.1072059085857824,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.4979130783945275,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.8133357756615418,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.4979130783945275,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":-0.3852408977179747,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.041334734201786405,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-1.114379649000825,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.36240562080927097,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.021249230031141875,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.20392934309993094,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.8133357756615418,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.31292292233336344,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":-0.014075489616099099,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.041334734201786405,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-1.1000321681707397,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.2634402238574559,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"br_status":1,"xcoord_2":-0.006901749201056323,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":-0.10496394614811587,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.014075489616099099,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":0.7637165114616233,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":0.64977510668504,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.31292292233336344,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.8133357756615418,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":0.7637165114616233,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":0.64977510668504,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.041334734201786405,"tap":1.0}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["new_component","1"],"xcoord_1":-0.014075489616099099,"ycoord_1":-0.31292292233336344,"src":["bus","4"],"xcoord_2":0.04341141357327365,"ycoord_2":-0.8355947571005496,"dst":["new_component","1"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":-0.014075489616099099,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.31292292233336344,"base_kv":230.0},{"zone":1,"xcoord_1":0.8133357756615418,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.041334734201786405,"base_kv":230.0},{"zone":1,"xcoord_1":0.64977510668504,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":0.7637165114616233,"base_kv":230.0},{"zone":1,"xcoord_1":-0.3852408977179747,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":0.4979130783945275,"base_kv":230.0},{"zone":1,"xcoord_1":-1.1072059085857824,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":-0.1544466446240234,"base_kv":230.0}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"xcoord_1":0.04341141357327365,"ycoord_1":-0.8355947571005496,"pmax":100.5,"bus":4,"index":1,"ComponentType":"new_component"}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"New_component","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Power-Flow"><a class="docs-heading-anchor" href="#Power-Flow">Power Flow</a><a id="Power-Flow-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Flow" title="Permalink"></a></h1><p>If the variables <code>pf</code> (power from) and <code>pt</code> (power to) exist in the data, power flow directions can be visualized using the <code>show_flow</code> boolean toggle (true by default).</p><pre><code class="language-julia hljs"># Solve AC power flow and add values to data dictionary
using Ipopt, PowerModels, PowerPlots, PGLib
data = pglib(&quot;case5_pjm&quot;)
result = solve_ac_opf(data, Ipopt.Optimizer)
update_data!(data, result[&quot;solution&quot;])

p = powerplot(data, branch=(:show_flow=&gt;true))</code></pre><div id='vl835424d8a1964b5b96f9c91e5fbd18a5' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl835424d8a1964b5b96f9c91e5fbd18a5',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.9765711508101921,"shift":0.0,"pt":0.49449340481677345,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":-0.7710794080878717,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"br_status":1,"xcoord_2":0.7703952089211583,"t_bus":3,"b_to":0.00926,"index":4,"qf":-1.560684951719373,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"qt":1.5628964054435004,"ycoord_1":0.4069013117799958,"tap":1.0,"pf":-0.49206356757355363},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":-0.19072975925392283,"shift":0.0,"pt":-2.5079364324264466,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":0.4069013117799958,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"br_status":1,"xcoord_2":0.9765711508101921,"t_bus":2,"b_to":0.00356,"index":1,"qf":-0.42449977686223717,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"qt":0.5745849517193731,"ycoord_1":0.7423808393794447,"tap":1.0,"pf":2.523776728320384},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":0.7703952089211583,"shift":0.0,"pt":0.25416841580612776,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.42969121715160147,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"br_status":1,"xcoord_2":-0.41336926436500965,"t_bus":4,"b_to":0.00337,"index":5,"qf":1.3510036240204049,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"qt":-1.3122979307366744,"ycoord_1":-0.7710794080878717,"tap":1.0,"pf":-0.24950846167402133},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":-0.19072975925392283,"shift":0.0,"pt":-1.8691532519106995,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.42969121715160147,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"br_status":1,"xcoord_2":-0.41336926436500965,"t_bus":4,"b_to":0.00329,"index":2,"qf":0.33131911431669087,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"qt":-0.24352892623706032,"ycoord_1":0.7423808393794447,"tap":1.0,"pf":1.8786868808908457},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.41336926436500965,"shift":0.0,"pt":2.399983467711505,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":0.33839436422178953,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.00337,"f_bus":4,"br_status":1,"xcoord_2":-1.175685638583148,"t_bus":5,"b_to":0.00337,"index":6,"qf":0.13310385707421446,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"qt":0.008911354161216214,"ycoord_1":-0.42969121715160147,"tap":1.0,"pf":-2.3850151704139404},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":-0.19072975925392283,"shift":0.0,"pt":2.30695252928415,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":0.33839436422178953,"g_to":0.0,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"br_status":1,"xcoord_2":-1.175685638583148,"t_bus":5,"b_to":0.01563,"index":3,"qf":1.6681806796807268,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"qt":-1.659305424682961,"ycoord_1":0.7423808393794447,"tap":1.0,"pf":-2.3024635830707347}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":1.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["load","2"],"xcoord_1":0.7703952089211583,"ycoord_1":-0.7710794080878717,"src":["bus","3"],"xcoord_2":1.3017422893294641,"ycoord_2":-0.863012898047078,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","1"],"xcoord_1":-0.19072975925392283,"ycoord_1":0.7423808393794447,"src":["bus","1"],"xcoord_2":0.07441293806694427,"ycoord_2":1.2106750191828706,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["gen","5"],"xcoord_1":-1.175685638583148,"ycoord_1":0.33839436422178953,"src":["bus","5"],"xcoord_2":-1.6937832139067508,"ycoord_2":0.4462684898936512,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":0.9765711508101921,"ycoord_1":0.4069013117799958,"src":["bus","2"],"xcoord_2":1.4369373932097802,"ycoord_2":0.6832463314274738,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":-0.19072975925392283,"ycoord_1":0.7423808393794447,"src":["bus","1"],"xcoord_2":-0.5148331469525493,"ycoord_2":1.1887653229665982,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":-0.41336926436500965,"ycoord_1":-0.42969121715160147,"src":["bus","4"],"xcoord_2":-0.912092088487916,"ycoord_2":-0.6633845009715704,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":0.7703952089211583,"ycoord_1":-0.7710794080878717,"src":["bus","3"],"xcoord_2":0.7965222085750762,"ycoord_2":-1.3246073296677765,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":-0.41336926436500965,"ycoord_1":-0.42969121715160147,"src":["bus","4"],"xcoord_2":-0.45608807736332213,"ycoord_2":-0.9648563249259219,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"zone":1,"xcoord_1":-0.41336926436500965,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","area":1,"vmin":0.9,"index":4,"va":3.0011249588433605e-34,"vm":1.0641372650398622,"ycoord_1":-0.42969121715160147,"base_kv":230.0},{"zone":1,"xcoord_1":-0.19072975925392283,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","area":1,"vmin":0.9,"index":1,"va":0.04893523154080718,"vm":1.0776176598939082,"ycoord_1":0.7423808393794447,"base_kv":230.0},{"zone":1,"xcoord_1":-1.175685638583148,"bus_i":5,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 5]","area":1,"vmin":0.9,"index":5,"va":0.06266338865132748,"vm":1.0690706715648242,"ycoord_1":0.33839436422178953,"base_kv":230.0},{"zone":1,"xcoord_1":0.9765711508101921,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","area":1,"vmin":0.9,"index":2,"va":-0.012821961258610876,"vm":1.0840647498948062,"ycoord_1":0.4069013117799958,"base_kv":230.0},{"zone":1,"xcoord_1":0.7703952089211583,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","area":1,"vmin":0.9,"index":3,"va":-0.009769052952967254,"vm":1.1000000103611551,"ycoord_1":-0.7710794080878717,"base_kv":230.0}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":-6.518512079415083e-9,"model":2,"shutdown":0.0,"xcoord_1":-0.912092088487916,"startup":0.0,"qg":-0.10802299989952026,"gen_bus":4,"pmax":2.0,"pg_cost":-2.6074048317660333e-5,"ComponentType":"gen","vg":1.0,"mbase":100.0,"source_id":"Any[\"gen\", 4]","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.6633845009715704,"pmin":0.0,"ncost":2},{"pg":0.4000000096584895,"model":2,"shutdown":0.0,"xcoord_1":0.07441293806694427,"startup":0.0,"qg":0.3000000071925904,"gen_bus":1,"pmax":0.4,"pg_cost":560.0000135218853,"ComponentType":"gen","vg":1.0,"mbase":100.0,"source_id":"Any[\"gen\", 1]","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":1.2106750191828706,"pmin":0.0,"ncost":2},{"pg":4.706935996995655,"model":2,"shutdown":0.0,"xcoord_1":-1.6937832139067508,"startup":0.0,"qg":-1.6503940705217448,"gen_bus":5,"pmax":6.0,"pg_cost":4706.935996995655,"ComponentType":"gen","vg":1.0,"mbase":100.0,"source_id":"Any[\"gen\", 5]","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":0.4462684898936512,"pmin":0.0,"ncost":2},{"pg":1.7000000164820057,"model":2,"shutdown":0.0,"xcoord_1":-0.5148331469525493,"startup":0.0,"qg":1.2750000099425902,"gen_bus":1,"pmax":1.7,"pg_cost":2550.0000247230087,"ComponentType":"gen","vg":1.0,"mbase":100.0,"source_id":"Any[\"gen\", 2]","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":1.1887653229665982,"pmin":0.0,"ncost":2},{"pg":3.244984943142752,"model":2,"shutdown":0.0,"xcoord_1":0.7965222085750762,"startup":0.0,"qg":3.900000029463905,"gen_bus":3,"pmax":5.2,"pg_cost":9734.954829428256,"ComponentType":"gen","vg":1.0,"mbase":100.0,"source_id":"Any[\"gen\", 3]","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":-1.3246073296677765,"pmin":0.0,"ncost":2}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","load_bus":2,"status":1,"xcoord_1":1.4369373932097802,"ycoord_1":0.6832463314274738,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","load_bus":3,"status":1,"xcoord_1":1.3017422893294641,"ycoord_1":-0.863012898047078,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","load_bus":4,"status":1,"xcoord_1":-0.45608807736332213,"ycoord_1":-0.9648563249259219,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Multinetworks"><a class="docs-heading-anchor" href="#Multinetworks">Multinetworks</a><a id="Multinetworks-1"></a><a class="docs-heading-anchor-permalink" href="#Multinetworks" title="Permalink"></a></h1><p><code>powerplot</code> detects if a network is a multinetwork and will create a slider to select which network to view.</p><pre><code class="language-julia hljs">data_mn = PowerModels.replicate(data, 5)

# create random data for each time period
for (nwid,nw) in data_mn[&quot;nw&quot;]
    for (branchid,branch) in nw[&quot;branch&quot;]
        branch[&quot;value&quot;] = rand()
    end
end

powerplot(data_mn, branch=(:data=&gt;:value, :data_type=&gt;:quantitative))</code></pre><div id='vle8eef4c5ad7f435f859a815bca6ea1f0' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vle8eef4c5ad7f435f859a815bca6ea1f0',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"params":[{"name":"nwid","value":1,"bind":{"input":"range","min":1,"max":5,"step":1}}],"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.11354214758146172,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.5204170970045832,"g_to":0.0,"value":0.5831214514589373,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"nw_id":"4","br_status":1,"xcoord_2":-0.9577532382597638,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":1.0518404924718237,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":1.0518404924718237,"g_to":0.0,"value":0.3218822823718166,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"nw_id":"4","br_status":1,"xcoord_2":0.11354214758146172,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.9999020167888577,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5450356182477231,"g_to":0.0,"value":0.7757945032645208,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"nw_id":"4","br_status":1,"xcoord_2":-0.3371394600530047,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.4935195047609382,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5181380260040781,"g_to":0.0,"value":0.3733670260391163,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"nw_id":"4","br_status":1,"xcoord_2":-0.2949906815239108,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.9156044597306698,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.49124043376043314,"g_to":0.0,"value":0.4585727143448175,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"nw_id":"4","br_status":1,"xcoord_2":-0.25284190299481685,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.5473146892482281,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.2949906815239108,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-1.0316469623662792,"g_to":0.0,"value":0.5918804735838163,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"nw_id":"4","br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5181380260040781,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-1.0316469623662792,"g_to":0.0,"value":0.5366549869701636,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"nw_id":"4","br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.11354214758146172,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.5204170970045832,"g_to":0.0,"value":0.27798258527674025,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"nw_id":"1","br_status":1,"xcoord_2":-0.9577532382597638,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":1.0518404924718237,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":1.0518404924718237,"g_to":0.0,"value":0.3607904763376174,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"nw_id":"1","br_status":1,"xcoord_2":0.11354214758146172,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.9999020167888577,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5450356182477231,"g_to":0.0,"value":0.8739694691851345,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"nw_id":"1","br_status":1,"xcoord_2":-0.3371394600530047,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.4935195047609382,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5181380260040781,"g_to":0.0,"value":0.8215366380507598,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"nw_id":"1","br_status":1,"xcoord_2":-0.2949906815239108,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.9156044597306698,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.49124043376043314,"g_to":0.0,"value":0.4614384606013443,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"nw_id":"1","br_status":1,"xcoord_2":-0.25284190299481685,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.5473146892482281,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.2949906815239108,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-1.0316469623662792,"g_to":0.0,"value":0.9612494839002876,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"nw_id":"1","br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5181380260040781,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-1.0316469623662792,"g_to":0.0,"value":0.2088253302378742,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"nw_id":"1","br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.11354214758146172,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.5204170970045832,"g_to":0.0,"value":0.14931353267480318,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"nw_id":"5","br_status":1,"xcoord_2":-0.9577532382597638,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":1.0518404924718237,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":1.0518404924718237,"g_to":0.0,"value":0.4623657688971984,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"nw_id":"5","br_status":1,"xcoord_2":0.11354214758146172,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.9999020167888577,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5450356182477231,"g_to":0.0,"value":0.9801769923003674,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"nw_id":"5","br_status":1,"xcoord_2":-0.3371394600530047,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.4935195047609382,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5181380260040781,"g_to":0.0,"value":0.013690748489794458,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"nw_id":"5","br_status":1,"xcoord_2":-0.2949906815239108,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.9156044597306698,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.49124043376043314,"g_to":0.0,"value":0.07776416718557388,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"nw_id":"5","br_status":1,"xcoord_2":-0.25284190299481685,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.5473146892482281,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.2949906815239108,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-1.0316469623662792,"g_to":0.0,"value":0.3235238994178071,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"nw_id":"5","br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5181380260040781,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-1.0316469623662792,"g_to":0.0,"value":0.5261841897386825,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"nw_id":"5","br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.11354214758146172,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.5204170970045832,"g_to":0.0,"value":0.36216808213402607,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"nw_id":"2","br_status":1,"xcoord_2":-0.9577532382597638,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":1.0518404924718237,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":1.0518404924718237,"g_to":0.0,"value":0.4025250262979514,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"nw_id":"2","br_status":1,"xcoord_2":0.11354214758146172,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.9999020167888577,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5450356182477231,"g_to":0.0,"value":0.6350781153347407,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"nw_id":"2","br_status":1,"xcoord_2":-0.3371394600530047,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.4935195047609382,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5181380260040781,"g_to":0.0,"value":0.2807905394506318,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"nw_id":"2","br_status":1,"xcoord_2":-0.2949906815239108,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.9156044597306698,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.49124043376043314,"g_to":0.0,"value":0.3642950297571679,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"nw_id":"2","br_status":1,"xcoord_2":-0.25284190299481685,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.5473146892482281,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.2949906815239108,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-1.0316469623662792,"g_to":0.0,"value":0.14409247454083085,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"nw_id":"2","br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5181380260040781,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-1.0316469623662792,"g_to":0.0,"value":0.37262312594990876,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"nw_id":"2","br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00108,"rate_a":4.26,"xcoord_1":0.11354214758146172,"shift":0.0,"rate_b":4.26,"br_x":0.0108,"rate_c":4.26,"ycoord_2":0.5204170970045832,"g_to":0.0,"value":0.9484072994687199,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 4]","b_fr":0.00926,"f_bus":2,"nw_id":"3","br_status":1,"xcoord_2":-0.9577532382597638,"t_bus":3,"b_to":0.00926,"index":4,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":1.0518404924718237,"tap":1.0},{"br_r":0.00281,"rate_a":4.0,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.0,"br_x":0.0281,"rate_c":4.0,"ycoord_2":1.0518404924718237,"g_to":0.0,"value":0.8047427895900621,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 1]","b_fr":0.00356,"f_bus":1,"nw_id":"3","br_status":1,"xcoord_2":0.11354214758146172,"t_bus":2,"b_to":0.00356,"index":1,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.00297,"rate_a":4.26,"xcoord_1":-0.9999020167888577,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.0297,"rate_c":4.26,"ycoord_2":-0.5450356182477231,"g_to":0.0,"value":0.858268475956196,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 5]","b_fr":0.00337,"f_bus":3,"nw_id":"3","br_status":1,"xcoord_2":-0.3371394600530047,"t_bus":4,"b_to":0.00337,"index":5,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.4935195047609382,"tap":1.05},{"br_r":0.00304,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0304,"rate_c":4.26,"ycoord_2":-0.5181380260040781,"g_to":0.0,"value":0.07675314861277172,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 2]","b_fr":0.00329,"f_bus":1,"nw_id":"3","br_status":1,"xcoord_2":-0.2949906815239108,"t_bus":4,"b_to":0.00329,"index":2,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0},{"br_r":0.003274425,"rate_a":4.26,"xcoord_1":-0.9156044597306698,"shift":0.017453292519943295,"rate_b":4.26,"br_x":0.03274425,"rate_c":4.26,"ycoord_2":-0.49124043376043314,"g_to":0.0,"value":0.01428595018720702,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 6]","b_fr":0.003056689342403628,"f_bus":3,"nw_id":"3","br_status":1,"xcoord_2":-0.25284190299481685,"t_bus":4,"b_to":0.0037154250000000005,"index":6,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":true,"ycoord_1":0.5473146892482281,"tap":0.9523809523809523},{"br_r":0.00297,"rate_a":2.4,"xcoord_1":-0.2949906815239108,"shift":0.0,"rate_b":2.4,"br_x":0.0297,"rate_c":2.4,"ycoord_2":-1.0316469623662792,"g_to":0.0,"value":0.8772553933796583,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 7]","b_fr":0.00337,"f_bus":4,"nw_id":"3","br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.00337,"index":7,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":-0.5181380260040781,"tap":1.0},{"br_r":0.00064,"rate_a":4.26,"xcoord_1":0.7660601789383634,"shift":0.0,"rate_b":4.26,"br_x":0.0064,"rate_c":4.26,"ycoord_2":-1.0316469623662792,"g_to":0.0,"value":0.5126090096495113,"ComponentType":"branch","g_fr":0.0,"source_id":"Any[\"branch\", 3]","b_fr":0.01563,"f_bus":1,"nw_id":"3","br_status":1,"xcoord_2":0.6576168815082458,"t_bus":10,"b_to":0.01563,"index":3,"angmin":-0.5235987755982988,"angmax":0.5235987755982988,"transformer":false,"ycoord_1":0.027391096619237262,"tap":1.0}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"value","type":"quantitative","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}],"transform":[{"filter":"datum.nw_id == nwid"}]},{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","5"],"nw_id":"4","xcoord_1":0.6576168815082458,"ycoord_1":-1.0316469623662792,"src":["bus","10"],"xcoord_2":0.9077340779350687,"ycoord_2":-1.4980123501846083,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"nw_id":"4","xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.139916101382026,"ycoord_2":0.4144260672399051,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"nw_id":"4","xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.1964913926311718,"ycoord_2":1.0039242634037886,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"nw_id":"4","xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.2859802634932218,"ycoord_2":-0.1569344786822235,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"nw_id":"4","xcoord_1":0.11354214758146172,"ycoord_1":1.0518404924718237,"src":["bus","2"],"xcoord_2":0.24823200650093796,"ycoord_2":1.5716187991794095,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"nw_id":"4","xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.4960104648689079,"ycoord_2":0.38858599335911187,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"nw_id":"4","xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.7961188855576364,"ycoord_2":-0.7108254054222607,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"nw_id":"4","xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.3777169944979275,"ycoord_2":-1.0626465866184103,"dst":["load","3"],"ComponentType":"connector"},{"source_id":["gen","5"],"nw_id":"1","xcoord_1":0.6576168815082458,"ycoord_1":-1.0316469623662792,"src":["bus","10"],"xcoord_2":0.9077340779350687,"ycoord_2":-1.4980123501846083,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"nw_id":"1","xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.139916101382026,"ycoord_2":0.4144260672399051,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"nw_id":"1","xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.1964913926311718,"ycoord_2":1.0039242634037886,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"nw_id":"1","xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.2859802634932218,"ycoord_2":-0.1569344786822235,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"nw_id":"1","xcoord_1":0.11354214758146172,"ycoord_1":1.0518404924718237,"src":["bus","2"],"xcoord_2":0.24823200650093796,"ycoord_2":1.5716187991794095,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"nw_id":"1","xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.4960104648689079,"ycoord_2":0.38858599335911187,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"nw_id":"1","xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.7961188855576364,"ycoord_2":-0.7108254054222607,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"nw_id":"1","xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.3777169944979275,"ycoord_2":-1.0626465866184103,"dst":["load","3"],"ComponentType":"connector"},{"source_id":["gen","5"],"nw_id":"5","xcoord_1":0.6576168815082458,"ycoord_1":-1.0316469623662792,"src":["bus","10"],"xcoord_2":0.9077340779350687,"ycoord_2":-1.4980123501846083,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"nw_id":"5","xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.139916101382026,"ycoord_2":0.4144260672399051,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"nw_id":"5","xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.1964913926311718,"ycoord_2":1.0039242634037886,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"nw_id":"5","xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.2859802634932218,"ycoord_2":-0.1569344786822235,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"nw_id":"5","xcoord_1":0.11354214758146172,"ycoord_1":1.0518404924718237,"src":["bus","2"],"xcoord_2":0.24823200650093796,"ycoord_2":1.5716187991794095,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"nw_id":"5","xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.4960104648689079,"ycoord_2":0.38858599335911187,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"nw_id":"5","xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.7961188855576364,"ycoord_2":-0.7108254054222607,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"nw_id":"5","xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.3777169944979275,"ycoord_2":-1.0626465866184103,"dst":["load","3"],"ComponentType":"connector"},{"source_id":["gen","5"],"nw_id":"2","xcoord_1":0.6576168815082458,"ycoord_1":-1.0316469623662792,"src":["bus","10"],"xcoord_2":0.9077340779350687,"ycoord_2":-1.4980123501846083,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"nw_id":"2","xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.139916101382026,"ycoord_2":0.4144260672399051,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"nw_id":"2","xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.1964913926311718,"ycoord_2":1.0039242634037886,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"nw_id":"2","xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.2859802634932218,"ycoord_2":-0.1569344786822235,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"nw_id":"2","xcoord_1":0.11354214758146172,"ycoord_1":1.0518404924718237,"src":["bus","2"],"xcoord_2":0.24823200650093796,"ycoord_2":1.5716187991794095,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"nw_id":"2","xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.4960104648689079,"ycoord_2":0.38858599335911187,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"nw_id":"2","xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.7961188855576364,"ycoord_2":-0.7108254054222607,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"nw_id":"2","xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.3777169944979275,"ycoord_2":-1.0626465866184103,"dst":["load","3"],"ComponentType":"connector"},{"source_id":["gen","5"],"nw_id":"3","xcoord_1":0.6576168815082458,"ycoord_1":-1.0316469623662792,"src":["bus","10"],"xcoord_2":0.9077340779350687,"ycoord_2":-1.4980123501846083,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"nw_id":"3","xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.139916101382026,"ycoord_2":0.4144260672399051,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"nw_id":"3","xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.1964913926311718,"ycoord_2":1.0039242634037886,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["gen","1"],"nw_id":"3","xcoord_1":0.7660601789383634,"ycoord_1":0.027391096619237262,"src":["bus","1"],"xcoord_2":1.2859802634932218,"ycoord_2":-0.1569344786822235,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["load","1"],"nw_id":"3","xcoord_1":0.11354214758146172,"ycoord_1":1.0518404924718237,"src":["bus","2"],"xcoord_2":0.24823200650093796,"ycoord_2":1.5716187991794095,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["load","2"],"nw_id":"3","xcoord_1":-0.9577532382597638,"ycoord_1":0.5204170970045832,"src":["bus","3"],"xcoord_2":-1.4960104648689079,"ycoord_2":0.38858599335911187,"dst":["load","2"],"ComponentType":"connector"},{"source_id":["gen","4"],"nw_id":"3","xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.7961188855576364,"ycoord_2":-0.7108254054222607,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","3"],"nw_id":"3","xcoord_1":-0.2949906815239108,"ycoord_1":-0.5181380260040781,"src":["bus","4"],"xcoord_2":-0.3777169944979275,"ycoord_2":-1.0626465866184103,"dst":["load","3"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}},"transform":[{"filter":"datum.nw_id == nwid"}]},{"data":{"values":[{"zone":1,"xcoord_1":-0.2949906815239108,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","nw_id":"4","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5181380260040781,"base_kv":230.0},{"zone":1,"xcoord_1":0.7660601789383634,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","nw_id":"4","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.027391096619237262,"base_kv":230.0},{"zone":1,"xcoord_1":0.6576168815082458,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","nw_id":"4","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-1.0316469623662792,"base_kv":230.0},{"zone":1,"xcoord_1":0.11354214758146172,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","nw_id":"4","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":1.0518404924718237,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9577532382597638,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","nw_id":"4","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.5204170970045832,"base_kv":230.0},{"zone":1,"xcoord_1":-0.2949906815239108,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","nw_id":"1","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5181380260040781,"base_kv":230.0},{"zone":1,"xcoord_1":0.7660601789383634,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","nw_id":"1","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.027391096619237262,"base_kv":230.0},{"zone":1,"xcoord_1":0.6576168815082458,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","nw_id":"1","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-1.0316469623662792,"base_kv":230.0},{"zone":1,"xcoord_1":0.11354214758146172,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","nw_id":"1","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":1.0518404924718237,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9577532382597638,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","nw_id":"1","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.5204170970045832,"base_kv":230.0},{"zone":1,"xcoord_1":-0.2949906815239108,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","nw_id":"5","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5181380260040781,"base_kv":230.0},{"zone":1,"xcoord_1":0.7660601789383634,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","nw_id":"5","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.027391096619237262,"base_kv":230.0},{"zone":1,"xcoord_1":0.6576168815082458,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","nw_id":"5","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-1.0316469623662792,"base_kv":230.0},{"zone":1,"xcoord_1":0.11354214758146172,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","nw_id":"5","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":1.0518404924718237,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9577532382597638,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","nw_id":"5","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.5204170970045832,"base_kv":230.0},{"zone":1,"xcoord_1":-0.2949906815239108,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","nw_id":"2","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5181380260040781,"base_kv":230.0},{"zone":1,"xcoord_1":0.7660601789383634,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","nw_id":"2","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.027391096619237262,"base_kv":230.0},{"zone":1,"xcoord_1":0.6576168815082458,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","nw_id":"2","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-1.0316469623662792,"base_kv":230.0},{"zone":1,"xcoord_1":0.11354214758146172,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","nw_id":"2","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":1.0518404924718237,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9577532382597638,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","nw_id":"2","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.5204170970045832,"base_kv":230.0},{"zone":1,"xcoord_1":-0.2949906815239108,"bus_i":4,"bus_type":3,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 4]","nw_id":"3","area":1,"vmin":0.9,"index":4,"va":0.0,"vm":1.0,"ycoord_1":-0.5181380260040781,"base_kv":230.0},{"zone":1,"xcoord_1":0.7660601789383634,"bus_i":1,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 1]","nw_id":"3","area":1,"vmin":0.9,"index":1,"va":0.048935017968641414,"vm":1.0,"ycoord_1":0.027391096619237262,"base_kv":230.0},{"zone":1,"xcoord_1":0.6576168815082458,"bus_i":10,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 10]","nw_id":"3","area":1,"vmin":0.9,"index":10,"va":0.06266307973312801,"vm":1.0,"ycoord_1":-1.0316469623662792,"base_kv":230.0},{"zone":1,"xcoord_1":0.11354214758146172,"bus_i":2,"bus_type":1,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 2]","nw_id":"3","area":1,"vmin":0.9,"index":2,"va":-0.012822061349776342,"vm":1.08407,"ycoord_1":1.0518404924718237,"base_kv":230.0},{"zone":1,"xcoord_1":-0.9577532382597638,"bus_i":3,"bus_type":2,"vmax":1.1,"ComponentType":"bus","source_id":"Any[\"bus\", 3]","nw_id":"3","area":1,"vmin":0.9,"index":3,"va":-0.00976895688926266,"vm":1.0,"ycoord_1":0.5204170970045832,"base_kv":230.0}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}},"transform":[{"filter":"datum.nw_id == nwid"}]},{"data":{"values":[{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.7961188855576364,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","nw_id":"4","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.7108254054222607,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":1.2859802634932218,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","nw_id":"4","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":-0.1569344786822235,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":0.9077340779350687,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","nw_id":"4","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.4980123501846083,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":1.139916101382026,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","nw_id":"4","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.4144260672399051,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":-1.1964913926311718,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","nw_id":"4","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":1.0039242634037886,"pmin":0.0,"ncost":2},{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.7961188855576364,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","nw_id":"1","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.7108254054222607,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":1.2859802634932218,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","nw_id":"1","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":-0.1569344786822235,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":0.9077340779350687,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","nw_id":"1","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.4980123501846083,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":1.139916101382026,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","nw_id":"1","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.4144260672399051,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":-1.1964913926311718,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","nw_id":"1","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":1.0039242634037886,"pmin":0.0,"ncost":2},{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.7961188855576364,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","nw_id":"5","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.7108254054222607,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":1.2859802634932218,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","nw_id":"5","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":-0.1569344786822235,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":0.9077340779350687,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","nw_id":"5","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.4980123501846083,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":1.139916101382026,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","nw_id":"5","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.4144260672399051,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":-1.1964913926311718,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","nw_id":"5","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":1.0039242634037886,"pmin":0.0,"ncost":2},{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.7961188855576364,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","nw_id":"2","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.7108254054222607,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":1.2859802634932218,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","nw_id":"2","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":-0.1569344786822235,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":0.9077340779350687,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","nw_id":"2","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.4980123501846083,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":1.139916101382026,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","nw_id":"2","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.4144260672399051,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":-1.1964913926311718,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","nw_id":"2","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":1.0039242634037886,"pmin":0.0,"ncost":2},{"pg":0.0,"model":2,"shutdown":0.0,"xcoord_1":-0.7961188855576364,"startup":0.0,"qg":-0.10801999999999999,"gen_bus":4,"pmax":2.0,"ComponentType":"gen","vg":1.06414,"mbase":100.0,"source_id":"Any[\"gen\", 4]","nw_id":"3","index":4,"cost":"[4000.0, 0.0]","qmax":1.5,"gen_status":1,"qmin":-1.5,"ycoord_1":-0.7108254054222607,"pmin":0.0,"ncost":2},{"pg":0.4,"model":2,"shutdown":0.0,"xcoord_1":1.2859802634932218,"startup":0.0,"qg":0.3,"gen_bus":1,"pmax":0.4,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 1]","nw_id":"3","index":1,"cost":"[1400.0, 0.0]","qmax":0.3,"gen_status":1,"qmin":-0.3,"ycoord_1":-0.1569344786822235,"pmin":0.0,"ncost":2},{"pg":4.70694,"model":2,"shutdown":0.0,"xcoord_1":0.9077340779350687,"startup":0.0,"qg":-1.6503899999999998,"gen_bus":10,"pmax":6.0,"ComponentType":"gen","vg":1.06907,"mbase":100.0,"source_id":"Any[\"gen\", 5]","nw_id":"3","index":5,"cost":"[1000.0, 0.0]","qmax":4.5,"gen_status":1,"qmin":-4.5,"ycoord_1":-1.4980123501846083,"pmin":0.0,"ncost":2},{"pg":1.7,"model":2,"shutdown":0.0,"xcoord_1":1.139916101382026,"startup":0.0,"qg":1.275,"gen_bus":1,"pmax":1.7,"ComponentType":"gen","vg":1.07762,"mbase":100.0,"source_id":"Any[\"gen\", 2]","nw_id":"3","index":2,"cost":"[1500.0, 0.0]","qmax":1.275,"gen_status":1,"qmin":-1.275,"ycoord_1":0.4144260672399051,"pmin":0.0,"ncost":2},{"pg":3.24498,"model":2,"shutdown":0.0,"xcoord_1":-1.1964913926311718,"startup":0.0,"qg":3.9,"gen_bus":3,"pmax":5.2,"ComponentType":"gen","vg":1.1,"mbase":100.0,"source_id":"Any[\"gen\", 3]","nw_id":"3","index":3,"cost":"[3000.0, 0.0]","qmax":3.9,"gen_status":1,"qmin":-3.9,"ycoord_1":1.0039242634037886,"pmin":0.0,"ncost":2}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}},"transform":[{"filter":"datum.nw_id == nwid"}]},{"data":{"values":[{"source_id":"Any[\"bus\", 2]","ComponentType":"load","nw_id":"4","load_bus":2,"status":1,"xcoord_1":0.24823200650093796,"ycoord_1":1.5716187991794095,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","nw_id":"4","load_bus":3,"status":1,"xcoord_1":-1.4960104648689079,"ycoord_1":0.38858599335911187,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","nw_id":"4","load_bus":4,"status":1,"xcoord_1":-0.3777169944979275,"ycoord_1":-1.0626465866184103,"qd":1.3147,"pd":4.0,"index":3},{"source_id":"Any[\"bus\", 2]","ComponentType":"load","nw_id":"1","load_bus":2,"status":1,"xcoord_1":0.24823200650093796,"ycoord_1":1.5716187991794095,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","nw_id":"1","load_bus":3,"status":1,"xcoord_1":-1.4960104648689079,"ycoord_1":0.38858599335911187,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","nw_id":"1","load_bus":4,"status":1,"xcoord_1":-0.3777169944979275,"ycoord_1":-1.0626465866184103,"qd":1.3147,"pd":4.0,"index":3},{"source_id":"Any[\"bus\", 2]","ComponentType":"load","nw_id":"5","load_bus":2,"status":1,"xcoord_1":0.24823200650093796,"ycoord_1":1.5716187991794095,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","nw_id":"5","load_bus":3,"status":1,"xcoord_1":-1.4960104648689079,"ycoord_1":0.38858599335911187,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","nw_id":"5","load_bus":4,"status":1,"xcoord_1":-0.3777169944979275,"ycoord_1":-1.0626465866184103,"qd":1.3147,"pd":4.0,"index":3},{"source_id":"Any[\"bus\", 2]","ComponentType":"load","nw_id":"2","load_bus":2,"status":1,"xcoord_1":0.24823200650093796,"ycoord_1":1.5716187991794095,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","nw_id":"2","load_bus":3,"status":1,"xcoord_1":-1.4960104648689079,"ycoord_1":0.38858599335911187,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","nw_id":"2","load_bus":4,"status":1,"xcoord_1":-0.3777169944979275,"ycoord_1":-1.0626465866184103,"qd":1.3147,"pd":4.0,"index":3},{"source_id":"Any[\"bus\", 2]","ComponentType":"load","nw_id":"3","load_bus":2,"status":1,"xcoord_1":0.24823200650093796,"ycoord_1":1.5716187991794095,"qd":0.9861,"pd":3.0,"index":1},{"source_id":"Any[\"bus\", 3]","ComponentType":"load","nw_id":"3","load_bus":3,"status":1,"xcoord_1":-1.4960104648689079,"ycoord_1":0.38858599335911187,"qd":0.9861,"pd":3.0,"index":2},{"source_id":"Any[\"bus\", 4]","ComponentType":"load","nw_id":"3","load_bus":4,"status":1,"xcoord_1":-0.3777169944979275,"ycoord_1":-1.0626465866184103,"qd":1.3147,"pd":4.0,"index":3}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}},"transform":[{"filter":"datum.nw_id == nwid"}]}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="Distribution-Grids"><a class="docs-heading-anchor" href="#Distribution-Grids">Distribution Grids</a><a id="Distribution-Grids-1"></a><a class="docs-heading-anchor-permalink" href="#Distribution-Grids" title="Permalink"></a></h1><p>Open a three-phase distribution system case using <a href="https://github.com/lanl-ansi/PowerModelsDistribution.jl">PowerModelsDistribution.jl</a> and run the command <code>powerplot</code> on the data.</p><p>This dataset includes switches and transformers, which are then visualized in the powerplot.</p><pre><code class="language-julia hljs">using PowerModelsDistribution
using PowerPlots
eng = PowerModelsDistribution.parse_file(&quot;$(joinpath(dirname(pathof(PowerModelsDistribution)), &quot;..&quot;))/test/data/opendss/trans_3w_center_tap.dss&quot;)
powerplot(eng)</code></pre><div id='vl6f6306ca277348d0bf4add7796f33bf2' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl6f6306ca277348d0bf4add7796f33bf2',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"xcoord_1":1.2069636849553114,"f_connections":"[1, 2, 3]","state":"CLOSED","length":0.001,"status":"ENABLED","ycoord_2":0.2351895303551347,"ComponentType":"switch","source_id":"line.switch_1","t_connections":"[1, 2, 3]","f_bus":"node_52","xcoord_2":0.07938246722132433,"dispatchable":"YES","t_bus":"node_1","ycoord_1":0.6329269863425293,"linecode":"3p_code2"}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Switch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"data":{"values":[{"polarity":"[1, 1, -1]","sm_nom":"[100.0, 25.0, 25.0]","tm_lb":"[[0.9], [0.9], [0.9]]","connections":"[[3, 4], [1, 4], [4, 2]]","tm_set":"[[1.0], [1.0], [1.0]]","xcoord_1":0.07938246722132433,"tm_step":"[[0.03125], [0.03125], [0.03125]]","bus":"[\"node_1\", \"tn_3\", \"tn_3\"]","configuration":"ConnConfig[WYE, WYE, WYE]","name":"xfmr_3","status":"ENABLED","ycoord_2":1.40255901421505,"noloadloss":0.002,"cmag":0.0,"xsc":"Union{Missing, Float64}[0.0204, 0.0204, 0.013600000000000001]","source_id":"transformer.xfmr_3","sm_ub":150.0,"ComponentType":"transformer","rw":"[0.006, 0.012, 0.012]","tm_fix":"Vector{Bool}[[1], [1], [1]]","vm_nom":"[7.2, 0.12, 0.12]","xcoord_2":-0.11296776052325058,"tm_ub":"[[1.1], [1.1], [1.1]]","ycoord_1":0.2351895303551347,"controls":null},{"polarity":"[1, 1]","sm_nom":"[10000.0, 10000.0]","tm_lb":"[[0.9, 0.9, 0.9], [0.9, 0.9, 0.9]]","connections":"[[1, 2, 3, 4], [1, 2, 3, 4]]","tm_set":"[[1.0, 1.0, 1.0], [1.0, 1.0, 1.0]]","xcoord_1":3.3071666789586134,"tm_step":"[[0.03125, 0.03125, 0.03125], [0.03125, 0.03125, 0.03125]]","bus":"[\"sourcebus\", \"node_53\"]","configuration":"ConnConfig[WYE, WYE]","name":"subxf","status":"ENABLED","ycoord_2":1.0512369466666187,"noloadloss":0.0,"cmag":0.0,"xsc":"[0.0001]","source_id":"transformer.subxf","sm_ub":15000.0,"ComponentType":"transformer","rw":"[5.0e-6, 5.0e-6]","tm_fix":"Vector{Bool}[[1, 1, 1], [1, 1, 1]]","vm_nom":"[230.0, 12.47]","xcoord_2":2.2879206179411216,"tm_ub":"[[1.1, 1.1, 1.1], [1.1, 1.1, 1.1]]","ycoord_1":1.4562046488063591,"controls":null},{"polarity":"[1, 1]","sm_nom":"[10000.0, 10000.0]","tm_lb":"[[0.9, 0.9, 0.9], [0.9, 0.9, 0.9]]","connections":"[[1, 2, 3, 4], [1, 2, 3, 4]]","tm_set":"[[1.0, 1.0, 1.0], [1.0, 1.0, 1.0]]","xcoord_1":2.2879206179411216,"tm_step":"[[0.03125, 0.03125, 0.03125], [0.03125, 0.03125, 0.03125]]","bus":"[\"node_53\", \"node_52\"]","configuration":"ConnConfig[WYE, WYE]","name":"trans_reg_1","status":"ENABLED","ycoord_2":0.6329269863425293,"noloadloss":0.0,"cmag":0.0,"xsc":"[0.07]","source_id":"transformer.trans_reg_1","sm_ub":15000.0,"ComponentType":"transformer","rw":"[0.002, 0.002]","tm_fix":"Vector{Bool}[[1, 1, 1], [0, 1, 1]]","vm_nom":"[7.2, 7.2]","xcoord_2":1.2069636849553114,"tm_ub":"[[1.1, 1.1, 1.1], [1.1, 1.1, 1.1]]","ycoord_1":1.0512369466666187,"controls":"Dict{String, Any}(\"ctprim\" => [[0.0, 0.0, 0.0], [300.0, 0.0, 0.0]], \"x\" => [[0.0, 0.0, 0.0], [0.0, 0.0, 0.0]], \"r\" => [[0.0, 0.0, 0.0], [0.0, 0.0, 0.0]], \"ptratio\" => [[0.0, 0.0, 0.0], [60.0, 0.0, 0.0]], \"band\" => [[0.0, 0.0, 0.0], [144.0, 0.0, 0.0]], \"vreg\" => [[0.0, 0.0, 0.0], [7500.0, 0.0, 0.0]])"},{"polarity":"[1, 1, -1]","sm_nom":"[100.0, 25.0, 25.0]","tm_lb":"[[0.9], [0.9], [0.9]]","connections":"[[2, 4], [1, 4], [4, 2]]","tm_set":"[[1.0], [1.0], [1.0]]","xcoord_1":0.07938246722132433,"tm_step":"[[0.03125], [0.03125], [0.03125]]","bus":"[\"node_1\", \"tn_2\", \"tn_2\"]","configuration":"ConnConfig[WYE, WYE, WYE]","name":"xfmr_2","status":"ENABLED","ycoord_2":-0.8937455062835997,"noloadloss":0.002,"cmag":0.0,"xsc":"Union{Missing, Float64}[0.0204, 0.0204, 0.013600000000000001]","source_id":"transformer.xfmr_2","sm_ub":150.0,"ComponentType":"transformer","rw":"[0.006, 0.012, 0.012]","tm_fix":"Vector{Bool}[[1], [1], [1]]","vm_nom":"[7.2, 0.12, 0.12]","xcoord_2":0.48795393107141455,"tm_ub":"[[1.1], [1.1], [1.1]]","ycoord_1":0.2351895303551347,"controls":null},{"polarity":"[1, 1, -1]","sm_nom":"[200.0, 25.0, 25.0]","tm_lb":"[[0.9], [0.9], [0.9]]","connections":"[[1, 4], [1, 4], [4, 2]]","tm_set":"[[1.0], [1.0], [1.0]]","xcoord_1":0.07938246722132433,"tm_step":"[[0.03125], [0.03125], [0.03125]]","bus":"[\"node_1\", \"tn_1\", \"tn_1\"]","configuration":"ConnConfig[WYE, WYE, WYE]","name":"xfmr_1","status":"ENABLED","ycoord_2":0.005897175460283367,"noloadloss":0.002,"cmag":0.0,"xsc":"Union{Missing, Float64}[0.0204, 0.0204, 0.013600000000000001]","source_id":"transformer.xfmr_1","sm_ub":300.0,"ComponentType":"transformer","rw":"[0.006, 0.012, 0.012]","tm_fix":"Vector{Bool}[[1], [1], [1]]","vm_nom":"[7.2, 0.12, 0.12]","xcoord_2":-1.1192859554242394,"tm_ub":"[[1.1], [1.1], [1.1]]","ycoord_1":0.2351895303551347,"controls":null}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Transformer","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"data":{"values":[{"xcoord_1":-1.1192859554242394,"f_connections":"[1, 2]","length":9.144000000000002,"status":"ENABLED","ycoord_2":-0.1808893736052954,"ComponentType":"line","source_id":"line.tl_1","t_connections":"[1, 2]","f_bus":"tn_1","xcoord_2":-2.2578493808966513,"t_bus":"tn_4","ycoord_1":0.005897175460283367,"linecode":"2p_code15"},{"xcoord_1":0.9221717822673502,"f_connections":"[1, 2]","length":9.144000000000002,"status":"ENABLED","ycoord_2":-3.0837984268394774,"ComponentType":"line","source_id":"line.tl_5","t_connections":"[1, 2]","f_bus":"tn_5","xcoord_2":1.3979510964898907,"t_bus":"tm_2","ycoord_1":-1.95193278582003,"linecode":"2p_code15"},{"xcoord_1":-0.2418824593659804,"f_connections":"[1, 2]","length":9.144000000000002,"status":"ENABLED","ycoord_2":3.6795484634103786,"ComponentType":"line","source_id":"line.tl_6","t_connections":"[1, 2]","f_bus":"tn_6","xcoord_2":-0.35438939022759214,"t_bus":"tm_3","ycoord_1":2.5425895581901568,"linecode":"2p_code15"},{"xcoord_1":-0.11296776052325058,"f_connections":"[1, 2]","length":9.144000000000002,"status":"ENABLED","ycoord_2":2.5425895581901568,"ComponentType":"line","source_id":"line.tl_3","t_connections":"[1, 2]","f_bus":"tn_3","xcoord_2":-0.2418824593659804,"t_bus":"tn_6","ycoord_1":1.40255901421505,"linecode":"2p_code15"},{"xcoord_1":0.48795393107141455,"f_connections":"[1, 2]","length":9.144000000000002,"status":"ENABLED","ycoord_2":-1.95193278582003,"ComponentType":"line","source_id":"line.tl_2","t_connections":"[1, 2]","f_bus":"tn_2","xcoord_2":0.9221717822673502,"t_bus":"tn_5","ycoord_1":-0.8937455062835997,"linecode":"2p_code15"},{"xcoord_1":-2.2578493808966513,"f_connections":"[1, 2]","length":9.144000000000002,"status":"ENABLED","ycoord_2":-0.3615245663477948,"ComponentType":"line","source_id":"line.tl_4","t_connections":"[1, 2]","f_bus":"tn_4","xcoord_2":-3.4287013309527765,"t_bus":"tm_1","ycoord_1":-0.1808893736052954,"linecode":"2p_code15"}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Line","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["voltage_source","source"],"xcoord_1":3.3071666789586134,"ycoord_1":1.4562046488063591,"src":["bus","sourcebus"],"xcoord_2":3.7829444996101884,"ycoord_2":1.6462221534827752,"dst":["voltage_source","source"],"ComponentType":"connector"},{"source_id":["solar","pv1"],"xcoord_1":-3.4287013309527765,"ycoord_1":-0.3615245663477948,"src":["bus","tm_1"],"xcoord_2":-3.6128718965887834,"ycoord_2":0.14568580712317045,"dst":["solar","pv1"],"ComponentType":"connector"},{"source_id":["load","l1"],"xcoord_1":-3.4287013309527765,"ycoord_1":-0.3615245663477948,"src":["bus","tm_1"],"xcoord_2":-3.9783258890171376,"ycoord_2":-0.4459083605390118,"dst":["load","l1"],"ComponentType":"connector"},{"source_id":["solar","pv2a"],"xcoord_1":1.3979510964898907,"ycoord_1":-3.0837984268394774,"src":["bus","tm_2"],"xcoord_2":1.8768874998738228,"ycoord_2":-3.3849232680733867,"dst":["solar","pv2a"],"ComponentType":"connector"},{"source_id":["solar","pv2b"],"xcoord_1":1.3979510964898907,"ycoord_1":-3.0837984268394774,"src":["bus","tm_2"],"xcoord_2":1.8381669270934835,"ycoord_2":-2.7921226169690914,"dst":["solar","pv2b"],"ComponentType":"connector"},{"source_id":["solar","pv3"],"xcoord_1":-0.35438939022759214,"ycoord_1":3.6795484634103786,"src":["bus","tm_3"],"xcoord_2":0.028012348752208722,"ycoord_2":4.057644874716293,"dst":["solar","pv3"],"ComponentType":"connector"},{"source_id":["load","l2a"],"xcoord_1":1.3979510964898907,"ycoord_1":-3.0837984268394774,"src":["bus","tm_2"],"xcoord_2":0.8806334687772343,"ycoord_2":-3.1894593533947635,"dst":["load","l2a"],"ComponentType":"connector"},{"source_id":["load","l3"],"xcoord_1":-0.35438939022759214,"ycoord_1":3.6795484634103786,"src":["bus","tm_3"],"xcoord_2":-0.809743024952793,"ycoord_2":3.964535534709139,"dst":["load","l3"],"ComponentType":"connector"},{"source_id":["generator","g1"],"xcoord_1":-3.4287013309527765,"ycoord_1":-0.3615245663477948,"src":["bus","tm_1"],"xcoord_2":-3.453602429159479,"ycoord_2":-0.9004361355735696,"dst":["generator","g1"],"ComponentType":"connector"},{"source_id":["load","l2b"],"xcoord_1":1.3979510964898907,"ycoord_1":-3.0837984268394774,"src":["bus","tm_2"],"xcoord_2":1.2734645140967298,"ycoord_2":-3.63550030003187,"dst":["load","l2b"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 4]","xcoord_1":0.48795393107141455,"ycoord_1":-0.8937455062835997,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 3, 4]","xcoord_1":1.2069636849553114,"ycoord_1":0.6329269863425293,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 3, 4]","xcoord_1":0.07938246722132433,"ycoord_1":0.2351895303551347,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 4]","xcoord_1":-0.35438939022759214,"ycoord_1":3.6795484634103786,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 3, 4]","xcoord_1":2.2879206179411216,"ycoord_1":1.0512369466666187,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 4]","xcoord_1":-1.1192859554242394,"ycoord_1":0.005897175460283367,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 4]","xcoord_1":-0.11296776052325058,"ycoord_1":1.40255901421505,"xg":"[0.0]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 3, 4]","xcoord_1":3.3071666789586134,"ycoord_1":1.4562046488063591,"xg":"[0.0]","ComponentType":"bus"},{"rg":"Float64[]","grounded":"Int64[]","status":"ENABLED","terminals":"[1, 2]","xcoord_1":-0.2418824593659804,"ycoord_1":2.5425895581901568,"xg":"Float64[]","ComponentType":"bus"},{"rg":"Float64[]","grounded":"Int64[]","status":"ENABLED","terminals":"[1, 2]","xcoord_1":-2.2578493808966513,"ycoord_1":-0.1808893736052954,"xg":"Float64[]","ComponentType":"bus"},{"rg":"[0.0]","grounded":"[4]","status":"ENABLED","terminals":"[1, 2, 4]","xcoord_1":1.3979510964898907,"ycoord_1":-3.0837984268394774,"xg":"[0.0]","ComponentType":"bus"},{"rg":"Float64[]","grounded":"Int64[]","status":"ENABLED","terminals":"[1, 2]","xcoord_1":0.9221717822673502,"ycoord_1":-1.95193278582003,"xg":"Float64[]","ComponentType":"bus"},{"rg":"Float64[]","grounded":"Int64[]","status":"ENABLED","terminals":"[1, 2]","xcoord_1":-3.4287013309527765,"ycoord_1":-0.3615245663477948,"xg":"Float64[]","ComponentType":"bus"}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"model":"POWER","connections":"[1, 4]","pd_nom":"[12.0]","xcoord_1":0.8806334687772343,"bus":"tm_2","configuration":"WYE","status":"ENABLED","ComponentType":"load","source_id":"load.l2a","vm_nom":0.12,"dispatchable":"NO","qd_nom":"[0.0]","ycoord_1":-3.1894593533947635},{"model":"POWER","connections":"[2, 4]","pd_nom":"[8.0]","xcoord_1":1.2734645140967298,"bus":"tm_2","configuration":"WYE","status":"ENABLED","ComponentType":"load","source_id":"load.l2b","vm_nom":0.12,"dispatchable":"NO","qd_nom":"[0.0]","ycoord_1":-3.63550030003187},{"model":"POWER","connections":"[1, 2, 4]","pd_nom":"[10.0, 10.0]","xcoord_1":-0.809743024952793,"bus":"tm_3","configuration":"WYE","status":"ENABLED","ComponentType":"load","source_id":"load.l3","vm_nom":0.12008885599144216,"dispatchable":"NO","qd_nom":"[0.0, 0.0]","ycoord_1":3.964535534709139},{"model":"POWER","connections":"[1, 2]","pd_nom":"[20.0]","xcoord_1":-3.9783258890171376,"bus":"tm_1","configuration":"DELTA","status":"ENABLED","ComponentType":"load","source_id":"load.l1","vm_nom":0.24,"dispatchable":"NO","qd_nom":"[0.0]","ycoord_1":-0.4459083605390118}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#756BB1","#8E87BF","#A8A2CE","#C1BEDC","#DADAEB"]}}}},{"data":{"values":[{"pg":"[7.0]","connections":"[1, 2]","xcoord_1":-3.453602429159479,"bus":"tm_1","configuration":"DELTA","qg":"[0.0]","status":"ENABLED","ComponentType":"generator","vg":"[0.24]","qg_ub":"[0.0]","phases":1,"source_id":"generator.g1","qg_lb":"[-0.0]","pg_lb":"[0.0]","pg_ub":"[7.0]","control_mode":"FREQUENCYDROOP","ycoord_1":-0.9004361355735696}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Generator","scale":{"range":["#8C6D31","#A3844A","#BA9C62","#D0B37B","#E7CB94"]}}}},{"data":{"values":[{"connections":"[1, 2, 3, 4]","xcoord_1":3.7829444996101884,"xs":"[2.4290989406389443 -0.13692797224545838 -0.13692797224545838 -0.13692797224545838; -0.13692797224545838 2.4290989406389443 -0.13692797224545838 -0.13692797224545838; -0.13692797224545838 -0.13692797224545838 2.4290989406389443 -0.13692797224545838; -0.13692797224545838 -0.13692797224545838 -0.13692797224545838 2.4290989406389443]","bus":"sourcebus","configuration":"WYE","status":"ENABLED","ComponentType":"voltage_source","source_id":"vsource.source","rs":"[0.6671425961638479 0.025635867942747304 0.025635867942747304 0.025635867942747304; 0.025635867942747304 0.6671425961638479 0.025635867942747304 0.025635867942747304; 0.025635867942747304 0.025635867942747304 0.6671425961638479 0.025635867942747304; 0.025635867942747304 0.025635867942747304 0.025635867942747304 0.6671425961638479]","va":"[0.0, -119.99999999999999, 120.00000000000001, 0.0]","vm":"[139.43009000929464, 139.43009000929464, 139.43009000929464, 0.0]","ycoord_1":1.6462221534827752}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Voltage_source","scale":{"range":["#E7298A","#EC4C9B","#F16EAB","#F690BC","#FBB3CC"]}}}},{"data":{"values":[{"pg":"[3.0]","connections":"[1, 2]","xcoord_1":-3.6128718965887834,"bus":"tm_1","configuration":"DELTA","qg":"[0.0]","status":"ENABLED","ComponentType":"solar","vg":"[0.24]","qg_ub":"[0.0]","source_id":"pvsystem.pv1","qg_lb":"[-0.0]","pg_lb":"[0.0]","pg_ub":"[3.0]","ycoord_1":0.14568580712317045},{"pg":"[6.0]","connections":"[1, 4]","xcoord_1":1.8768874998738228,"bus":"tm_2","configuration":"WYE","qg":"[0.0]","status":"ENABLED","ComponentType":"solar","vg":"[0.12]","qg_ub":"[0.0]","source_id":"pvsystem.pv2a","qg_lb":"[-0.0]","pg_lb":"[0.0]","pg_ub":"[6.0]","ycoord_1":-3.3849232680733867},{"pg":"[5.0, 5.0]","connections":"[1, 2, 4]","xcoord_1":0.028012348752208722,"bus":"tm_3","configuration":"WYE","qg":"[0.0, 0.0]","status":"ENABLED","ComponentType":"solar","vg":"[0.14707821048680186, 0.14707821048680186]","qg_ub":"[0.0, 0.0]","source_id":"pvsystem.pv3","qg_lb":"[-0.0, -0.0]","pg_lb":"[0.0, 0.0]","pg_ub":"[5.0, 5.0]","ycoord_1":4.057644874716293},{"pg":"[4.0]","connections":"[2, 4]","xcoord_1":1.8381669270934835,"bus":"tm_2","configuration":"WYE","qg":"[0.0]","status":"ENABLED","ComponentType":"solar","vg":"[0.12]","qg_ub":"[0.0]","source_id":"pvsystem.pv2b","qg_lb":"[-0.0]","pg_lb":"[0.0]","pg_ub":"[4.0]","ycoord_1":-2.7921226169690914}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Solar","scale":{"range":["#FFC108","#FFCC24","#FFD840","#FFE35D","#FFEF79"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><p>The mathematical model of the distribution system can be visualized as well.</p><pre><code class="language-julia hljs">math = transform_data_model(eng)
powerplot(math)</code></pre><div id='vl98e44d2eeaeb4a8cab6e68becf1525df' style="width:100%;height:100%;"></div><script type='text/javascript'>requirejs.config({paths:{'vg-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@6?noext','vega-lib': 'https://cdn.jsdelivr.net/npm/vega-lib?noext','vega-lite': 'https://cdn.jsdelivr.net/npm/vega-lite@4?noext','vega': 'https://cdn.jsdelivr.net/npm/vega@5?noext'}}); require(['vg-embed'],function(vegaEmbed){vegaEmbed('#vl98e44d2eeaeb4a8cab6e68becf1525df',{"width":500,"height":500,"config":{"view":{"stroke":null}},"resolve":{"scale":{"color":"independent"}},"encoding":{"x":{"axis":null},"y":{"axis":null}},"layer":[{"data":{"values":[{"br_r":"[48.005895785812136;;]","xcoord_1":3.9635582809018115,"shift":"[0.0]","f_connections":"[2]","name":"_virtual_branch.transformer.xfmr_2_3","br_x":"[0.0;;]","ycoord_2":-3.102447492932183,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_2_3","b_fr":"[0.0;;]","t_connections":"[2]","f_bus":33,"ComponentType":"branch","br_status":1,"xcoord_2":3.1693734487367555,"b_to":"[0.0;;]","t_bus":31,"index":24,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-3.9653224586608333,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.2754152097119431 0.1677912642412843; 0.1677912642412843 0.2754152097119431]","xcoord_1":4.187888755641933,"shift":null,"f_connections":"[1, 2]","name":"tl_3","br_x":"[-13.367054508272346 -7.598009154470415; -7.598009154470415 -13.367054508272346]","ycoord_2":4.606114130785149,"switch":null,"g_to":"[0.0 0.0; 0.0 0.0]","c_rating_a":"[0.0007199557856794636, 0.0007199557856794636]","vbase":0.11999263094657726,"g_fr":"[0.0 0.0; 0.0 0.0]","source_id":"line.tl_3","b_fr":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_connections":"[1, 2]","f_bus":7,"ComponentType":"branch","br_status":1,"xcoord_2":4.947533710207748,"b_to":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_bus":9,"index":4,"angmin":"[-1.0471975511965976, -1.0471975511965976]","angmax":"[1.0471975511965976, 1.0471975511965976]","transformer":null,"ycoord_1":3.790567195515274,"tap":null,"rate_a":"[Inf, Inf]","rate_b":"[Inf, Inf]","rate_c":"[Inf, Inf]","c_rating_b":"[Inf, Inf]","c_rating_c":"[Inf, Inf]"},{"br_r":"[0.2754152097119431 0.1677912642412843; 0.1677912642412843 0.2754152097119431]","xcoord_1":-2.9802036766369104,"shift":null,"f_connections":"[1, 2]","name":"tl_1","br_x":"[-13.367054508272346 -7.598009154470415; -7.598009154470415 -13.367054508272346]","ycoord_2":-5.598559147003484,"switch":null,"g_to":"[0.0 0.0; 0.0 0.0]","c_rating_a":"[0.0007199557856794636, 0.0007199557856794636]","vbase":0.11999263094657726,"g_fr":"[0.0 0.0; 0.0 0.0]","source_id":"line.tl_1","b_fr":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_connections":"[1, 2]","f_bus":6,"ComponentType":"branch","br_status":1,"xcoord_2":-3.66545240081842,"b_to":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_bus":10,"index":1,"angmin":"[-1.0471975511965976, -1.0471975511965976]","angmax":"[1.0471975511965976, 1.0471975511965976]","transformer":null,"ycoord_1":-4.714141260159121,"tap":null,"rate_a":"[Inf, Inf]","rate_b":"[Inf, Inf]","rate_c":"[Inf, Inf]","c_rating_b":"[Inf, Inf]","c_rating_c":"[Inf, Inf]"},{"br_r":"[48.005895785812136;;]","xcoord_1":4.063993700921055,"shift":"[0.0]","f_connections":"[3]","name":"_virtual_branch.transformer.xfmr_3_3","br_x":"[0.0;;]","ycoord_2":1.907823014570542,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_3_3","b_fr":"[0.0;;]","t_connections":"[3]","f_bus":19,"ComponentType":"branch","br_status":1,"xcoord_2":3.1734728594122474,"b_to":"[0.0;;]","t_bus":17,"index":12,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":2.669324552254574,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[48.005895785812136;;]","xcoord_1":-1.892105367029766,"shift":"[0.0]","f_connections":"[1]","name":"_virtual_branch.transformer.xfmr_1_2","br_x":"[0.0;;]","ycoord_2":-3.3980732875073127,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[3.99950874485597e-6;;]","source_id":"_virtual_branch.transformer.xfmr_1_2","b_fr":"[0.0;;]","t_connections":"[1]","f_bus":38,"ComponentType":"branch","br_status":1,"xcoord_2":-1.2892817485094976,"b_to":"[0.0;;]","t_bus":35,"index":29,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-4.40174138614695,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[1.3347425146627797e-15;;]","xcoord_1":2.6387483736790767,"shift":"[0.0]","f_connections":"[2]","name":"_virtual_branch.transformer.xfmr_2_5","br_x":"[34.00417618161693;;]","ycoord_2":-3.102447492932183,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_2_5","b_fr":"[0.0;;]","t_connections":"[2]","f_bus":30,"ComponentType":"branch","br_status":1,"xcoord_2":3.1693734487367555,"b_to":"[0.0;;]","t_bus":31,"index":20,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-2.1058873007304943,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.00378341736954923 0.00014538299400423797 0.00014538299400423797; 0.00014538299400423797 0.00378341736954923 0.00014538299400423797; 0.00014538299400423797 0.00014538299400423797 0.00378341736954923]","xcoord_1":-9.742444748177125,"shift":null,"f_connections":"[1, 2, 3]","name":"_virtual_branch.voltage_source.source","br_x":"[0.01377560835901102 -0.0007765291431689508 -0.0007765291431689508; -0.0007765291431689508 0.01377560835901102 -0.0007765291431689508; -0.0007765291431689508 -0.0007765291431689508 0.01377560835901102]","ycoord_2":8.295092564487065,"switch":null,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":132.79056191361394,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"voltage_source.source","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":41,"ComponentType":"branch","br_status":1,"xcoord_2":-8.986664564845075,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":8,"index":32,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":null,"ycoord_1":8.97279646175723,"tap":null,"rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.2754152097119431 0.1677912642412843; 0.1677912642412843 0.2754152097119431]","xcoord_1":5.983141102224677,"shift":null,"f_connections":"[1, 2]","name":"tl_5","br_x":"[-13.367054508272346 -7.598009154470415; -7.598009154470415 -13.367054508272346]","ycoord_2":-5.475205605873725,"switch":null,"g_to":"[0.0 0.0; 0.0 0.0]","c_rating_a":"[0.0007199557856794636, 0.0007199557856794636]","vbase":0.11999263094657726,"g_fr":"[0.0 0.0; 0.0 0.0]","source_id":"line.tl_5","b_fr":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_connections":"[1, 2]","f_bus":12,"ComponentType":"branch","br_status":1,"xcoord_2":6.937630274918239,"b_to":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_bus":11,"index":2,"angmin":"[-1.0471975511965976, -1.0471975511965976]","angmax":"[1.0471975511965976, 1.0471975511965976]","transformer":null,"ycoord_1":-4.732537520343694,"tap":null,"rate_a":"[Inf, Inf]","rate_b":"[Inf, Inf]","rate_c":"[Inf, Inf]","c_rating_b":"[Inf, Inf]","c_rating_c":"[Inf, Inf]"},{"br_r":"[0.2754152097119431 0.1677912642412843; 0.1677912642412843 0.2754152097119431]","xcoord_1":-3.66545240081842,"shift":null,"f_connections":"[1, 2]","name":"tl_4","br_x":"[-13.367054508272346 -7.598009154470415; -7.598009154470415 -13.367054508272346]","ycoord_2":-6.51999975667722,"switch":null,"g_to":"[0.0 0.0; 0.0 0.0]","c_rating_a":"[0.0007199557856794636, 0.0007199557856794636]","vbase":0.11999263094657726,"g_fr":"[0.0 0.0; 0.0 0.0]","source_id":"line.tl_4","b_fr":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_connections":"[1, 2]","f_bus":10,"ComponentType":"branch","br_status":1,"xcoord_2":-4.380184928870705,"b_to":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_bus":13,"index":6,"angmin":"[-1.0471975511965976, -1.0471975511965976]","angmax":"[1.0471975511965976, 1.0471975511965976]","transformer":null,"ycoord_1":-5.598559147003484,"tap":null,"rate_a":"[Inf, Inf]","rate_b":"[Inf, Inf]","rate_c":"[Inf, Inf]","c_rating_b":"[Inf, Inf]","c_rating_c":"[Inf, Inf]"},{"br_r":"[6.000736973226517;;]","xcoord_1":1.6959034331497331,"shift":"[0.0]","f_connections":"[2]","name":"_virtual_branch.transformer.xfmr_2_1","br_x":"[0.0;;]","ycoord_2":-2.1058873007304943,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_2_1","b_fr":"[0.0;;]","t_connections":"[2]","f_bus":34,"ComponentType":"branch","br_status":1,"xcoord_2":2.6387483736790767,"b_to":"[0.0;;]","t_bus":30,"index":25,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-1.3499784056476904,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[48.005895785812136;;]","xcoord_1":4.754456808804102,"shift":"[0.0]","f_connections":"[2]","name":"_virtual_branch.transformer.xfmr_2_2","br_x":"[0.0;;]","ycoord_2":-2.3955993764942654,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[1.999754372427985e-6;;]","source_id":"_virtual_branch.transformer.xfmr_2_2","b_fr":"[0.0;;]","t_connections":"[2]","f_bus":32,"ComponentType":"branch","br_status":1,"xcoord_2":3.7294282568349972,"b_to":"[0.0;;]","t_bus":29,"index":23,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-2.9627995253601425,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[-1.668428143328476e-16;;]","xcoord_1":3.7294282568349972,"shift":"[0.0]","f_connections":"[2]","name":"_virtual_branch.transformer.xfmr_2_6","br_x":"[17.00208809080847;;]","ycoord_2":-3.102447492932183,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_2_6","b_fr":"[0.0;;]","t_connections":"[2]","f_bus":29,"ComponentType":"branch","br_status":1,"xcoord_2":3.1693734487367555,"b_to":"[0.0;;]","t_bus":31,"index":22,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-2.3955993764942654,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[48.005895785812136;;]","xcoord_1":3.092174393958444,"shift":"[0.0]","f_connections":"[3]","name":"_virtual_branch.transformer.xfmr_3_2","br_x":"[0.0;;]","ycoord_2":2.4704840246770368,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[1.999754372427985e-6;;]","source_id":"_virtual_branch.transformer.xfmr_3_2","b_fr":"[0.0;;]","t_connections":"[3]","f_bus":18,"ComponentType":"branch","br_status":1,"xcoord_2":2.474293912591579,"b_to":"[0.0;;]","t_bus":15,"index":11,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":3.4732629623101734,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[6.000736973226517;;]","xcoord_1":1.4563405942100285,"shift":"[0.0]","f_connections":"[3]","name":"_virtual_branch.transformer.xfmr_3_1","br_x":"[0.0;;]","ycoord_2":1.3842274462429074,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_3_1","b_fr":"[0.0;;]","t_connections":"[3]","f_bus":20,"ComponentType":"branch","br_status":1,"xcoord_2":2.177519080377471,"b_to":"[0.0;;]","t_bus":16,"index":13,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":0.4229695389739385,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.2754152097119431 0.1677912642412843; 0.1677912642412843 0.2754152097119431]","xcoord_1":5.100283587226729,"shift":null,"f_connections":"[1, 2]","name":"tl_2","br_x":"[-13.367054508272346 -7.598009154470415; -7.598009154470415 -13.367054508272346]","ycoord_2":-4.732537520343694,"switch":null,"g_to":"[0.0 0.0; 0.0 0.0]","c_rating_a":"[0.0007199557856794636, 0.0007199557856794636]","vbase":0.11999263094657726,"g_fr":"[0.0 0.0; 0.0 0.0]","source_id":"line.tl_2","b_fr":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_connections":"[1, 2]","f_bus":1,"ComponentType":"branch","br_status":1,"xcoord_2":5.983141102224677,"b_to":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_bus":12,"index":5,"angmin":"[-1.0471975511965976, -1.0471975511965976]","angmax":"[1.0471975511965976, 1.0471975511965976]","transformer":null,"ycoord_1":-4.0473553683286925,"tap":null,"rate_a":"[Inf, Inf]","rate_b":"[Inf, Inf]","rate_c":"[Inf, Inf]","c_rating_b":"[Inf, Inf]","c_rating_c":"[Inf, Inf]"},{"br_r":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","xcoord_1":-7.48971339548273,"shift":"[0.0, 0.0, 0.0]","f_connections":"[1, 2, 3]","name":"_virtual_branch.transformer.subxf_3","br_x":"[0.003 0.0 0.0; 0.0 0.003 0.0; 0.0 0.0 0.003]","ycoord_2":6.191870969078095,"switch":false,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"_virtual_branch.transformer.subxf_3","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":23,"ComponentType":"branch","br_status":1,"xcoord_2":-6.73326836521044,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":21,"index":15,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":false,"ycoord_1":6.897095022760933,"tap":"[1.0, 1.0, 1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.0;;]","xcoord_1":-0.9417066843216384,"shift":"[0.0]","f_connections":"[1]","name":"_virtual_branch.transformer.xfmr_1_4","br_x":"[17.002088090808464;;]","ycoord_2":-3.3980732875073127,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_1_4","b_fr":"[0.0;;]","t_connections":"[1]","f_bus":36,"ComponentType":"branch","br_status":1,"xcoord_2":-1.2892817485094976,"b_to":"[0.0;;]","t_bus":35,"index":27,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-2.327521786204525,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[3.0003684866132585;;]","xcoord_1":-0.11795598260166454,"shift":"[0.0]","f_connections":"[1]","name":"_virtual_branch.transformer.xfmr_1_1","br_x":"[0.0;;]","ycoord_2":-2.327521786204525,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_1_1","b_fr":"[0.0;;]","t_connections":"[1]","f_bus":40,"ComponentType":"branch","br_status":1,"xcoord_2":-0.9417066843216384,"b_to":"[0.0;;]","t_bus":36,"index":31,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-1.4518091602733705,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[-8.34214071664238e-17;;]","xcoord_1":-1.2892817485094976,"shift":"[0.0]","f_connections":"[1]","name":"_virtual_branch.transformer.xfmr_1_6","br_x":"[8.501044045404235;;]","ycoord_2":-2.8031531794524143,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_1_6","b_fr":"[0.0;;]","t_connections":"[1]","f_bus":35,"ComponentType":"branch","br_status":1,"xcoord_2":-1.9634764598260879,"b_to":"[0.0;;]","t_bus":37,"index":28,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-3.3980732875073127,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.00014999999999999996 0.0 0.0; 0.0 0.00014999999999999996 0.0; 0.0 0.0 0.00014999999999999996]","xcoord_1":-8.243012155912517,"shift":"[0.0, 0.0, 0.0]","f_connections":"[1, 2, 3]","name":"_virtual_branch.transformer.subxf_1","br_x":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","ycoord_2":6.897095022760933,"switch":false,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"_virtual_branch.transformer.subxf_1","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":24,"ComponentType":"branch","br_status":1,"xcoord_2":-7.48971339548273,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":23,"index":16,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":false,"ycoord_1":7.5954743414071295,"tap":"[1.0, 1.0, 1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.00014999999999999996 0.0 0.0; 0.0 0.00014999999999999996 0.0; 0.0 0.0 0.00014999999999999996]","xcoord_1":-5.9705791230163685,"shift":"[0.0, 0.0, 0.0]","f_connections":"[1, 2, 3]","name":"_virtual_branch.transformer.subxf_2","br_x":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","ycoord_2":6.191870969078095,"switch":false,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"_virtual_branch.transformer.subxf_2","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":22,"ComponentType":"branch","br_status":1,"xcoord_2":-6.73326836521044,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":21,"index":14,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":false,"ycoord_1":5.480909474625625,"tap":"[1.0, 1.0, 1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.0;;]","xcoord_1":2.6387483736790767,"shift":"[0.0]","f_connections":"[2]","name":"_virtual_branch.transformer.xfmr_2_4","br_x":"[34.00417618161693;;]","ycoord_2":-2.3955993764942654,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_2_4","b_fr":"[0.0;;]","t_connections":"[2]","f_bus":30,"ComponentType":"branch","br_status":1,"xcoord_2":3.7294282568349972,"b_to":"[0.0;;]","t_bus":29,"index":21,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-2.1058873007304943,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[1.9292492840877436e-7 0.0 0.0; 0.0 1.9292492840877436e-7 0.0; 0.0 0.0 1.9292492840877436e-7]","xcoord_1":-0.1927962917992932,"shift":null,"f_connections":"[1, 2, 3]","name":"_virtual_branch.switch.switch_1","br_x":"[1.9292492840877436e-7 0.0 0.0; 0.0 1.9292492840877436e-7 0.0; 0.0 0.0 1.9292492840877436e-7]","ycoord_2":-0.5638369490088079,"switch":null,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":7.199557856794636,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"switch.switch_1","b_fr":"[2.735714716372968e-13 -5.862245820799217e-14 -5.862245820799217e-14; -5.862245820799217e-14 2.735714716372968e-13 -5.862245820799217e-14; -5.862245820799217e-14 -5.862245820799217e-14 2.735714716372968e-13]","t_connections":"[1, 2, 3]","f_bus":14,"ComponentType":"branch","br_status":1,"xcoord_2":0.7343099686016216,"b_to":"[2.735714716372968e-13 -5.862245820799217e-14 -5.862245820799217e-14; -5.862245820799217e-14 2.735714716372968e-13 -5.862245820799217e-14; -5.862245820799217e-14 -5.862245820799217e-14 2.735714716372968e-13]","t_bus":3,"index":7,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":null,"ycoord_1":0.23811566977429285,"tap":null,"rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[1.3347425146627797e-15;;]","xcoord_1":2.177519080377471,"shift":"[0.0]","f_connections":"[3]","name":"_virtual_branch.transformer.xfmr_3_5","br_x":"[34.00417618161693;;]","ycoord_2":1.907823014570542,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_3_5","b_fr":"[0.0;;]","t_connections":"[3]","f_bus":16,"ComponentType":"branch","br_status":1,"xcoord_2":3.1734728594122474,"b_to":"[0.0;;]","t_bus":17,"index":8,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":1.3842274462429074,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[6.673712573313899e-16;;]","xcoord_1":-0.9417066843216384,"shift":"[0.0]","f_connections":"[1]","name":"_virtual_branch.transformer.xfmr_1_5","br_x":"[17.002088090808464;;]","ycoord_2":-2.8031531794524143,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_1_5","b_fr":"[0.0;;]","t_connections":"[1]","f_bus":36,"ComponentType":"branch","br_status":1,"xcoord_2":-1.9634764598260879,"b_to":"[0.0;;]","t_bus":37,"index":26,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-2.327521786204525,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.02000245657742173 0.0 0.0; 0.0 0.02000245657742173 0.0; 0.0 0.0 0.02000245657742173]","xcoord_1":-1.9639964850027638,"shift":"[0.0, 0.0, 0.0]","f_connections":"[1, 2, 3]","name":"_virtual_branch.transformer.trans_reg_1_2","br_x":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","ycoord_2":2.5709979113986545,"switch":false,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"_virtual_branch.transformer.trans_reg_1_2","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":26,"ComponentType":"branch","br_status":1,"xcoord_2":-2.801065149809842,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":25,"index":17,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":false,"ycoord_1":1.8127982708125934,"tap":"[1.0, 1.0, 1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[-1.668428143328476e-16;;]","xcoord_1":2.474293912591579,"shift":"[0.0]","f_connections":"[3]","name":"_virtual_branch.transformer.xfmr_3_6","br_x":"[17.00208809080847;;]","ycoord_2":1.907823014570542,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_3_6","b_fr":"[0.0;;]","t_connections":"[3]","f_bus":15,"ComponentType":"branch","br_status":1,"xcoord_2":3.1734728594122474,"b_to":"[0.0;;]","t_bus":17,"index":10,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":2.4704840246770368,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.02000245657742173 0.0 0.0; 0.0 0.02000245657742173 0.0; 0.0 0.0 0.02000245657742173]","xcoord_1":-4.4131493015593515,"shift":"[0.0, 0.0, 0.0]","f_connections":"[1, 2, 3]","name":"_virtual_branch.transformer.trans_reg_1_1","br_x":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","ycoord_2":3.3130931215635226,"switch":false,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"_virtual_branch.transformer.trans_reg_1_1","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":28,"ComponentType":"branch","br_status":1,"xcoord_2":-3.6165730436206465,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":27,"index":19,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":false,"ycoord_1":4.044869015210857,"tap":"[1.0, 1.0, 1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.0;;]","xcoord_1":2.177519080377471,"shift":"[0.0]","f_connections":"[3]","name":"_virtual_branch.transformer.xfmr_3_4","br_x":"[34.00417618161693;;]","ycoord_2":2.4704840246770368,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_3_4","b_fr":"[0.0;;]","t_connections":"[3]","f_bus":16,"ComponentType":"branch","br_status":1,"xcoord_2":2.474293912591579,"b_to":"[0.0;;]","t_bus":15,"index":9,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":1.3842274462429074,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","xcoord_1":-3.6165730436206465,"shift":"[0.0, 0.0, 0.0]","f_connections":"[1, 2, 3]","name":"_virtual_branch.transformer.trans_reg_1_3","br_x":"[0.7000859802097606 0.0 0.0; 0.0 0.7000859802097606 0.0; 0.0 0.0 0.7000859802097606]","ycoord_2":2.5709979113986545,"switch":false,"g_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","c_rating_a":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"g_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","source_id":"_virtual_branch.transformer.trans_reg_1_3","b_fr":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_connections":"[1, 2, 3]","f_bus":27,"ComponentType":"branch","br_status":1,"xcoord_2":-2.801065149809842,"b_to":"[0.0 0.0 0.0; 0.0 0.0 0.0; 0.0 0.0 0.0]","t_bus":25,"index":18,"angmin":"[-0.17453292519943295, -0.17453292519943295, -0.17453292519943295]","angmax":"[0.17453292519943295, 0.17453292519943295, 0.17453292519943295]","transformer":false,"ycoord_1":3.3130931215635226,"tap":"[1.0, 1.0, 1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[48.005895785812136;;]","xcoord_1":-2.848495841944042,"shift":"[0.0]","f_connections":"[1]","name":"_virtual_branch.transformer.xfmr_1_3","br_x":"[0.0;;]","ycoord_2":-2.8031531794524143,"switch":false,"g_to":"[0.0;;]","c_rating_a":"[Inf]","vbase":0.9999385912214772,"g_fr":"[0.0;;]","source_id":"_virtual_branch.transformer.xfmr_1_3","b_fr":"[0.0;;]","t_connections":"[1]","f_bus":39,"ComponentType":"branch","br_status":1,"xcoord_2":-1.9634764598260879,"b_to":"[0.0;;]","t_bus":37,"index":30,"angmin":"[-0.17453292519943295]","angmax":"[0.17453292519943295]","transformer":false,"ycoord_1":-3.5788714810848545,"tap":"[1.0]","rate_a":null,"rate_b":null,"rate_c":null,"c_rating_b":null,"c_rating_c":null},{"br_r":"[0.2754152097119431 0.1677912642412843; 0.1677912642412843 0.2754152097119431]","xcoord_1":4.947533710207748,"shift":null,"f_connections":"[1, 2]","name":"tl_6","br_x":"[-13.367054508272346 -7.598009154470415; -7.598009154470415 -13.367054508272346]","ycoord_2":5.425200881526578,"switch":null,"g_to":"[0.0 0.0; 0.0 0.0]","c_rating_a":"[0.0007199557856794636, 0.0007199557856794636]","vbase":0.11999263094657726,"g_fr":"[0.0 0.0; 0.0 0.0]","source_id":"line.tl_6","b_fr":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_connections":"[1, 2]","f_bus":9,"ComponentType":"branch","br_status":1,"xcoord_2":5.721708481081132,"b_to":"[6.94871537958734e-13 -1.4890104384830015e-13; -1.4890104384830015e-13 6.94871537958734e-13]","t_bus":4,"index":3,"angmin":"[-1.0471975511965976, -1.0471975511965976]","angmax":"[1.0471975511965976, 1.0471975511965976]","transformer":null,"ycoord_1":4.606114130785149,"tap":null,"rate_a":"[Inf, Inf]","rate_b":"[Inf, Inf]","rate_c":"[Inf, Inf]","c_rating_b":"[Inf, Inf]","c_rating_c":"[Inf, Inf]"}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Branch","scale":{"range":["#31A354","#56B46F","#7CC68A","#A2D8A5","#C7E9C0"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"data":{"values":[{"xcoord_1":-1.0966287285241967,"f_connections":"[1, 2, 3]","state":1,"rate_b":"[Inf, Inf, Inf]","name":"switch_1","thermal_rating":"[Inf, Inf, Inf]","status":1,"rate_c":"[Inf, Inf, Inf]","ycoord_2":0.23811566977429285,"vbase":7.199557856794636,"ComponentType":"switch","c_rating_b":"[Inf, Inf, Inf]","source_id":"switch.switch_1","t_connections":"[1, 2, 3]","f_bus":2,"current_rating":"[0.04319734714076781, 0.04319734714076781, 0.04319734714076781]","xcoord_2":-0.1927962917992932,"dispatchable":1,"t_bus":14,"index":1,"ycoord_1":1.0366365647996292,"c_rating_c":"[Inf, Inf, Inf]"}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Switch","scale":{"range":["#E6550D","#EC7432","#F29258","#F7B17D","#FDD0A2"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"data":{"values":[{"polarity":1,"cm_ub":null,"tm_lb":"[0.9, 0.9, 0.9]","xcoord_1":-8.986664564845075,"tm_set":"[1.0, 1.0, 1.0]","t_vbase":0.5773502691896258,"tm_step":"[0.03125, 0.03125, 0.03125]","f_connections":"[1, 2, 3]","configuration":"WYE","name":"_virtual_transformer.subxf.1","tm_nom":1.0,"status":1,"ycoord_2":7.5954743414071295,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.subxf.1","t_connections":"[1, 2, 3]","f_bus":8,"sm_ub":0.15000000000000002,"tm_fix":"Bool[1, 1, 1]","xcoord_2":-8.243012155912517,"t_bus":24,"index":4,"tm_ub":"[1.1, 1.1, 1.1]","ycoord_1":8.295092564487065,"f_vbase":132.79056191361394,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":0.7343099686016216,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[3]","configuration":"WYE","name":"_virtual_transformer.xfmr_3.1","tm_nom":1.0000000000000002,"status":1,"ycoord_2":0.4229695389739385,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_3.1","t_connections":"[3]","f_bus":3,"sm_ub":0.0015,"tm_fix":"Bool[1]","xcoord_2":1.4563405942100285,"t_bus":20,"index":1,"tm_ub":"[1.1]","ycoord_1":-0.5638369490088079,"f_vbase":7.199557856794636,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":-2.9802036766369104,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[1]","configuration":"WYE","name":"_virtual_transformer.xfmr_1.2","tm_nom":1.0,"status":1,"ycoord_2":-4.40174138614695,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_1.2","t_connections":"[1]","f_bus":6,"sm_ub":0.003,"tm_fix":"Bool[1]","xcoord_2":-1.892105367029766,"t_bus":38,"index":12,"tm_ub":"[1.1]","ycoord_1":-4.714141260159121,"f_vbase":0.11999263094657726,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":4.187888755641933,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[1]","configuration":"WYE","name":"_virtual_transformer.xfmr_3.2","tm_nom":1.0,"status":1,"ycoord_2":3.4732629623101734,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_3.2","t_connections":"[3]","f_bus":7,"sm_ub":0.0015,"tm_fix":"Bool[1]","xcoord_2":3.092174393958444,"t_bus":18,"index":2,"tm_ub":"[1.1]","ycoord_1":3.790567195515274,"f_vbase":0.11999263094657726,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9, 0.9, 0.9]","xcoord_1":-5.195815240536905,"tm_set":"[1.0, 1.0, 1.0]","t_vbase":0.9999385912214771,"tm_step":"[0.03125, 0.03125, 0.03125]","f_connections":"[1, 2, 3]","configuration":"WYE","name":"_virtual_transformer.trans_reg_1.1","tm_nom":0.9999999999999999,"status":1,"ycoord_2":4.044869015210857,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.trans_reg_1.1","t_connections":"[1, 2, 3]","f_bus":5,"sm_ub":0.15000000000000002,"tm_fix":"Bool[1, 1, 1]","xcoord_2":-4.4131493015593515,"t_bus":28,"index":6,"tm_ub":"[1.1, 1.1, 1.1]","ycoord_1":4.768029823520166,"f_vbase":7.199557856794635,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":0.7343099686016216,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[1]","configuration":"WYE","name":"_virtual_transformer.xfmr_1.1","tm_nom":1.0000000000000002,"status":1,"ycoord_2":-1.4518091602733705,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_1.1","t_connections":"[1]","f_bus":3,"sm_ub":0.003,"tm_fix":"Bool[1]","xcoord_2":-0.11795598260166454,"t_bus":40,"index":11,"tm_ub":"[1.1]","ycoord_1":-0.5638369490088079,"f_vbase":7.199557856794636,"controls":null},{"polarity":-1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":-2.9802036766369104,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[2]","configuration":"WYE","name":"_virtual_transformer.xfmr_1.3","tm_nom":1.0,"status":1,"ycoord_2":-3.5788714810848545,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_1.3","t_connections":"[1]","f_bus":6,"sm_ub":0.003,"tm_fix":"Bool[1]","xcoord_2":-2.848495841944042,"t_bus":39,"index":13,"tm_ub":"[1.1]","ycoord_1":-4.714141260159121,"f_vbase":0.11999263094657726,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9, 0.9, 0.9]","xcoord_1":-5.195815240536905,"tm_set":"[1.0, 1.0, 1.0]","t_vbase":0.5773502691896258,"tm_step":"[0.03125, 0.03125, 0.03125]","f_connections":"[1, 2, 3]","configuration":"WYE","name":"_virtual_transformer.subxf.2","tm_nom":1.0,"status":1,"ycoord_2":5.480909474625625,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.subxf.2","t_connections":"[1, 2, 3]","f_bus":5,"sm_ub":0.15000000000000002,"tm_fix":"Bool[1, 1, 1]","xcoord_2":-5.9705791230163685,"t_bus":22,"index":5,"tm_ub":"[1.1, 1.1, 1.1]","ycoord_1":4.768029823520166,"f_vbase":7.199557856794635,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9, 0.9, 0.9]","xcoord_1":-1.0966287285241967,"tm_set":"[1.0, 1.0, 1.0]","t_vbase":0.9999385912214771,"tm_step":"[0.03125, 0.03125, 0.03125]","f_connections":"[1, 2, 3]","configuration":"WYE","name":"_virtual_transformer.trans_reg_1.2","tm_nom":0.9999999999999999,"status":1,"ycoord_2":1.8127982708125934,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.trans_reg_1.2","t_connections":"[1, 2, 3]","f_bus":2,"sm_ub":0.15000000000000002,"tm_fix":"Bool[0, 1, 1]","xcoord_2":-1.9639964850027638,"t_bus":26,"index":7,"tm_ub":"[1.1, 1.1, 1.1]","ycoord_1":1.0366365647996292,"f_vbase":7.199557856794636,"controls":"Dict{String, Any}(\"ctprim\" => [300.0, 0.0, 0.0], \"x\" => [0.0, NaN, NaN], \"r\" => [0.0, NaN, NaN], \"ptratio\" => [60.0, 0.0, 0.0], \"band\" => [1.200073695059751, 0.0, 0.0], \"vreg\" => [62.503838284362025, 0.0, 0.0])"},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":0.7343099686016216,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[2]","configuration":"WYE","name":"_virtual_transformer.xfmr_2.1","tm_nom":1.0000000000000002,"status":1,"ycoord_2":-1.3499784056476904,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_2.1","t_connections":"[2]","f_bus":3,"sm_ub":0.0015,"tm_fix":"Bool[1]","xcoord_2":1.6959034331497331,"t_bus":34,"index":8,"tm_ub":"[1.1]","ycoord_1":-0.5638369490088079,"f_vbase":7.199557856794636,"controls":null},{"polarity":-1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":5.100283587226729,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[2]","configuration":"WYE","name":"_virtual_transformer.xfmr_2.3","tm_nom":1.0,"status":1,"ycoord_2":-3.9653224586608333,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_2.3","t_connections":"[2]","f_bus":1,"sm_ub":0.0015,"tm_fix":"Bool[1]","xcoord_2":3.9635582809018115,"t_bus":33,"index":10,"tm_ub":"[1.1]","ycoord_1":-4.0473553683286925,"f_vbase":0.11999263094657726,"controls":null},{"polarity":1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":5.100283587226729,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[1]","configuration":"WYE","name":"_virtual_transformer.xfmr_2.2","tm_nom":1.0,"status":1,"ycoord_2":-2.9627995253601425,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_2.2","t_connections":"[2]","f_bus":1,"sm_ub":0.0015,"tm_fix":"Bool[1]","xcoord_2":4.754456808804102,"t_bus":32,"index":9,"tm_ub":"[1.1]","ycoord_1":-4.0473553683286925,"f_vbase":0.11999263094657726,"controls":null},{"polarity":-1,"cm_ub":null,"tm_lb":"[0.9]","xcoord_1":4.187888755641933,"tm_set":"[1.0]","t_vbase":0.9999385912214772,"tm_step":"[0.03125]","f_connections":"[2]","configuration":"WYE","name":"_virtual_transformer.xfmr_3.3","tm_nom":1.0,"status":1,"ycoord_2":2.669324552254574,"ComponentType":"transformer","source_id":"_virtual_transformer.transformer.xfmr_3.3","t_connections":"[3]","f_bus":7,"sm_ub":0.0015,"tm_fix":"Bool[1]","xcoord_2":4.063993700921055,"t_bus":19,"index":3,"tm_ub":"[1.1]","ycoord_1":3.790567195515274,"f_vbase":0.11999263094657726,"controls":null}]},"layer":[{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":5},"color":{"field":"ComponentType","type":"nominal","title":"Transformer","scale":{"range":["#CB181D","#D7413E","#E36A5F","#F09280","#FCBBA1"]}}}},{"transform":[{"calculate":"(datum.xcoord_1 + datum.xcoord_2)/2","as":"mid_x"},{"calculate":"(datum.ycoord_1 + datum.ycoord_2)/2","as":"mid_y"},{"calculate":"180*(if(datum.pf >= 0,\n                              atan2(datum.xcoord_2 - datum.xcoord_1, datum.ycoord_2 - datum.ycoord_1),\n                              atan2(datum.xcoord_1 - datum.xcoord_2, datum.ycoord_1 - datum.ycoord_2)\n                          ))/PI","as":"angle"},{"calculate":"if(isValid(datum.pt), abs(datum.pt), 0.0)","as":"power"}],"mark":{"shape":"wedge","filled":true,"tooltip":{"content":"data"},"opacity":0.0,"color":"black","type":"point"},"encoding":{"x":{"type":"quantitative","field":"mid_x"},"y":{"type":"quantitative","field":"mid_y"},"size":{"scale":{"range":[500,3000]},"type":"quantitative","legend":null,"field":"power"},"angle":{"scale":{"domain":[0,360],"range":[0,360]},"type":"quantitative","field":"angle"}}}]},{"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"rule"},"data":{"values":[{"source_id":["gen","1"],"xcoord_1":-4.380184928870705,"ycoord_1":-6.51999975667722,"src":["bus","13"],"xcoord_2":-4.0384485810306225,"ycoord_2":-6.944594995787085,"dst":["gen","1"],"ComponentType":"connector"},{"source_id":["gen","6"],"xcoord_1":-9.742444748177125,"ycoord_1":8.97279646175723,"src":["bus","41"],"xcoord_2":-10.0893023722052,"ycoord_2":9.335670113561662,"dst":["gen","6"],"ComponentType":"connector"},{"source_id":["load","4"],"xcoord_1":-4.380184928870705,"ycoord_1":-6.51999975667722,"src":["bus","13"],"xcoord_2":-4.724362416689102,"ycoord_2":-6.952480027056569,"dst":["load","4"],"ComponentType":"connector"},{"source_id":["gen","4"],"xcoord_1":5.721708481081132,"ycoord_1":5.425200881526578,"src":["bus","4"],"xcoord_2":6.259233935841193,"ycoord_2":5.387394451408147,"dst":["gen","4"],"ComponentType":"connector"},{"source_id":["load","1"],"xcoord_1":6.937630274918239,"ycoord_1":-5.475205605873725,"src":["bus","11"],"xcoord_2":7.20150862308568,"ycoord_2":-5.012070435702252,"dst":["load","1"],"ComponentType":"connector"},{"source_id":["gen","5"],"xcoord_1":6.937630274918239,"ycoord_1":-5.475205605873725,"src":["bus","11"],"xcoord_2":7.101520190506861,"ycoord_2":-6.016488225247664,"dst":["gen","5"],"ComponentType":"connector"},{"source_id":["gen","2"],"xcoord_1":-4.380184928870705,"ycoord_1":-6.51999975667722,"src":["bus","13"],"xcoord_2":-4.868231040893606,"ycoord_2":-6.278114066757325,"dst":["gen","2"],"ComponentType":"connector"},{"source_id":["gen","3"],"xcoord_1":6.937630274918239,"ycoord_1":-5.475205605873725,"src":["bus","11"],"xcoord_2":7.502556173435796,"ycoord_2":-5.5045117754357165,"dst":["gen","3"],"ComponentType":"connector"},{"source_id":["load","3"],"xcoord_1":5.721708481081132,"ycoord_1":5.425200881526578,"src":["bus","4"],"xcoord_2":5.626775106434233,"ycoord_2":5.9549361844652005,"dst":["load","3"],"ComponentType":"connector"},{"source_id":["load","2"],"xcoord_1":6.937630274918239,"ycoord_1":-5.475205605873725,"src":["bus","11"],"xcoord_2":6.551561042091339,"ycoord_2":-5.842653733610586,"dst":["load","2"],"ComponentType":"connector"}]},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"x2":{"type":"quantitative","field":"xcoord_2"},"y":{"type":"quantitative","field":"ycoord_1"},"y2":{"type":"quantitative","field":"ycoord_2"},"size":{"value":3},"strokeDash":{"value":[4,4]},"color":{"field":"ComponentType","type":"nominal","title":"Connector","scale":{"range":["gray"]}}}},{"data":{"values":[{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-8.243012155912517,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":24,"name":"_virtual_bus.transformer.subxf_1","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"ComponentType":"bus","source_id":"transformer.subxf","vmin":"[0.0, 0.0, 0.0]","index":24,"ycoord_1":7.5954743414071295,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":5.721708481081132,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":4,"name":"tm_3","bus_type":2,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tm_3","vmin":"[0.0, 0.0]","index":4,"ycoord_1":5.425200881526578,"base_kv":null,"va_start":"[2.0943951023931953, 5.235987755982989]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":5.100283587226729,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":1,"name":"tn_2","bus_type":1,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tn_2","vmin":"[0.0, 0.0]","index":1,"ycoord_1":-4.0473553683286925,"base_kv":null,"va_start":"[-2.0943951023931953, 1.0471975511965976]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":5.983141102224677,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":12,"name":"tn_5","bus_type":1,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tn_5","vmin":"[0.0, 0.0]","index":12,"ycoord_1":-4.732537520343694,"base_kv":null,"va_start":"[-2.0943951023931953, 1.0471975511965976]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":3.7294282568349972,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":29,"name":"_virtual_bus.transformer.xfmr_2_5","bus_type":1,"terminals":"[2]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_2","vmin":"[0.0]","index":29,"ycoord_1":-2.3955993764942654,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":1.4563405942100285,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":20,"name":"_virtual_bus.transformer.xfmr_3_1","bus_type":1,"terminals":"[3]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_3","vmin":"[0.0]","index":20,"ycoord_1":0.4229695389739385,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":4.754456808804102,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":32,"name":"_virtual_bus.transformer.xfmr_2_2","bus_type":1,"terminals":"[2]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_2","vmin":"[0.0]","index":32,"ycoord_1":-2.9627995253601425,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-1.0966287285241967,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":2,"name":"node_52","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":7.199557856794636,"ComponentType":"bus","source_id":"bus.node_52","vmin":"[0.0, 0.0, 0.0]","index":2,"ycoord_1":1.0366365647996292,"base_kv":null,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":-2.9802036766369104,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":6,"name":"tn_1","bus_type":1,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tn_1","vmin":"[0.0, 0.0]","index":6,"ycoord_1":-4.714141260159121,"base_kv":null,"va_start":"[0.0, 3.141592653589793]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-2.801065149809842,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":25,"name":"_virtual_bus.transformer.trans_reg_1_4","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"ComponentType":"bus","source_id":"transformer.trans_reg_1","vmin":"[0.0, 0.0, 0.0]","index":25,"ycoord_1":2.5709979113986545,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-7.48971339548273,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":23,"name":"_virtual_bus.transformer.subxf_3","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"ComponentType":"bus","source_id":"transformer.subxf","vmin":"[0.0, 0.0, 0.0]","index":23,"ycoord_1":6.897095022760933,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-5.9705791230163685,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":22,"name":"_virtual_bus.transformer.subxf_2","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"ComponentType":"bus","source_id":"transformer.subxf","vmin":"[0.0, 0.0, 0.0]","index":22,"ycoord_1":5.480909474625625,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":6.937630274918239,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":11,"name":"tm_2","bus_type":2,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tm_2","vmin":"[0.0, 0.0]","index":11,"ycoord_1":-5.475205605873725,"base_kv":null,"va_start":"[-2.0943951023931953, 1.0471975511965976]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":-1.2892817485094976,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":35,"name":"_virtual_bus.transformer.xfmr_1_5","bus_type":1,"terminals":"[1]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_1","vmin":"[0.0]","index":35,"ycoord_1":-3.3980732875073127,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":-4.380184928870705,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":13,"name":"tm_1","bus_type":2,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tm_1","vmin":"[0.0, 0.0]","index":13,"ycoord_1":-6.51999975667722,"base_kv":null,"va_start":"[0.0, 3.141592653589793]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-9.742444748177125,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":41,"name":"_virtual_bus.voltage_source.source","bus_type":3,"terminals":"[1, 2, 3]","vmax":"[1.05, 1.05, 1.05]","vbase":132.79056191361394,"ComponentType":"bus","source_id":"voltage_source.source","vmin":"[1.05, 1.05, 1.05]","index":41,"ycoord_1":8.97279646175723,"base_kv":null,"va_start":null,"va":"[0.0, -2.0943951023931953, 2.0943951023931957]","vm":"[1.05, 1.05, 1.05]"},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-5.195815240536905,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":5,"name":"node_53","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":7.199557856794635,"ComponentType":"bus","source_id":"bus.node_53","vmin":"[0.0, 0.0, 0.0]","index":5,"ycoord_1":4.768029823520166,"base_kv":null,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":2.474293912591579,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":15,"name":"_virtual_bus.transformer.xfmr_3_5","bus_type":1,"terminals":"[3]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_3","vmin":"[0.0]","index":15,"ycoord_1":2.4704840246770368,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-3.6165730436206465,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":27,"name":"_virtual_bus.transformer.trans_reg_1_3","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"ComponentType":"bus","source_id":"transformer.trans_reg_1","vmin":"[0.0, 0.0, 0.0]","index":27,"ycoord_1":3.3130931215635226,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":3.1693734487367555,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":31,"name":"_virtual_bus.transformer.xfmr_2_6","bus_type":1,"terminals":"[2]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_2","vmin":"[0.0]","index":31,"ycoord_1":-3.102447492932183,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":3.9635582809018115,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":33,"name":"_virtual_bus.transformer.xfmr_2_3","bus_type":1,"terminals":"[2]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_2","vmin":"[0.0]","index":33,"ycoord_1":-3.9653224586608333,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-4.4131493015593515,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":28,"name":"_virtual_bus.transformer.trans_reg_1_1","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"ComponentType":"bus","source_id":"transformer.trans_reg_1","vmin":"[0.0, 0.0, 0.0]","index":28,"ycoord_1":4.044869015210857,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":2.177519080377471,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":16,"name":"_virtual_bus.transformer.xfmr_3_4","bus_type":1,"terminals":"[3]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_3","vmin":"[0.0]","index":16,"ycoord_1":1.3842274462429074,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-0.1927962917992932,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":14,"name":"_virtual_bus.switch.switch_1","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":7.199557856794636,"ComponentType":"bus","source_id":"switch.switch_1","vmin":"[0.0, 0.0, 0.0]","index":14,"ycoord_1":0.23811566977429285,"base_kv":null,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":-2.848495841944042,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":39,"name":"_virtual_bus.transformer.xfmr_1_3","bus_type":1,"terminals":"[1]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_1","vmin":"[0.0]","index":39,"ycoord_1":-3.5788714810848545,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":-0.11795598260166454,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":40,"name":"_virtual_bus.transformer.xfmr_1_1","bus_type":1,"terminals":"[1]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_1","vmin":"[0.0]","index":40,"ycoord_1":-1.4518091602733705,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-6.73326836521044,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":21,"name":"_virtual_bus.transformer.subxf_4","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.5773502691896258,"ComponentType":"bus","source_id":"transformer.subxf","vmin":"[0.0, 0.0, 0.0]","index":21,"ycoord_1":6.191870969078095,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":-1.892105367029766,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":38,"name":"_virtual_bus.transformer.xfmr_1_2","bus_type":1,"terminals":"[1]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_1","vmin":"[0.0]","index":38,"ycoord_1":-4.40174138614695,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":4.187888755641933,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":7,"name":"tn_3","bus_type":1,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tn_3","vmin":"[0.0, 0.0]","index":7,"ycoord_1":3.790567195515274,"base_kv":null,"va_start":"[2.0943951023931953, 5.235987755982989]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":1.6959034331497331,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":34,"name":"_virtual_bus.transformer.xfmr_2_1","bus_type":1,"terminals":"[2]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_2","vmin":"[0.0]","index":34,"ycoord_1":-1.3499784056476904,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-8.986664564845075,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":8,"name":"sourcebus","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":132.79056191361394,"ComponentType":"bus","source_id":"bus.sourcebus","vmin":"[0.0, 0.0, 0.0]","index":8,"ycoord_1":8.295092564487065,"base_kv":null,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":-0.9417066843216384,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":36,"name":"_virtual_bus.transformer.xfmr_1_4","bus_type":1,"terminals":"[1]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_1","vmin":"[0.0]","index":36,"ycoord_1":-2.327521786204525,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":-1.9639964850027638,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":26,"name":"_virtual_bus.transformer.trans_reg_1_2","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":0.9999385912214771,"ComponentType":"bus","source_id":"transformer.trans_reg_1","vmin":"[0.0, 0.0, 0.0]","index":26,"ycoord_1":1.8127982708125934,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":3.1734728594122474,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":17,"name":"_virtual_bus.transformer.xfmr_3_6","bus_type":1,"terminals":"[3]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_3","vmin":"[0.0]","index":17,"ycoord_1":1.907823014570542,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":-3.66545240081842,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":10,"name":"tn_4","bus_type":1,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tn_4","vmin":"[0.0, 0.0]","index":10,"ycoord_1":-5.598559147003484,"base_kv":null,"va_start":"[0.0, 3.141592653589793]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":4.063993700921055,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":19,"name":"_virtual_bus.transformer.xfmr_3_3","bus_type":1,"terminals":"[3]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_3","vmin":"[0.0]","index":19,"ycoord_1":2.669324552254574,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":-1.9634764598260879,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":37,"name":"_virtual_bus.transformer.xfmr_1_6","bus_type":1,"terminals":"[1]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_1","vmin":"[0.0]","index":37,"ycoord_1":-2.8031531794524143,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0]","xcoord_1":4.947533710207748,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":9,"name":"tn_6","bus_type":1,"terminals":"[1, 2]","vmax":"[Inf, Inf]","vbase":0.11999263094657726,"ComponentType":"bus","source_id":"bus.tn_6","vmin":"[0.0, 0.0]","index":9,"ycoord_1":4.606114130785149,"base_kv":null,"va_start":"[2.0943951023931953, 5.235987755982989]","va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":3.092174393958444,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":18,"name":"_virtual_bus.transformer.xfmr_3_2","bus_type":1,"terminals":"[3]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_3","vmin":"[0.0]","index":18,"ycoord_1":3.4732629623101734,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0]","xcoord_1":2.6387483736790767,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":30,"name":"_virtual_bus.transformer.xfmr_2_4","bus_type":1,"terminals":"[2]","vmax":"[Inf]","vbase":0.9999385912214772,"ComponentType":"bus","source_id":"transformer.xfmr_2","vmin":"[0.0]","index":30,"ycoord_1":-2.1058873007304943,"base_kv":1.0,"va_start":null,"va":null,"vm":null},{"vm_pair_lb":"Tuple{Any, Any, Real}[]","grounded":"Bool[0, 0, 0]","xcoord_1":0.7343099686016216,"vm_pair_ub":"Tuple{Any, Any, Real}[]","bus_i":3,"name":"node_1","bus_type":1,"terminals":"[1, 2, 3]","vmax":"[Inf, Inf, Inf]","vbase":7.199557856794636,"ComponentType":"bus","source_id":"bus.node_1","vmin":"[0.0, 0.0, 0.0]","index":3,"ycoord_1":-0.5638369490088079,"base_kv":null,"va_start":null,"va":null,"vm":null}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Bus","scale":{"range":["#3182BD","#5698CA","#7CAED6","#A1C5E2","#C6DBEF"]}}}},{"data":{"values":[{"pg":"[5.0e-5, 5.0e-5]","model":2,"connections":"[1, 2]","shutdown":0.0,"startup":0.0,"xcoord_1":6.259233935841193,"configuration":"WYE","name":"pv3","qg":"[0.0, 0.0]","gen_bus":4,"pmax":"[5.0e-5, 5.0e-5]","vbase":0.11999263094657726,"ComponentType":"gen","source_id":"solar.pv3","vg":"[0.0012257270244560563, 0.0012257270244560563]","index":4,"cost":"[100.0, 0.0]","gen_status":1,"qmax":"[0.0, 0.0]","qmin":"[-0.0, -0.0]","control_mode":0,"ycoord_1":5.387394451408147,"pmin":"[0.0, 0.0]","ncost":2},{"pg":"[7.000000000000001e-5]","model":2,"connections":"[1]","shutdown":0.0,"startup":0.0,"xcoord_1":-4.0384485810306225,"configuration":"DELTA","name":"g1","qg":"[0.0]","gen_bus":13,"pmax":"[7.000000000000001e-5]","vbase":0.11999263094657726,"ComponentType":"gen","source_id":"generator.g1","vg":null,"index":1,"cost":"[100.0, 0.0]","gen_status":1,"qmax":"[0.0]","qmin":"[-0.0]","control_mode":0,"ycoord_1":-6.944594995787085,"pmin":"[0.0]","ncost":2},{"pg":"[4.0e-5]","model":2,"connections":"[2]","shutdown":0.0,"startup":0.0,"xcoord_1":7.101520190506861,"configuration":"WYE","name":"pv2b","qg":"[0.0]","gen_bus":11,"pmax":"[4.0e-5]","vbase":0.11999263094657726,"ComponentType":"gen","source_id":"solar.pv2b","vg":"[0.0010000614125497923]","index":5,"cost":"[100.0, 0.0]","gen_status":1,"qmax":"[0.0]","qmin":"[-0.0]","control_mode":0,"ycoord_1":-6.016488225247664,"pmin":"[0.0]","ncost":2},{"pg":"[3.0000000000000004e-5]","model":2,"connections":"[1]","shutdown":0.0,"startup":0.0,"xcoord_1":-4.868231040893606,"configuration":"DELTA","name":"pv1","qg":"[0.0]","gen_bus":13,"pmax":"[3.0000000000000004e-5]","vbase":0.11999263094657726,"ComponentType":"gen","source_id":"solar.pv1","vg":"[0.0020001228250995846]","index":2,"cost":"[100.0, 0.0]","gen_status":1,"qmax":"[0.0]","qmin":"[-0.0]","control_mode":0,"ycoord_1":-6.278114066757325,"pmin":"[0.0]","ncost":2},{"pg":"[0.0, 0.0, 0.0]","model":2,"connections":"[1, 2, 3]","shutdown":0.0,"startup":0.0,"xcoord_1":-10.0893023722052,"configuration":"WYE","name":"_virtual_gen.voltage_source.source","qg":"[0.0, 0.0, 0.0]","gen_bus":41,"pmax":"[Inf, Inf, Inf]","vbase":132.79056191361394,"ComponentType":"gen","source_id":"voltage_source.source","vg":"[0.0010500000000000002, 0.0010500000000000002, 0.0010500000000000002]","index":6,"cost":"[100.0, 0.0]","gen_status":1,"qmax":"[Inf, Inf, Inf]","qmin":"[-Inf, -Inf, -Inf]","control_mode":1,"ycoord_1":9.335670113561662,"pmin":"[-Inf, -Inf, -Inf]","ncost":2},{"pg":"[6.000000000000001e-5]","model":2,"connections":"[1]","shutdown":0.0,"startup":0.0,"xcoord_1":7.502556173435796,"configuration":"WYE","name":"pv2a","qg":"[0.0]","gen_bus":11,"pmax":"[6.000000000000001e-5]","vbase":0.11999263094657726,"ComponentType":"gen","source_id":"solar.pv2a","vg":"[0.0010000614125497923]","index":3,"cost":"[100.0, 0.0]","gen_status":1,"qmax":"[0.0]","qmin":"[-0.0]","control_mode":0,"ycoord_1":-5.5045117754357165,"pmin":"[0.0]","ncost":2}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Gen","scale":{"range":["#756BB1","#8E87BF","#A8A2CE","#C1BEDC","#DADAEB"]}}}},{"data":{"values":[{"model":"POWER","connections":"[1]","xcoord_1":-4.724362416689102,"configuration":"DELTA","name":"l1","status":1,"qd":"[0.0]","vbase":0.11999263094657726,"vnom_kv":2.000122825099585,"ComponentType":"load","source_id":"load.l1","load_bus":13,"dispatchable":0,"index":4,"ycoord_1":-6.952480027056569,"pd":"[0.0002]"},{"model":"POWER","connections":"[1]","xcoord_1":7.20150862308568,"configuration":"WYE","name":"l2a","status":1,"qd":"[0.0]","vbase":0.11999263094657726,"vnom_kv":1.0000614125497924,"ComponentType":"load","source_id":"load.l2a","load_bus":11,"dispatchable":0,"index":1,"ycoord_1":-5.012070435702252,"pd":"[0.00012000000000000002]"},{"model":"POWER","connections":"[2]","xcoord_1":6.551561042091339,"configuration":"WYE","name":"l2b","status":1,"qd":"[0.0]","vbase":0.11999263094657726,"vnom_kv":1.0000614125497924,"ComponentType":"load","source_id":"load.l2b","load_bus":11,"dispatchable":0,"index":2,"ycoord_1":-5.842653733610586,"pd":"[8.0e-5]"},{"model":"POWER","connections":"[1, 2]","xcoord_1":5.626775106434233,"configuration":"WYE","name":"l3","status":1,"qd":"[0.0, 0.0]","vbase":0.11999263094657726,"vnom_kv":1.0008019246190856,"ComponentType":"load","source_id":"load.l3","load_bus":4,"dispatchable":0,"index":3,"ycoord_1":5.9549361844652005,"pd":"[0.0001, 0.0001]"}]},"mark":{"tooltip":{"content":"data"},"opacity":1.0,"type":"circle"},"encoding":{"x":{"type":"quantitative","field":"xcoord_1"},"y":{"type":"quantitative","field":"ycoord_1"},"size":{"value":500.0},"color":{"field":"ComponentType","type":"nominal","title":"Load","scale":{"range":["#8C6D31","#A3844A","#BA9C62","#D0B37B","#E7CB94"]}}}}]},{mode:'vega-lite'}).catch(console.warn);})</script><h1 id="File-output"><a class="docs-heading-anchor" href="#File-output">File output</a><a id="File-output-1"></a><a class="docs-heading-anchor-permalink" href="#File-output" title="Permalink"></a></h1><p>Save a file to disk as a PNG, SVG, PDF, or HTML file.  The file name must end with the appropriate extension.</p><pre><code class="language-julia hljs">    save(&quot;powerplot.svg&quot;, p)
    save(&quot;powerplot.png&quot;, p)
    save(&quot;powerplot.pdf&quot;, p)
    save(&quot;powerplot.html&quot;, p)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../advanced examples/">Advanced Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Sunday 27 April 2025 16:31">Sunday 27 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
